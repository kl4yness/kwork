(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{51620:function(e,t,r){"use strict";r.d(t,{Sg:function(){return o},zt:function(){return a}});var n=r(89210);r(8810);var i=r(31240);let s=new(r(97327)).Yd("abstract-provider/5.7.0");class o extends i.dk{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class a{constructor(){s.checkAbstract(new.target,a),(0,i.zG)(this,"_isProvider",!0)}getFeeData(){var e,t,r,s;return e=this,t=void 0,r=void 0,s=function*(){let{block:e,gasPrice:t}=yield(0,i.mE)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,s=null,o=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,o=n.O$.from("1500000000"),s=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:r,maxFeePerGas:s,maxPriorityFeePerGas:o,gasPrice:t}},new(r||(r=Promise))(function(n,i){function o(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((s=s.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}},25561:function(e,t,r){"use strict";r.d(t,{E:function(){return l},b:function(){return u}});var n=r(31240),i=r(97327),s=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let o=new i.Yd("abstract-signer/5.7.0"),a=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],c=[i.Yd.errors.INSUFFICIENT_FUNDS,i.Yd.errors.NONCE_EXPIRED,i.Yd.errors.REPLACEMENT_UNDERPRICED];class l{constructor(){o.checkAbstract(new.target,l),(0,n.zG)(this,"_isSigner",!0)}getBalance(e){return s(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return s(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return s(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield(0,n.mE)(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return s(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield(0,n.mE)(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return s(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return s(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return s(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return s(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return s(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===a.indexOf(t)&&o.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=(0,n.DC)(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&o.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return s(this,void 0,void 0,function*(){let t=yield(0,n.mE)(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>s(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&o.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?o.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&o.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(r&&o.throwError("network does not support EIP-1559",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):o.throwError("failed to get consistent fee data",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(c.indexOf(e.code)>=0)throw e;return o.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",i.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&o.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield(0,n.mE)(t)})}_checkProvider(e){this.provider||o.throwError("missing provider",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class u extends l{constructor(e,t){super(),(0,n.zG)(this,"address",e),(0,n.zG)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{o.throwError(e,i.Yd.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new u(this.address,e)}}},42246:function(e,t,r){"use strict";r.d(t,{Kn:function(){return h},CR:function(){return d}});var n=r(8810),i=r(89210),s=r(25650),o=r(83569);let a=new(r(97327)).Yd("address/5.7.0");function c(e){(0,n.A7)(e,20)||a.throwArgumentError("invalid address","address",e);let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let i=(0,n.lE)((0,s.w)(r));for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&i[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let l={};for(let e=0;e<10;e++)l[String(e)]=String(e);for(let e=0;e<26;e++)l[String.fromCharCode(65+e)]=String(10+e);let u=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);function h(e){let t=null;if("string"!=typeof e&&a.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=c(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&a.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>l[e]).join("");for(;t.length>=u;){let e=t.substring(0,u);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&a.throwArgumentError("bad icap checksum","address",e),t=(0,i.g$)(e.substring(4));t.length<40;)t="0"+t;t=c("0x"+t)}else a.throwArgumentError("invalid address","address",e);return t}function d(e){let t=null;try{t=h(e.from)}catch(t){a.throwArgumentError("missing from address","transaction",e)}let r=(0,n.G1)((0,n.lE)(i.O$.from(e.nonce).toHexString()));return h((0,n.p3)((0,s.w)((0,o.c)([t,r])),12))}},41607:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="bignumber/5.7.0"},89210:function(e,t,r){"use strict";r.d(t,{O$:function(){return f},Zm:function(){return h},g$:function(){return b}});var n=r(44373),i=r.n(n),s=r(8810),o=r(97327),a=r(41607),c=i().BN;let l=new o.Yd(a.i),u={};function h(e){return null!=e&&(f.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||(0,s.A7)(e)||"bigint"==typeof e||(0,s._t)(e))}let d=!1;class f{constructor(e,t){e!==u&&l.throwError("cannot call constructor directly; use BigNumber.from",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return g(y(this).fromTwos(e))}toTwos(e){return g(y(this).toTwos(e))}abs(){return"-"===this._hex[0]?f.from(this._hex.substring(1)):this}add(e){return g(y(this).add(y(e)))}sub(e){return g(y(this).sub(y(e)))}div(e){return f.from(e).isZero()&&m("division-by-zero","div"),g(y(this).div(y(e)))}mul(e){return g(y(this).mul(y(e)))}mod(e){let t=y(e);return t.isNeg()&&m("division-by-zero","mod"),g(y(this).umod(t))}pow(e){let t=y(e);return t.isNeg()&&m("negative-power","pow"),g(y(this).pow(t))}and(e){let t=y(e);return(this.isNegative()||t.isNeg())&&m("unbound-bitwise-result","and"),g(y(this).and(t))}or(e){let t=y(e);return(this.isNegative()||t.isNeg())&&m("unbound-bitwise-result","or"),g(y(this).or(t))}xor(e){let t=y(e);return(this.isNegative()||t.isNeg())&&m("unbound-bitwise-result","xor"),g(y(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&m("negative-width","mask"),g(y(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&m("negative-width","shl"),g(y(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&m("negative-width","shr"),g(y(this).shrn(e))}eq(e){return y(this).eq(y(e))}lt(e){return y(this).lt(y(e))}lte(e){return y(this).lte(y(e))}gt(e){return y(this).gt(y(e))}gte(e){return y(this).gte(y(e))}isNegative(){return"-"===this._hex[0]}isZero(){return y(this).isZero()}toNumber(){try{return y(this).toNumber()}catch(e){m("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return l.throwError("this platform does not support BigInt",o.Yd.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?d||(d=!0,l.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?l.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",o.Yd.errors.UNEXPECTED_ARGUMENT,{}):l.throwError("BigNumber.toString does not accept parameters",o.Yd.errors.UNEXPECTED_ARGUMENT,{})),y(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof f)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new f(u,p(e)):e.match(/^-?[0-9]+$/)?new f(u,p(new c(e))):l.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&m("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&m("overflow","BigNumber.from",e),f.from(String(e));if("bigint"==typeof e)return f.from(e.toString());if((0,s._t)(e))return f.from((0,s.Dv)(e));if(e){if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return f.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&((0,s.A7)(t)||"-"===t[0]&&(0,s.A7)(t.substring(1))))return f.from(t)}}return l.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function p(e){if("string"!=typeof e)return p(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&l.throwArgumentError("invalid hex","value",e),"0x00"===(e=p(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function g(e){return f.from(p(e))}function y(e){let t=f.from(e).toHexString();return"-"===t[0]?new c("-"+t.substring(3),16):new c(t.substring(2),16)}function m(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),l.throwError(e,o.Yd.errors.NUMERIC_FAULT,n)}function b(e){return new c(e,36).toString(16)}},8810:function(e,t,r){"use strict";r.d(t,{lE:function(){return l},zo:function(){return u},xs:function(){return m},E1:function(){return g},p3:function(){return y},$P:function(){return b},$m:function(){return v},Dv:function(){return p},_t:function(){return c},Zq:function(){return o},A7:function(){return d},N:function(){return w},G1:function(){return h}});let n=new(r(97327)).Yd("bytes/5.7.0");function i(e){return!!e.toHexString}function s(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return s(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function o(e){return d(e)&&!(e.length%2)||c(e)}function a(e){return"number"==typeof e&&e==e&&e%1==0}function c(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!a(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!a(r)||r<0||r>=256)return!1}return!0}function l(e,t){if(t||(t={}),"number"==typeof e){n.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),s(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e)&&(e=e.toHexString()),d(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":n.throwArgumentError("hex data is odd-length","value",e));let i=[];for(let e=0;e<r.length;e+=2)i.push(parseInt(r.substring(e,e+2),16));return s(new Uint8Array(i))}return c(e)?s(new Uint8Array(e)):n.throwArgumentError("invalid arrayify value","value",e)}function u(e){let t=e.map(e=>l(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),s(r)}function h(e){let t=l(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function d(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let f="0123456789abcdef";function p(e,t){if(t||(t={}),"number"==typeof e){n.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=f[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e))return e.toHexString();if(d(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":n.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(c(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=f[(240&n)>>4]+f[15&n]}return t}return n.throwArgumentError("invalid hexlify value","value",e)}function g(e){if("string"!=typeof e)e=p(e);else if(!d(e)||e.length%2)return null;return(e.length-2)/2}function y(e,t,r){return("string"!=typeof e?e=p(e):(!d(e)||e.length%2)&&n.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function m(e){let t="0x";return e.forEach(e=>{t+=p(e).substring(2)}),t}function b(e){let t=function(e){"string"!=typeof e&&(e=p(e)),d(e)||n.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(p(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function v(e,t){for("string"!=typeof e?e=p(e):d(e)||n.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&n.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function w(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(o(e)){let r=l(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=p(r.slice(0,32)),t.s=p(r.slice(32,64))):65===r.length?(t.r=p(r.slice(0,32)),t.s=p(r.slice(32,64)),t.v=r[64]):n.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:n.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=p(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let r=function(e,t){(e=l(e)).length>t&&n.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),s(r)}(l(t._vs),32);t._vs=p(r);let i=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&n.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;let o=p(r);null==t.s?t.s=o:t.s!==o&&n.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?n.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&n.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&d(t.r)?t.r=v(t.r,32):n.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&d(t.s)?t.s=v(t.s,32):n.throwArgumentError("signature missing or invalid s","signature",e);let r=l(t.s);r[0]>=128&&n.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);let i=p(r);t._vs&&(d(t._vs)||n.throwArgumentError("signature invalid _vs","signature",e),t._vs=v(t._vs,32)),null==t._vs?t._vs=i:t._vs!==i&&n.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}},52578:function(e,t,r){"use strict";r.d(t,{Bz:function(){return a},_Y:function(){return s},fh:function(){return o},tL:function(){return i}});var n=r(89210);let i=n.O$.from(-1),s=n.O$.from(0),o=n.O$.from(1),a=n.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},30796:function(e,t,r){"use strict";r.d(t,{CH:function(){return eS}});var n=r(8810),i=r(89210),s=r(31240),o=r(97327);let a="abi/5.7.0",c=new o.Yd(a);class l{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){c.throwArgumentError(e,this.localName,t)}}class u{constructor(e){(0,s.zG)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,n.xs)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,n.zo)(e._data))}writeBytes(e){let t=(0,n.lE)(e),r=t.length%this.wordSize;return r&&(t=(0,n.zo)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,n.lE)(i.O$.from(e));return t.length>this.wordSize&&c.throwError("value out-of-bounds",o.Yd.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,n.zo)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class h{constructor(e,t,r,i){(0,s.zG)(this,"_data",(0,n.lE)(e)),(0,s.zG)(this,"wordSize",t||32),(0,s.zG)(this,"_coerceFunc",r),(0,s.zG)(this,"allowLoose",i),this._offset=0}get data(){return(0,n.Dv)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):h.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:c.throwError("data out-of-bounds",o.Yd.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new h(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return i.O$.from(this.readBytes(this.wordSize))}}var d=r(42246),f=r(68711),p=r(25650);class g extends l{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,d.Kn)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,d.Kn)((0,n.$m)(e.readValue().toHexString(),20))}}class y extends l{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let m=new o.Yd(a);function b(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return n||m.throwError("cannot encode object for signature with missing names",o.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&m.throwError("cannot encode object for signature with duplicate names",o.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else m.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&m.throwArgumentError("types/value length mismatch","tuple",r);let i=new u(e.wordSize),s=new u(e.wordSize),a=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();a.push(e=>{n(e+t)})}else e.encode(i,r)}),a.forEach(e=>{e(i.length)}),e.appendWriter(i)+e.appendWriter(s)}function v(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let r=e.readValue(),s=n.subReader(r.toNumber());try{i=t.decode(s)}catch(e){if(e.code===o.Yd.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===o.Yd.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)});let i=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n]||("length"===n&&(n="_length"),null!=r[n]))return;let s=r[t];s instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw s}}):r[n]=s});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class w extends l{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),m.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return b(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&m.throwError("insufficient data length",o.Yd.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new y(this.coder));return e.coerce(this.name,v(e,r))}}class E extends l{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class A extends l{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=(0,n.lE)(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class _ extends A{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,n.Dv)(super.decode(e)))}}class P extends l{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,n.lE)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,n.Dv)(e.readBytes(this.size)))}}class T extends l{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var I=r(52578);class C extends l{constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=i.O$.from(t),n=I.Bz.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(I.fh).mul(I.tL)))&&this._throwError("value out-of-bounds",t)}else(r.lt(I._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var S=r(61728);class O extends A{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,S.Y0)(t))}decode(e){return(0,S.ZN)(super.decode(e))}}class x extends l{constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return b(e,this.coders,t)}decode(e){return e.coerce(this.name,v(e,this.coders))}}let R=new o.Yd(a),M={},B={calldata:!0,memory:!0,storage:!0},N={calldata:!0,memory:!0};function D(e,t){if("bytes"===e||"string"===e){if(B[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&N[t])return!0;return(B[t]||"payable"===t)&&R.throwArgumentError("invalid modifier","name",t),!1}function k(e,t){for(let r in t)(0,s.zG)(e,r,t[r])}let W=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),U=new RegExp(/^(.*)\[([0-9]*)\]$/);class F{constructor(e,t){e!==M&&R.throwError("use fromString",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),k(this,t);let r=this.type.match(U);r?k(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:F.fromObject({type:r[1],components:this.components}),baseType:"array"}):k(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=W.sighash),W[e]||R.throwArgumentError("invalid format type","format",e),e===W.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?t+=this.arrayChildren.format(e)+"["+(this.arrayLength<0?"":String(this.arrayLength))+"]":"tuple"===this.baseType?(e!==W.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===W.full?", ":",")+")"):t+=this.type,e!==W.sighash&&(!0===this.indexed&&(t+=" indexed"),e===W.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?F.fromString(e,t):F.fromObject(e)}static fromObject(e){return F.isParamType(e)?e:new F(M,{name:e.name||null,type:Z(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(F.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function n(t){R.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let r=0;r<e.length;r++){let s=e[r];switch(s){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(r),o.state.allowType=!1,o.type=Z(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),D(o.type,o.name)&&(o.name=""),o.type=Z(o.type);let a=o;(o=o.parent)||n(r),delete a.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),D(o.type,o.name)&&(o.name=""),o.type=Z(o.type);let c=i(o.parent);o.parent.components.push(c),delete o.parent,o=c;break;case" ":o.state.allowType&&""!==o.type&&(o.type=Z(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(r),o.indexed&&n(r),o.indexed=!0,o.name=""):D(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(r),o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(r),o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=s,delete o.state.allowArray):o.state.readArray?o.type+=s:n(r)}}return o.parent&&R.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):D(o.type,o.name)&&(o.name=""),s.type=Z(s.type),s}(e,!!t),F.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function L(e,t){return(function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let s=e[i];","===s&&0===n?(t.push(r),r=""):(r+=s,"("===s?n++:")"===s&&-1==--n&&R.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>F.fromString(e,t))}class j{constructor(e,t){e!==M&&R.throwError("use a static from method",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),k(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return j.isFragment(e)?e:"string"==typeof e?j.fromString(e):j.fromObject(e)}static fromObject(e){if(j.isFragment(e))return e;switch(e.type){case"function":return G.fromObject(e);case"event":return z.fromObject(e);case"constructor":return H.fromObject(e);case"error":return J.fromObject(e);case"fallback":case"receive":return null}return R.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?z.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?G.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?H.fromString(e.trim()):"error"===e.split(" ")[0]?J.fromString(e.substring(5).trim()):R.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class z extends j{format(e){if(e||(e=W.sighash),W[e]||R.throwArgumentError("invalid format type","format",e),e===W.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==W.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===W.full?", ":",")+") ",e!==W.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?z.fromString(e):z.fromObject(e)}static fromObject(e){return z.isEventFragment(e)?e:("event"!==e.type&&R.throwArgumentError("invalid event object","value",e),new z(M,{name:Q(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(F.fromObject):[],type:"event"}))}static fromString(e){let t=e.match(X);t||R.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:R.warn("unknown modifier: "+e)}}),z.fromObject({name:t[1].trim(),anonymous:r,inputs:L(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function $(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&R.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||R.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=i.O$.from(r[1]),r[0]):e}function q(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function V(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&R.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&R.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||R.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&R.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&R.throwArgumentError("unable to determine stateMutability","value",e),t}class H extends j{format(e){if(e||(e=W.sighash),W[e]||R.throwArgumentError("invalid format type","format",e),e===W.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===W.sighash&&R.throwError("cannot format a constructor for sighash",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===W.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?H.fromString(e):H.fromObject(e)}static fromObject(e){if(H.isConstructorFragment(e))return e;"constructor"!==e.type&&R.throwArgumentError("invalid constructor object","value",e);let t=V(e);return t.constant&&R.throwArgumentError("constructor cannot be constant","value",e),new H(M,{name:null,type:e.type,inputs:e.inputs?e.inputs.map(F.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?i.O$.from(e.gas):null})}static fromString(e){let t={type:"constructor"},r=(e=$(e,t)).match(X);return r&&"constructor"===r[1].trim()||R.throwArgumentError("invalid constructor string","value",e),t.inputs=L(r[2].trim(),!1),q(r[3].trim(),t),H.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class G extends H{format(e){if(e||(e=W.sighash),W[e]||R.throwArgumentError("invalid format type","format",e),e===W.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==W.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===W.full?", ":",")+") ",e!==W.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?G.fromString(e):G.fromObject(e)}static fromObject(e){if(G.isFunctionFragment(e))return e;"function"!==e.type&&R.throwArgumentError("invalid function object","value",e);let t=V(e);return new G(M,{type:e.type,name:Q(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(F.fromObject):[],outputs:e.outputs?e.outputs.map(F.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?i.O$.from(e.gas):null})}static fromString(e){let t={type:"function"},r=(e=$(e,t)).split(" returns ");r.length>2&&R.throwArgumentError("invalid function string","value",e);let n=r[0].match(X);if(n||R.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&Q(t.name),t.inputs=L(n[2],!1),q(n[3].trim(),t),r.length>1){let n=r[1].match(X);(""!=n[1].trim()||""!=n[3].trim())&&R.throwArgumentError("unexpected tokens","value",e),t.outputs=L(n[2],!1)}else t.outputs=[];return G.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function K(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&R.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class J extends j{format(e){if(e||(e=W.sighash),W[e]||R.throwArgumentError("invalid format type","format",e),e===W.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==W.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===W.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?J.fromString(e):J.fromObject(e)}static fromObject(e){return J.isErrorFragment(e)?e:("error"!==e.type&&R.throwArgumentError("invalid error object","value",e),K(new J(M,{type:e.type,name:Q(e.name),inputs:e.inputs?e.inputs.map(F.fromObject):[]})))}static fromString(e){let t={type:"error"},r=e.match(X);return r||R.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&Q(t.name),t.inputs=L(r[2],!1),K(J.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function Z(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let Y=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Q(e){return e&&e.match(Y)||R.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let X=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),ee=new o.Yd(a),et=new RegExp(/^bytes([0-9]*)$/),er=new RegExp(/^(u?int)([0-9]*)$/);class en{constructor(e){(0,s.zG)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new g(e.name);case"bool":return new E(e.name);case"string":return new O(e.name);case"bytes":return new _(e.name);case"array":return new w(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new x((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new T(e.name)}let t=e.type.match(er);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&ee.throwArgumentError("invalid "+t[1]+" bit length","param",e),new C(r/8,"int"===t[1],e.name)}if(t=e.type.match(et)){let r=parseInt(t[1]);return(0===r||r>32)&&ee.throwArgumentError("invalid bytes length","param",e),new P(r,e.name)}return ee.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new h(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new u(this._getWordSize())}getDefaultValue(e){return new x(e.map(e=>this._getCoder(F.from(e))),"_").defaultValue()}encode(e,t){e.length!==t.length&&ee.throwError("types/values length mismatch",o.Yd.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=new x(e.map(e=>this._getCoder(F.from(e))),"_"),n=this._getWriter();return r.encode(n,t),n.data}decode(e,t,r){return new x(e.map(e=>this._getCoder(F.from(e))),"_").decode(this._getReader((0,n.lE)(t),r))}}let ei=new en,es=new o.Yd(a);class eo extends s.dk{}class ea extends s.dk{}class ec extends s.dk{}class el extends s.dk{static isIndexed(e){return!!(e&&e._isIndexed)}}let eu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function eh(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class ed{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,(0,s.zG)(this,"fragments",t.map(e=>j.from(e)).filter(e=>null!=e)),(0,s.zG)(this,"_abiCoder",(0,s.tu)(new.target,"getAbiCoder")()),(0,s.zG)(this,"functions",{}),(0,s.zG)(this,"errors",{}),(0,s.zG)(this,"events",{}),(0,s.zG)(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){es.warn("duplicate definition - constructor");return}(0,s.zG)(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();if(t[r]){es.warn("duplicate definition - "+r);return}t[r]=e}),this.deploy||(0,s.zG)(this,"deploy",H.from({payable:!1,type:"constructor"})),(0,s.zG)(this,"_isInterface",!0)}format(e){e||(e=W.full),e===W.sighash&&es.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===W.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return ei}static getAddress(e){return(0,d.Kn)(e)}static getSighash(e){return(0,n.p3)((0,f.id)(e.format()),0,4)}static getEventTopic(e){return(0,f.id)(e.format())}getFunction(e){if((0,n.A7)(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];es.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?es.throwArgumentError("no matching function","name",t):r.length>1&&es.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}let t=this.functions[G.fromString(e).format()];return t||es.throwArgumentError("no matching function","signature",e),t}getEvent(e){if((0,n.A7)(e)){let t=e.toLowerCase();for(let e in this.events)if(t===this.getEventTopic(e))return this.events[e];es.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?es.throwArgumentError("no matching event","name",t):r.length>1&&es.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}let t=this.events[z.fromString(e).format()];return t||es.throwArgumentError("no matching event","signature",e),t}getError(e){if((0,n.A7)(e)){let t=(0,s.tu)(this.constructor,"getSighash");for(let r in this.errors)if(e===t(this.errors[r]))return this.errors[r];es.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?es.throwArgumentError("no matching error","name",t):r.length>1&&es.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}let t=this.errors[G.fromString(e).format()];return t||es.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return(0,s.tu)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,s.tu)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=(0,n.lE)(t);return(0,n.Dv)(r.slice(0,4))!==this.getSighash(e)&&es.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,n.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,n.Dv)((0,n.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,n.lE)(t);return(0,n.Dv)(r.slice(0,4))!==this.getSighash(e)&&es.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,n.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,n.Dv)((0,n.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,n.lE)(t),i=null,s="",a=null,c=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{let e=(0,n.Dv)(r.slice(0,4)),t=eu[e];if(t)a=this._abiCoder.decode(t.inputs,r.slice(4)),c=t.name,l=t.signature,t.reason&&(i=a[0]),"Error"===c?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:"Panic"===c&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{let t=this.getError(e);a=this._abiCoder.decode(t.inputs,r.slice(4)),c=t.name,l=t.format()}catch(e){}}}return es.throwError("call revert exception"+s,o.Yd.errors.CALL_EXCEPTION,{method:e.format(),data:(0,n.Dv)(t),errorArgs:a,errorName:c,errorSignature:l,reason:i})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,n.Dv)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&es.throwError("too many arguments for "+e.format(),o.Yd.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));let s=(e,t)=>"string"===e.type?(0,f.id)(t):"bytes"===e.type?(0,p.w)((0,n.Dv)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=i.O$.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,n.$m)((0,n.Dv)(t),32));for(t.forEach((t,n)=>{let i=e.inputs[n];if(!i.indexed){null!=t&&es.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t);return}null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?es.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map(e=>s(i,e))):r.push(s(i,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&es.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{let o=t[s];if(e.indexed){if("string"===e.type)r.push((0,f.id)(o));else if("bytes"===e.type)r.push((0,p.w)(o));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[o]))}else n.push(e),i.push(o)}),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);(0,n.A7)(r[0],32)&&r[0].toLowerCase()===t||es.throwError("fragment/topic mismatch",o.Yd.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(F.fromObject({type:"bytes32",name:e.name})),a.push(!0)):(i.push(e),a.push(!1)):(s.push(e),a.push(!1))});let c=null!=r?this._abiCoder.decode(i,(0,n.zo)(r)):null,l=this._abiCoder.decode(s,t,!0),u=[],h=0,d=0;e.inputs.forEach((e,t)=>{if(e.indexed){if(null==c)u[t]=new el({_isIndexed:!0,hash:null});else if(a[t])u[t]=new el({_isIndexed:!0,hash:c[d++]});else try{u[t]=c[d++]}catch(e){u[t]=e}}else try{u[t]=l[h++]}catch(e){u[t]=e}if(e.name&&null==u[e.name]){let r=u[t];r instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get:()=>{throw eh(`property ${JSON.stringify(e.name)}`,r)}}):u[e.name]=r}});for(let e=0;e<u.length;e++){let t=u[e];t instanceof Error&&Object.defineProperty(u,e,{enumerable:!0,get:()=>{throw eh(`index ${e}`,t)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new ea({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:i.O$.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new eo({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=(0,n.Dv)(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new ec({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}var ef=r(51620),ep=r(25561),eg=r(29917),ey=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let em=new o.Yd("contracts/5.7.0");function eb(e,t){return ey(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&em.throwArgumentError("invalid address or ENS name","name",r);try{return(0,d.Kn)(r)}catch(e){}e||em.throwError("a provider or signer is needed to resolve ENS names",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let n=yield e.resolveName(r);return null==n&&em.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function ev(e,t,r){return ey(this,void 0,void 0,function*(){let a={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(a=(0,s.DC)(r.pop())),em.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?a.from?a.from=(0,s.mE)({override:eb(e.signer,a.from),signer:e.signer.getAddress()}).then(e=>ey(this,void 0,void 0,function*(){return(0,d.Kn)(e.signer)!==e.override&&em.throwError("Contract with a Signer cannot override from",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):a.from=e.signer.getAddress():a.from&&(a.from=eb(e.provider,a.from));let c=yield(0,s.mE)({args:function e(t,r,n){return ey(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((n,i)=>e(t,Array.isArray(r)?r[i]:r[n.name],n))):"address"===n.type?yield eb(t,r):"tuple"===n.type?yield e(t,r,n.components):"array"===n.baseType?Array.isArray(r)?yield Promise.all(r.map(r=>e(t,r,n.arrayChildren))):Promise.reject(em.makeError("invalid value for array",o.Yd.errors.INVALID_ARGUMENT,{argument:"value",value:r})):r})}(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,s.mE)(a)||{}}),l=e.interface.encodeFunctionData(t,c.args),u={data:l,to:c.address},h=c.overrides;if(null!=h.nonce&&(u.nonce=i.O$.from(h.nonce).toNumber()),null!=h.gasLimit&&(u.gasLimit=i.O$.from(h.gasLimit)),null!=h.gasPrice&&(u.gasPrice=i.O$.from(h.gasPrice)),null!=h.maxFeePerGas&&(u.maxFeePerGas=i.O$.from(h.maxFeePerGas)),null!=h.maxPriorityFeePerGas&&(u.maxPriorityFeePerGas=i.O$.from(h.maxPriorityFeePerGas)),null!=h.from&&(u.from=h.from),null!=h.type&&(u.type=h.type),null!=h.accessList&&(u.accessList=(0,eg.z7)(h.accessList)),null==u.gasLimit&&null!=t.gas){let e=21e3,r=(0,n.lE)(l);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);u.gasLimit=i.O$.from(t.gas).add(e)}if(h.value){let e=i.O$.from(h.value);e.isZero()||t.payable||em.throwError("non-payable method cannot override value",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:a.value}),u.value=e}h.customData&&(u.customData=(0,s.DC)(h.customData)),h.ccipReadEnabled&&(u.ccipReadEnabled=!!h.ccipReadEnabled),delete a.nonce,delete a.gasLimit,delete a.gasPrice,delete a.from,delete a.value,delete a.type,delete a.accessList,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas,delete a.customData,delete a.ccipReadEnabled;let f=Object.keys(a).filter(e=>null!=a[e]);return f.length&&em.throwError(`cannot override ${f.map(e=>JSON.stringify(e)).join(",")}`,o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),u})}function ew(e,t,r){let n=e.signer||e.provider;return function(...i){return ey(this,void 0,void 0,function*(){let a;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){let e=(0,s.DC)(i.pop());null!=e.blockTag&&(a=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(a));let c=yield ev(e,t,i),l=yield n.call(c,a);try{let n=e.interface.decodeFunctionResult(t,l);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===o.Yd.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=c),t}})}}function eE(e,t,r){return t.constant?ew(e,t,r):function(...r){return ey(this,void 0,void 0,function*(){e.signer||em.throwError("sending a transaction requires a signer",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let n=yield ev(e,t,r),i=yield e.signer.sendTransaction(n);return function(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=(0,s.p$)(r),i=null;try{i=e.interface.parseLog(r)}catch(e){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}(e,i),i})}}function eA(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class e_{constructor(e,t){(0,s.zG)(this,"tag",e),(0,s.zG)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class eP extends e_{constructor(){super("error",null)}}class eT extends e_{constructor(e,t,r,n){let i={address:e},o=t.getEventTopic(r);n?(o!==n[0]&&em.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(eA(i),i),(0,s.zG)(this,"address",e),(0,s.zG)(this,"interface",t),(0,s.zG)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let t=function(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let s=e.slice();s.push(i);try{r(s,n[i])}catch(e){t.push({path:s,error:e})}}};return r([],e),t}(e.args);if(t.length)throw t[0].error;let r=(e.args||[]).slice();return r.push(e),r}}class eI extends e_{constructor(e,t){super("*",{address:e}),(0,s.zG)(this,"address",e),(0,s.zG)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class eC{constructor(e,t,r){(0,s.zG)(this,"interface",(0,s.tu)(new.target,"getInterface")(t)),null==r?((0,s.zG)(this,"provider",null),(0,s.zG)(this,"signer",null)):ep.E.isSigner(r)?((0,s.zG)(this,"provider",r.provider||null),(0,s.zG)(this,"signer",r)):ef.zt.isProvider(r)?((0,s.zG)(this,"provider",r),(0,s.zG)(this,"signer",null)):em.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,s.zG)(this,"callStatic",{}),(0,s.zG)(this,"estimateGas",{}),(0,s.zG)(this,"functions",{}),(0,s.zG)(this,"populateTransaction",{}),(0,s.zG)(this,"filters",{});{let e={};Object.keys(this.interface.events).forEach(t=>{let r=this.interface.events[t];(0,s.zG)(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{let r=e[t];1===r.length?(0,s.zG)(this.filters,t,this.filters[r[0]]):em.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if((0,s.zG)(this,"_runningEvents",{}),(0,s.zG)(this,"_wrappedEmits",{}),null==e&&em.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,s.zG)(this,"address",e),this.provider)(0,s.zG)(this,"resolvedAddress",eb(this.provider,e));else try{(0,s.zG)(this,"resolvedAddress",Promise.resolve((0,d.Kn)(e)))}catch(e){em.throwError("provider is required to use ENS name as contract address",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});let n={},i={};Object.keys(this.interface.functions).forEach(e=>{let t=this.interface.functions[e];if(i[e]){em.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}i[e]=!0;{let r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}if(null==this[e]&&(0,s.zG)(this,e,eE(this,t,!0)),null==this.functions[e]&&(0,s.zG)(this.functions,e,eE(this,t,!1)),null==this.callStatic[e]&&(0,s.zG)(this.callStatic,e,ew(this,t,!0)),null==this.populateTransaction[e]){var r;(0,s.zG)(this.populateTransaction,e,(r=this,function(...e){return ev(r,t,e)}))}null==this.estimateGas[e]&&(0,s.zG)(this.estimateGas,e,function(e,t){let r=e.signer||e.provider;return function(...n){return ey(this,void 0,void 0,function*(){r||em.throwError("estimate require a provider or signer",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield ev(e,t,n);return yield r.estimateGas(i)})}}(this,t))}),Object.keys(n).forEach(e=>{let t=n[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&(0,s.zG)(this,e,this[r])}catch(e){}null==this.functions[e]&&(0,s.zG)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,s.zG)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,s.zG)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,s.zG)(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return(0,d.CR)(e)}static getInterface(e){return ed.isInterface(e)?e:new ed(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&em.throwError("contract not deployed",o.Yd.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||em.throwError("sending a transactions require a signer",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=(0,s.DC)(e||{});return["from","to"].forEach(function(e){null!=t[e]&&em.throwError("cannot override "+e,o.Yd.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new ep.b(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,s.zG)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return el.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new eP);if("event"===e)return this._normalizeRunningEvent(new e_("event",null));if("*"===e)return this._normalizeRunningEvent(new eI(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new eT(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let t=e.topics[0];if("string"!=typeof t)throw Error("invalid topic");let r=this.interface.getEvent(t);return this._normalizeRunningEvent(new eT(this.address,this.interface,r,e.topics))}catch(e){}let t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new e_(eA(t),t))}return this._normalizeRunningEvent(new eI(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let n=(0,s.p$)(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||em.throwError("events require a provider or a signer with a provider",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{let t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){let i=this._getRunningEvent(e),o=(0,s.DC)(i.filter);return"string"==typeof t&&(0,n.A7)(t,32)?(null!=r&&em.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),o.blockHash=t):(o.fromBlock=null!=t?t:0,o.toBlock=null!=r?r:"latest"),this.provider.getLogs(o).then(e=>e.map(e=>this._wrapEvent(i,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let e in this._runningEvents){let t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}let t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class eS extends eC{}},68711:function(e,t,r){"use strict";r.d(t,{id:function(){return s}});var n=r(25650),i=r(61728);function s(e){return(0,n.w)((0,i.Y0)(e))}},25650:function(e,t,r){"use strict";r.d(t,{w:function(){return o}});var n=r(23883),i=r.n(n),s=r(8810);function o(e){return"0x"+i().keccak_256((0,s.lE)(e))}},97327:function(e,t,r){"use strict";var n,i,s,o;r.d(t,{Yd:function(){return p}});let a=!1,c=!1,l={debug:1,default:2,info:2,warning:3,error:4,off:5},u=l.default,h=null,d=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(s=n||(n={})).DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.OFF="OFF",(o=i||(i={})).UNKNOWN_ERROR="UNKNOWN_ERROR",o.NOT_IMPLEMENTED="NOT_IMPLEMENTED",o.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",o.NETWORK_ERROR="NETWORK_ERROR",o.SERVER_ERROR="SERVER_ERROR",o.TIMEOUT="TIMEOUT",o.BUFFER_OVERRUN="BUFFER_OVERRUN",o.NUMERIC_FAULT="NUMERIC_FAULT",o.MISSING_NEW="MISSING_NEW",o.INVALID_ARGUMENT="INVALID_ARGUMENT",o.MISSING_ARGUMENT="MISSING_ARGUMENT",o.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",o.CALL_EXCEPTION="CALL_EXCEPTION",o.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",o.NONCE_EXPIRED="NONCE_EXPIRED",o.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",o.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",o.TRANSACTION_REPLACED="TRANSACTION_REPLACED",o.ACTION_REJECTED="ACTION_REJECTED";let f="0123456789abcdef";class p{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==l[r]&&this.throwArgumentError("invalid log level name","logLevel",e),u>l[r]||console.log.apply(console,t)}debug(...e){this._log(p.levels.DEBUG,e)}info(...e){this._log(p.levels.INFO,e)}warn(...e){this._log(p.levels.WARNING,e)}makeError(e,t,r){if(c)return this.makeError("censored error",t,{});t||(t=p.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=f[t[e]>>4]+f[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let s=e,o="";switch(t){case i.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case i.CALL_EXCEPTION:case i.INSUFFICIENT_FUNDS:case i.MISSING_NEW:case i.NONCE_EXPIRED:case i.REPLACEMENT_UNDERPRICED:case i.TRANSACTION_REPLACED:case i.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let a=Error(e);return a.reason=s,a.code=t,Object.keys(r).forEach(function(e){a[e]=r[e]}),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,p.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),d&&this.throwError("platform missing String.prototype.normalize",p.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:d})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,p.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,p.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,p.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,p.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",p.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",p.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",p.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return h||(h=new p("logger/5.7.0")),h}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",p.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a){if(!e)return;this.globalLogger().throwError("error censorship permanent",p.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c=!!e,a=!!t}static setLogLevel(e){let t=l[e.toLowerCase()];if(null==t){p.globalLogger().warn("invalid log level - "+e);return}u=t}static from(e){return new p(e)}}p.errors=i,p.levels=n},31240:function(e,t,r){"use strict";r.d(t,{dk:function(){return h},uj:function(){return a},p$:function(){return u},zG:function(){return i},tu:function(){return s},mE:function(){return o},DC:function(){return c}});let n=new(r(97327)).Yd("properties/5.7.0");function i(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function s(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function o(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>Promise.resolve(e[t]).then(e=>({key:t,value:e})));return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(o,a)}c((i=i.apply(t,r||[])).next())})}function a(e,t){e&&"object"==typeof e||n.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(r=>{t[r]||n.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}function c(e){let t={};for(let r in e)t[r]=e[r];return t}let l={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function u(e){return function(e){if(function e(t){if(null==t||l[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return n.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>u(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&i(t,r,u(n))}return t}return n.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}(e)}class h{constructor(e){for(let t in e)this[t]=u(e[t])}}},49296:function(e,t,r){"use strict";let n,i;r.d(t,{Q:function(){return e6}});var s,o=r(31240),a=r(97327);let c="providers/5.7.2";var l=r(25561),u=r(89210),h=r(8810),d=r(42246),f=r(25650);let p="hash/5.7.0";var g=r(68711);let y=new a.Yd(p),m=new Uint8Array(32);m.fill(0);let b=u.O$.from(-1),v=u.O$.from(0),w=u.O$.from(1),E=u.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),A=(0,h.$m)(w.toHexString(),32),_=(0,h.$m)(v.toHexString(),32),P={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},T=["name","version","chainId","verifyingContract","salt"];function I(e){return function(t){return"string"!=typeof t&&y.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let C={name:I("name"),version:I("version"),chainId:function(e){try{return u.O$.from(e).toString()}catch(e){}return y.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return(0,d.Kn)(e).toLowerCase()}catch(e){}return y.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=(0,h.lE)(e);if(32!==t.length)throw Error("bad length");return(0,h.Dv)(t)}catch(e){}return y.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function S(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&y.throwArgumentError("invalid numeric width","type",e);let i=E.mask(r?n-1:n),s=r?i.add(w).mul(b):v;return function(t){let r=u.O$.from(t);return(r.lt(s)||r.gt(i))&&y.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),(0,h.$m)(r.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&y.throwArgumentError("invalid bytes width","type",e),function(t){return(0,h.lE)(t).length!==r&&y.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){let t=(0,h.lE)(e),r=t.length%32;return r?(0,h.xs)([t,m.slice(r)]):(0,h.Dv)(t)}(t)}}}switch(e){case"address":return function(e){return(0,h.$m)((0,d.Kn)(e),32)};case"bool":return function(e){return e?A:_};case"bytes":return function(e){return(0,f.w)(e)};case"string":return function(e){return(0,g.id)(e)}}return null}function O(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class x{constructor(e){(0,o.zG)(this,"types",Object.freeze((0,o.p$)(e))),(0,o.zG)(this,"_encoderCache",{}),(0,o.zG)(this,"_types",{});let t={},r={},n={};for(let i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){let n={};e[i].forEach(s=>{n[s.name]&&y.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(i)}`,"types",e),n[s.name]=!0;let o=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===i&&y.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),S(o)||(r[o]||y.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",e),r[o].push(i),t[i][o]=!0)})}let i=Object.keys(r).filter(e=>0===r[e].length);for(let s in 0===i.length?y.throwArgumentError("missing primary type","types",e):i.length>1&&y.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,o.zG)(this,"primaryType",i[0]),!function i(s,o){o[s]&&y.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),o[s]=!0,Object.keys(t[s]).forEach(e=>{r[e]&&(i(e,o),Object.keys(o).forEach(t=>{n[t][e]=!0}))}),delete o[s]}(this.primaryType,{}),n){let t=Object.keys(n[s]);t.sort(),this._types[s]=O(s,e[s])+t.map(t=>O(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=S(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&y.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(f.w)),(0,f.w)((0,h.xs)(i))}}let r=this.types[e];if(r){let t=(0,g.id)(this._types[e]);return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?(0,f.w)(n):n});return n.unshift(t),(0,h.xs)(n)}}return y.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||y.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,f.w)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(S(e))return r(e,t);let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&y.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):y.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new x(e)}static getPrimaryType(e){return x.from(e).primaryType}static hashStruct(e,t,r){return x.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=P[r];n||y.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>T.indexOf(e.name)-T.indexOf(t.name)),x.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,h.xs)(["0x1901",x.hashDomain(e),x.from(t).hash(r)])}static hash(e,t,r){return(0,f.w)(x.encode(e,t,r))}static resolveNames(e,t,r,n){var i,s,a,c;return i=this,s=void 0,a=void 0,c=function*(){e=(0,o.DC)(e);let i={};e.verifyingContract&&!(0,h.A7)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=x.from(t);for(let e in s.visit(r,(e,t)=>("address"!==e||(0,h.A7)(t,20)||(i[t]="0x"),t)),i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}},new(a||(a=Promise))(function(e,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var i;t.done?e(t.value):((i=t.value)instanceof a?i:new a(function(e){e(i)})).then(r,n)}o((c=c.apply(i,s||[])).next())})}static getPayload(e,t,r){x.hashDomain(e);let n={},i=[];T.forEach(t=>{let r=e[t];null!=r&&(n[t]=C[t](r),i.push({name:t,type:P[t]}))});let s=x.from(t),a=(0,o.DC)(t);return a.EIP712Domain?y.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=i,s.encode(r),{types:a,domain:n,primaryType:s.primaryType,message:s.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return(0,h.Dv)((0,h.lE)(t));if(e.match(/^u?int/))return u.O$.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&y.throwArgumentError("invalid string","value",t),t}return y.throwArgumentError("unsupported type","type",e)})}}}var R=r(61728),M=r(29917);function B(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return(0,h.lE)(t)}function N(e){e=(0,h.lE)(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}let D=new a.Yd("web/5.7.1");function k(e){return new Promise(t=>{setTimeout(t,e)})}function W(e,t){if(null==e)return null;if("string"==typeof e)return e;if((0,h.Zq)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,R.ZN)(e)}catch(e){}return(0,h.Dv)(e)}return e}function U(e,t,r){let n=null;if(null!=t){n=(0,R.Y0)(t);let r="string"==typeof e?{url:e}:(0,o.DC)(e);r.headers?0!==Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length||(r.headers=(0,o.DC)(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return function(e,t,r){let n;let i="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;D.assertArgument(i>0&&i%1==0,"invalid connection throttle limit","connection.throttleLimit",i);let s="object"==typeof e?e.throttleCallback:null,c="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;D.assertArgument(c>0&&c%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",c);let l="object"==typeof e&&!!e.errorPassThrough,u={},d=null,f={method:"GET"},p=!1,g=12e4;if("string"==typeof e)d=e;else if("object"==typeof e){if((null==e||null==e.url)&&D.throwArgumentError("missing URL","connection.url",e),d=e.url,"number"==typeof e.timeout&&e.timeout>0&&(g=e.timeout),e.headers)for(let t in e.headers)u[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(p=!0);if(f.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==d.substring(0,6)&&!0!==e.allowInsecureAuthentication&&D.throwError("basic authentication requires a secure https url",a.Yd.errors.INVALID_ARGUMENT,{argument:"url",url:d,user:e.user,password:"[REDACTED]"});let t=e.user+":"+e.password;u.authorization={key:"Authorization",value:"Basic "+N((0,R.Y0)(t))}}null!=e.skipFetchSetup&&(f.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(f.fetchOptions=(0,o.DC)(e.fetchOptions))}let y=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=d?d.match(y):null;if(m)try{var b;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?B(m[3]):(b=m[3],(0,R.Y0)(b.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){D.throwError("processing response error",a.Yd.errors.SERVER_ERROR,{body:W(m[1],m[2]),error:e,requestBody:null,requestMethod:"GET",url:d})}t&&(f.method="POST",f.body=t,null==u["content-type"]&&(u["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==u["content-length"]&&(u["content-length"]={key:"Content-Length",value:String(t.length)}));let v={};Object.keys(u).forEach(e=>{let t=u[e];v[t.key]=t.value}),f.headers=v;let w=(n=null,{promise:new Promise(function(e,t){g&&(n=setTimeout(()=>{null!=n&&(n=null,t(D.makeError("timeout",a.Yd.errors.TIMEOUT,{requestBody:W(f.body,v["content-type"]),requestMethod:f.method,timeout:g,url:d})))},g))}),cancel:function(){null!=n&&(clearTimeout(n),n=null)}}),E=function(){var e,t,n,o;return e=this,t=void 0,n=void 0,o=function*(){for(let e=0;e<i;e++){let t=null;try{if(t=yield function(e,t){var r,n,i,s;return r=this,n=void 0,i=void 0,s=function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}let n=yield fetch(e,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((e,t)=>{s[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{s[e.toLowerCase()]=n.headers.get(e)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:(0,h.lE)(new Uint8Array(i))}},new(i||(i=Promise))(function(e,t){function o(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,a)}c((s=s.apply(r,n||[])).next())})}(d,f),e<i){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===f.method&&e.match(/^https:/)){d=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(s&&(r=yield s(e,d)),r){let r=0,n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):c*parseInt(String(Math.random()*Math.pow(2,e))),yield k(r);continue}}}}catch(e){null==(t=e.response)&&(w.cancel(),D.throwError("missing response",a.Yd.errors.SERVER_ERROR,{requestBody:W(f.body,v["content-type"]),requestMethod:f.method,serverError:e,url:d}))}let n=t.body;if(p&&304===t.statusCode?n=null:!l&&(t.statusCode<200||t.statusCode>=300)&&(w.cancel(),D.throwError("bad response",a.Yd.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:W(n,t.headers?t.headers["content-type"]:null),requestBody:W(f.body,v["content-type"]),requestMethod:f.method,url:d})),r)try{let e=yield r(n,t);return w.cancel(),e}catch(r){if(r.throttleRetry&&e<i){let t=!0;if(s&&(t=yield s(e,d)),t){let t=c*parseInt(String(Math.random()*Math.pow(2,e)));yield k(t);continue}}w.cancel(),D.throwError("processing response error",a.Yd.errors.SERVER_ERROR,{body:W(n,t.headers?t.headers["content-type"]:null),error:r,requestBody:W(f.body,v["content-type"]),requestMethod:f.method,url:d})}return w.cancel(),n}return D.throwError("failed response",a.Yd.errors.SERVER_ERROR,{requestBody:W(f.body,v["content-type"]),requestMethod:f.method,url:d})},new(n||(n=Promise))(function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((o=o.apply(e,t||[])).next())})}();return Promise.race([w.promise,E])}(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse((0,R.ZN)(e))}catch(t){D.throwError("invalid JSON",a.Yd.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function F(e,t){return t||(t={}),null==(t=(0,o.DC)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,s=!1,o=()=>!s&&(s=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{o()&&n(Error("timeout"))},t.timeout));let a=t.retryLimit,c=0;!function i(){return e().then(function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!s){if(++c>a){o()&&n(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,c)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){o()&&n(e)})}()})}var L=r(51620);class j{constructor(e){(0,o.zG)(this,"alphabet",e),(0,o.zG)(this,"base",e.length),(0,o.zG)(this,"_alphabetMap",{}),(0,o.zG)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=(0,h.lE)(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return(0,h.lE)(new Uint8Array(t.reverse()))}}new j("abcdefghijklmnopqrstuvwxyz234567");let z=new j("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function $(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function q(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function V(e,t){let r=q(e(),e),n=e(),i=q(n,e),s=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<s[e];t++)r.push(i[e]+t);return t?r.map(e=>t[e]):r}function H(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,s=0;i<e;i++){var n;r[i]=s+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}let G=(s=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let e=1;e<n;e++)s.push(i+=r());let o=r(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}let h=0;for(let e=0;e<31;e++)h=h<<1|u();let d=[],f=0,p=2147483648;for(;;){let e=Math.floor(((h-f+1)*i-1)/p),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<s[n]?r=n:t=n}if(0==t)break;d.push(t);let o=f+Math.floor(p*s[t]/i),a=f+Math.floor(p*s[t+1]/i)-1;for(;((o^a)&1073741824)==0;)h=h<<1&2147483647|u(),o=o<<1&2147483647,a=a<<1&2147483647|1;for(;o&~a&536870912;)h=1073741824&h|h<<1&1073741823|u(),o=o<<1^1073741824,a=(1073741824^a)<<1|1073741825;f=o,p=1+a-o}let g=n-4;return d.map(t=>{switch(t-g){case 3:return g+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return g+256+(e[a++]<<8|e[a++]);case 1:return g+e[a++];default:return t-1}})}(B("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),i=0,()=>s[i++]),K=new Set(V(G)),J=new Set(V(G)),Z=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return $(H(i.length,1+e,t).map((e,t)=>{let s=e[0],o=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[s+t*r,o.map(e=>e+i)]})}))}(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(H(1+e(),1+r,e).map(e=>[e[0],e.slice(1)]))}return function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}($(t))}(G),Y=(n=V(G).sort((e,t)=>e-t),function e(){let t=[];for(;;){let r=V(G,n);if(0==r.length)break;t.push({set:new Set(r),node:e()})}t.sort((e,t)=>t.set.size-e.set.size);let r=G();return{branches:t,valid:r%3,fe0f:!!(1&(r=r/3|0)),save:1==(r>>=1),check:2==r}}());function Q(e){return e.filter(e=>65039!=e)}function X(e){for(let t of e.split(".")){let e=(0,R.XL)(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let ee=new a.Yd(p),et=new Uint8Array(32);function er(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function en(e){let t=(0,R.Y0)(X(function(e,t){let r=(0,R.XL)(e).reverse(),n=[];for(;r.length;){let e=function(e,t){var r;let n,i;let s=Y,o=[],a=e.length;for(;a;){let t=e[--a];if(!(s=null===(r=s.branches.find(e=>e.set.has(t)))||void 0===r?void 0:r.node))break;if(s.save)i=t;else if(s.check&&t===i)break;o.push(t),s.fe0f&&(o.push(65039),a>0&&65039==e[a-1]&&a--),s.valid&&(n=o.slice(),2==s.valid&&n.splice(1,1),e.length=a)}return n}(r);if(e){n.push(...t(e));continue}let i=r.pop();if(K.has(i)){n.push(i);continue}if(J.has(i))continue;let s=Z[i];if(s){n.push(...s);continue}throw Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return X(String.fromCodePoint(...n).normalize("NFC"))}(e,Q))),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(er(t.slice(n,e))),n=e+1);if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(er(t.slice(n))),r}function ei(e){"string"!=typeof e&&ee.throwArgumentError("invalid ENS name; not a string","name",e);let t=et,r=en(e);for(;r.length;)t=(0,f.w)((0,h.zo)([t,(0,f.w)(r.pop())]));return(0,h.Dv)(t)}et.fill(0);let es=new a.Yd("networks/5.7.1");function eo(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let i=new t.AnkrProvider(e,r.ankr);i.network&&-1===["ropsten"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return eo(e)},t}function ea(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return ea(e,t)},r}let ec={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:eo("homestead")},el={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:eo("ropsten")},eu={chainId:63,name:"classicMordor",_defaultProvider:ea("https://www.ethercluster.com/mordor","classicMordor")},eh={unspecified:{chainId:0,name:"unspecified"},homestead:ec,mainnet:ec,morden:{chainId:2,name:"morden"},ropsten:el,testnet:el,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:eo("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:eo("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:eo("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:eo("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:ea("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:eu,classicTestnet:eu,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ea("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:eo("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:eo("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};var ed=r(28714),ef=r.n(ed);function ep(e){return"0x"+ef().sha256().update((0,h.lE)(e)).digest("hex")}new a.Yd("sha2/5.7.0");var eg=r(62113),ey=r.n(eg);let em=new a.Yd(c);class eb{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:s,type:l,accessList:eb.allowNull(this.accessList.bind(this),null),blockHash:eb.allowNull(s,null),blockNumber:eb.allowNull(c,null),transactionIndex:eb.allowNull(c,null),confirmations:eb.allowNull(c,null),from:t,gasPrice:eb.allowNull(r),maxPriorityFeePerGas:eb.allowNull(r),maxFeePerGas:eb.allowNull(r),gasLimit:r,to:eb.allowNull(t,null),value:r,nonce:c,data:i,r:eb.allowNull(this.uint256),s:eb.allowNull(this.uint256),v:eb.allowNull(c),creates:eb.allowNull(t,null),raw:eb.allowNull(i)},e.transactionRequest={from:eb.allowNull(t),nonce:eb.allowNull(c),gasLimit:eb.allowNull(r),gasPrice:eb.allowNull(r),maxPriorityFeePerGas:eb.allowNull(r),maxFeePerGas:eb.allowNull(r),to:eb.allowNull(t),value:eb.allowNull(r),data:eb.allowNull(e=>this.data(e,!0)),type:eb.allowNull(c),accessList:eb.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:t,topics:eb.arrayOf(s),data:i,logIndex:c,blockHash:s},e.receipt={to:eb.allowNull(this.address,null),from:eb.allowNull(this.address,null),contractAddress:eb.allowNull(t,null),transactionIndex:c,root:eb.allowNull(a),gasUsed:r,logsBloom:eb.allowNull(i),blockHash:s,transactionHash:s,logs:eb.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:eb.allowNull(c,null),cumulativeGasUsed:r,effectiveGasPrice:eb.allowNull(r),status:eb.allowNull(c),type:l},e.block={hash:eb.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:eb.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:eb.allowNull(t),extraData:i,transactions:eb.allowNull(eb.arrayOf(s)),baseFeePerGas:eb.allowNull(r)},e.blockWithTransactions=(0,o.DC)(e.block),e.blockWithTransactions.transactions=eb.allowNull(eb.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:eb.allowNull(n,void 0),toBlock:eb.allowNull(n,void 0),blockHash:eb.allowNull(s,void 0),address:eb.allowNull(t,void 0),topics:eb.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:eb.allowNull(c),blockHash:eb.allowNull(s),transactionIndex:c,removed:eb.allowNull(this.boolean.bind(this)),address:t,data:eb.allowFalsish(i,"0x"),topics:eb.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return(0,M.z7)(e||[])}number(e){return"0x"===e?0:u.O$.from(e).toNumber()}type(e){return"0x"===e||null==e?0:u.O$.from(e).toNumber()}bigNumber(e){return u.O$.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,h.A7)(e))?e.toLowerCase():em.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return(0,d.Kn)(e)}callAddress(e){if(!(0,h.A7)(e,32))return null;let t=(0,d.Kn)((0,h.p3)(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){return(0,d.CR)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,h.A7)(e))return(0,h.$P)(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==(0,h.E1)(r)?em.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=u.O$.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!(0,h.A7)(e))throw Error("invalid uint256");return(0,h.$m)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=eb.check(t,e);return n._difficulty=null==r?null:u.O$.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return eb.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&u.O$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=eb.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;(0,h.A7)(r)&&(r=u.O$.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),(0,h.A7)(r)&&(r=u.O$.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return(0,M.Qc)(e)}receiptLog(e){return eb.check(this.formats.receiptLog,e)}receipt(e){let t=eb.check(this.formats.receipt,e);if(null!=t.root){if(t.root.length<=4){let e=u.O$.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&em.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):em.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&em.throwArgumentError("invalid root hash","value.root",t.root)}return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return eb.check(this.formats.filter,e)}filterLog(e){return eb.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}var ev=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let ew=new a.Yd(c);function eE(e){return null==e?"null":(32!==(0,h.E1)(e)&&ew.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function eA(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return eE(e);{let t={};e.forEach(e=>{t[eE(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function e_(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,h.E1)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+eA(e);else if(L.Sg.isForkEvent(e))throw ew.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+eA(e.topics||[]);throw Error("invalid event - "+e)}function eP(){return new Date().getTime()}function eT(e){return new Promise(t=>{setTimeout(t,e)})}let eI=["block","network","pending","poll"];class eC{constructor(e,t,r){(0,o.zG)(this,"tag",e),(0,o.zG)(this,"listener",t),(0,o.zG)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||eI.indexOf(this.tag)>=0}}let eS={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function eO(e){return(0,h.$m)(u.O$.from(e).toHexString(),32)}function ex(e){return z.encode((0,h.zo)([e,(0,h.p3)(ep(ep(e)),0,4)]))}let eR=RegExp("^(ipfs)://(.*)$","i"),eM=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),eR,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function eB(e,t){try{return(0,R.ZN)(eN(e,t))}catch(e){}return null}function eN(e,t){if("0x"===e)return null;let r=u.O$.from((0,h.p3)(e,t,t+32)).toNumber(),n=u.O$.from((0,h.p3)(e,r,r+32)).toNumber();return(0,h.p3)(e,r+32,r+32+n)}function eD(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):ew.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function ek(e){let t=(0,h.lE)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function eW(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){let i=(0,h.lE)(e[n]);t[n]=ek(r),t.push(ek(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return(0,h.xs)(t)}class eU{constructor(e,t,r,n){(0,o.zG)(this,"provider",e),(0,o.zG)(this,"name",r),(0,o.zG)(this,"address",e.formatter.address(t)),(0,o.zG)(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>u.O$.from(e).eq(1)).catch(e=>{if(e.code===a.Yd.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return ev(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:(0,h.xs)([e,ei(this.name),t||"0x"])},n=!1;if(yield this.supportsWildcard()){var i;n=!0,r.data=(0,h.xs)(["0x9061b923",eW([(i=this.name,(0,h.Dv)((0,h.zo)(en(i).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"),r.data])])}try{let e=yield this.provider.call(r);return(0,h.lE)(e).length%32==4&&ew.throwError("resolver threw error",a.Yd.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=eN(e,0)),e}catch(e){if(e.code===a.Yd.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return ev(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?eN(r,0):null})}_getAddress(e,t){let r=eS[String(e)];if(null==r&&ew.throwError(`unsupported coin type: ${e}`,a.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=(0,h.lE)(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return ex((0,h.zo)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return ex((0,h.zo)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=n[1],t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){let e=ey().toWords(n.slice(2));return e.unshift(t),ey().encode(r.prefix,e)}}return null}getAddress(e){return ev(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===a.Yd.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",eO(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&ew.throwError("invalid or unsupported coin data",a.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return ev(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<eM.length;r++){let n=t.match(eM[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:eD(t)};case"erc721":case"erc1155":{let r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let s=this._resolvedAddress||(yield this.getAddress()),o=(n[2]||"").split("/");if(2!==o.length)return null;let a=yield this.provider.formatter.address(o[0]),c=(0,h.$m)(u.O$.from(o[1]).toHexString(),32);if("erc721"===i){let t=this.provider.formatter.callAddress((yield this.provider.call({to:a,data:(0,h.xs)(["0x6352211e",c])})));if(s!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){let t=u.O$.from((yield this.provider.call({to:a,data:(0,h.xs)(["0x00fdd58e",(0,h.$m)(s,32),c])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let l={to:this.provider.formatter.address(o[0]),data:(0,h.xs)([r,c])},d=eB((yield this.provider.call(l)),0);if(null==d)return null;e.push({type:"metadata-url-base",content:d}),"erc1155"===i&&(d=d.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=eD(d)),e.push({type:"metadata-url",content:d});let f=yield U(d);if(!f)return null;e.push({type:"metadata",content:JSON.stringify(f)});let p=f.image;if("string"!=typeof p)return null;if(p.match(/^(https:\/\/|data:)/i));else{let t=p.match(eR);if(null==t)return null;e.push({type:"url-ipfs",content:p}),p=eD(p)}return e.push({type:"url",content:p}),{linkage:e,url:p}}}}}catch(e){}return null})}getContentHash(){return ev(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+z.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+z.encode("0x"+r[1])}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];let i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){let e={"=":"","+":"-","/":"_"};return"sia://"+N("0x"+i[1]).replace(/[=+\/]/g,t=>e[t])}return ew.throwError("invalid or unsupported content hash data",a.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ev(this,void 0,void 0,function*(){let t=(0,R.Y0)(e);(t=(0,h.zo)([eO(64),eO(t.length),t])).length%32!=0&&(t=(0,h.zo)([t,(0,h.$m)("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",(0,h.Dv)(t));return null==r||"0x"===r?null:(0,R.ZN)(r)})}}let eF=null,eL=1;class ej extends L.zt{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,o.zG)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{let t=(0,o.tu)(new.target,"getNetwork")(e);t?((0,o.zG)(this,"_network",t),this.emit("network",t,null)):ew.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ev(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||ew.throwError("no network detected",a.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,o.zG)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return F(()=>this._ready().then(e=>e,e=>{if(e.code!==a.Yd.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==eF&&(eF=new eb),eF}static getNetwork(e){return function(e){if(null==e)return null;if("number"==typeof e){for(let t in eh){let r=eh[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=eh[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=eh[e.name];if(!t)return"number"!=typeof e.chainId&&es.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&es.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var n;r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return ev(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let e=0;e<r.length;e++){let t=r[e],o=t.replace("{sender}",n).replace("{data}",i),c=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield U({url:o,errorPassThrough:!0},c,(e,t)=>(e.status=t.statusCode,e));if(l.data)return l.data;let u=l.message||"unknown error";if(l.status>=400&&l.status<500)return ew.throwError(`response not found during CCIP fetch: ${u}`,a.Yd.errors.SERVER_ERROR,{url:t,errorMessage:u});s.push(u)}return ew.throwError(`error encountered during CCIP fetch: ${s.map(e=>JSON.stringify(e)).join(", ")}`,a.Yd.errors.SERVER_ERROR,{urls:r,errorMessages:s})})}_getInternalBlockNumber(e){return ev(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(eP()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=eP(),r=(0,o.mE)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;let i=eP();return(e=u.O$.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return ev(this,void 0,void 0,function*(){let e=eL++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)ew.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",ew.makeError("network block skew detected",a.Yd.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,n=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);let n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;let i=n.toBlock-this._maxFilterBlockRange;i>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0);let s=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(s)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ev(this,void 0,void 0,function*(){return ew.throwError("provider does not support network detection",a.Yd.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ev(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield eT(0),this._network;let r=ew.makeError("underlying network changed",a.Yd.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=eP();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=eP(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return ev(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return ev(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,s)=>{let o=[],c=!1,l=function(){return!!c||(c=!0,o.forEach(e=>{e()}),!1)},u=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,u),o.push(()=>{this.removeListener(e,u)}),n){let r=n.startBlock,i=null,u=o=>ev(this,void 0,void 0,function*(){c||(yield eT(1e3),this.getTransactionCount(n.from).then(h=>ev(this,void 0,void 0,function*(){if(!c){if(h<=n.nonce)r=o;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3)<n.startBlock&&(i=n.startBlock);i<=o;){if(c)return;let r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){let o=r.transactions[i];if(o.hash===e)return;if(o.from===n.from&&o.nonce===n.nonce){if(c)return;let r=yield this.waitForTransaction(o.hash,t);if(l())return;let i="replaced";o.data===n.data&&o.to===n.to&&o.value.eq(n.value)?i="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(i="cancelled"),s(ew.makeError("transaction was replaced",a.Yd.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(o),hash:e,receipt:r}));return}}i++}}c||this.once("block",u)}}),e=>{c||this.once("block",u)}))});if(c)return;this.once("block",u),o.push(()=>{this.removeListener("block",u)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{l()||s(ew.makeError("timeout exceeded",a.Yd.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),o.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return ev(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return u.O$.from(e)}catch(t){return ew.throwError("bad result from backend",a.Yd.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,o.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return u.O$.from(n)}catch(e){return ew.throwError("bad result from backend",a.Yd.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}})}getTransactionCount(e,t){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,o.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return u.O$.from(n).toNumber()}catch(e){return ew.throwError("bad result from backend",a.Yd.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}})}getCode(e,t){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,o.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return(0,h.Dv)(n)}catch(e){return ew.throwError("bad result from backend",a.Yd.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}})}getStorageAt(e,t,r){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield(0,o.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>(0,h.$P)(e))}),i=yield this.perform("getStorageAt",n);try{return(0,h.Dv)(i)}catch(e){return ew.throwError("bad result from backend",a.Yd.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==(0,h.E1)(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&ew.throwError("Transaction hash mismatch from Provider.sendTransaction.",a.Yd.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,n)=>ev(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let s=yield this._waitForTransaction(e.hash,t,n,i);return null==s&&0===t?null:(this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&ew.throwError("transaction failed",a.Yd.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),s)}),e}sendTransaction(e){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>(0,h.Dv)(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return ev(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?u.O$.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?(0,h.Dv)(e):null))}),this.formatter.transactionRequest((yield(0,o.mE)(r)))})}_getFilter(e){return ev(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield(0,o.mE)(t)))})}_call(e,t,r){return ev(this,void 0,void 0,function*(){r>=10&&ew.throwError("CCIP read exceeded maximum redirections",a.Yd.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&(0,h.E1)(i)%32==4)try{let s=(0,h.p3)(i,4),o=(0,h.p3)(s,0,32);u.O$.from(o).eq(n)||ew.throwError("CCIP Read sender did not match",a.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let c=[],l=u.O$.from((0,h.p3)(s,32,64)).toNumber(),d=u.O$.from((0,h.p3)(s,l,l+32)).toNumber(),f=(0,h.p3)(s,l+32);for(let t=0;t<d;t++){let r=eB(f,32*t);null==r&&ew.throwError("CCIP Read contained corrupt URL string",a.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),c.push(r)}let p=eN(s,64);u.O$.from((0,h.p3)(s,100,128)).isZero()||ew.throwError("CCIP Read callback selector included junk",a.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let g=(0,h.p3)(s,96,100),y=eN(s,128),m=yield this.ccipReadFetch(e,p,c);null==m&&ew.throwError("CCIP Read disabled or provided no URLs",a.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let b={to:n,data:(0,h.xs)([g,eW([m,y])])};return this._call(b,t,r+1)}catch(e){if(e.code===a.Yd.errors.SERVER_ERROR)throw e}try{return(0,h.Dv)(i)}catch(r){return ew.throwError("bad result from backend",a.Yd.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}})}call(e,t){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,o.mE)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,o.mE)({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return u.O$.from(r)}catch(e){return ew.throwError("bad result from backend",a.Yd.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return ev(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&ew.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&ew.throwError("ENS name not configured",a.Yd.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return ev(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,n={includeTransactions:!!t};if((0,h.A7)(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),(0,h.A7)(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){ew.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return F(()=>ev(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ev(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return F(()=>ev(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return ev(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return F(()=>ev(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}),{oncePoll:this})})}getLogs(e){return ev(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,o.mE)({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),eb.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return ev(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ev(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&ew.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return ev(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new eU(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return ev(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||ew.throwError("network does not support ENS",a.Yd.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+ei(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return ev(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if((0,h.A7)(e))throw t}"string"!=typeof e&&ew.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return ev(this,void 0,void 0,function*(){e=yield e;let t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=eB((yield this.call({to:r,data:"0x691f3431"+ei(t).substring(2)})),0);return(yield this.resolveName(n))!=e?null:n})}getAvatar(e){return ev(this,void 0,void 0,function*(){let t=null;if((0,h.A7)(e)){let r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;t=new eU(this,n,r);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==a.Yd.errors.CALL_EXCEPTION)throw e}try{let e=eB((yield this.call({to:n,data:"0x691f3431"+ei(r).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==a.Yd.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return ew.throwError(e+" not implemented",a.Yd.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new eC(e_(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=e_(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=e_(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=e_(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=e_(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=e_(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var ez=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let e$=new a.Yd(c),eq=["call","estimateGas"];function eV(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=(0,h.A7)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let n=eV(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return eV(JSON.parse(e),t)}catch(e){}return null}function eH(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let e=eV(t,!0);if(e)return e.data;e$.throwError("missing revert data in call exception; Transaction reverted without a reason string",a.Yd.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=eV(t.body,!1);null==r&&(r=eV(t,!1)),r&&e$.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",a.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===a.Yd.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),(i=(i||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&e$.throwError("insufficient funds for intrinsic transaction cost",a.Yd.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&e$.throwError("nonce has already been used",a.Yd.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&e$.throwError("replacement fee too low",a.Yd.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&e$.throwError("legacy pre-eip-155 transactions not supported",a.Yd.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),eq.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&e$.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",a.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function eG(e){return new Promise(function(t){setTimeout(t,e)})}function eK(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function eJ(e){return e?e.toLowerCase():e}let eZ={};class eY extends l.E{constructor(e,t,r){if(super(),e!==eZ)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,o.zG)(this,"provider",t),null==r&&(r=0),"string"==typeof r?((0,o.zG)(this,"_address",this.provider.formatter.address(r)),(0,o.zG)(this,"_index",null)):"number"==typeof r?((0,o.zG)(this,"_index",r),(0,o.zG)(this,"_address",null)):e$.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return e$.throwError("cannot alter JSON-RPC Signer connection",a.Yd.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new eQ(eZ,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&e$.throwError("unknown account #"+this._index,a.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,o.DC)(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=(0,o.DC)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>ez(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&e$.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),(0,o.mE)({tx:(0,o.mE)(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&e$.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&e$.throwError("user rejected transaction",a.Yd.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),eH("sendTransaction",e,n)))})}signTransaction(e){return e$.throwError("signing transactions is unsupported",a.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ez(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield F(()=>ez(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return ez(this,void 0,void 0,function*(){let t="string"==typeof e?(0,R.Y0)(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,h.Dv)(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&e$.throwError("user rejected signing",a.Yd.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}})}_legacySignMessage(e){return ez(this,void 0,void 0,function*(){let t="string"==typeof e?(0,R.Y0)(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,h.Dv)(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&e$.throwError("user rejected signing",a.Yd.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}})}_signTypedData(e,t,r){return ez(this,void 0,void 0,function*(){let n=yield x.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(x.getPayload(n.domain,t,n.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&e$.throwError("user rejected signing",a.Yd.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}}),e}})}unlock(e){return ez(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class eQ extends eY{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let eX={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class e0 extends ej{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=(0,o.tu)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,o.zG)(this,"connection",Object.freeze({url:e})):(0,o.zG)(this,"connection",Object.freeze((0,o.DC)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ez(this,void 0,void 0,function*(){yield eG(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=(0,o.tu)(this.constructor,"getNetwork");try{return t(u.O$.from(e).toNumber())}catch(t){return e$.throwError("could not detect network",a.Yd.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return e$.throwError("could not detect network",a.Yd.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new eY(eZ,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,o.p$)(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=U(this.connection,JSON.stringify(r),eK).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[eJ(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[eJ(t.address),t.blockTag]];case"getCode":return["eth_getCode",[eJ(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[eJ(t.address),(0,h.$m)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,o.tu)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,o.tu)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=eJ(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return ez(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&u.O$.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=(0,o.DC)(t)).transaction=(0,o.DC)(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&e$.throwError(e+" not implemented",a.Yd.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return eH(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return eG(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){n()},0),null}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=(0,o.DC)(eX);if(t)for(let e in t)t[e]&&(r[e]=!0);(0,o.uj)(e,r);let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=(0,h.$P)(u.O$.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(n[t]=(0,h.Dv)(e[t]))}),e.accessList&&(n.accessList=(0,M.z7)(e.accessList)),n}}let e1=new a.Yd(c),e2=1;function e3(e,t){let r="Web3LegacyFetcher";return function(e,n){let i={method:e,params:n,id:e2++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,o.p$)(i),provider:this}),t(i,(t,s)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:s,provider:this}),s.error){let e=Error(s.error.message);return e.code=s.error.code,e.data=s.error.data,n(e)}e(s.result)})})}}class e6 extends e0{constructor(e,t){null==e&&e1.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"==typeof e?(r="unknown:",n=e):(((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),i=e,e.request)?(""===r&&(r="eip-1193:"),n=function(t,r){null==r&&(r=[]);let n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,o.p$)(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})}):e.sendAsync?n=e3(e,e.sendAsync.bind(e)):e.send?n=e3(e,e.send.bind(e)):e1.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),(0,o.zG)(this,"jsonRpcFetchFunc",n),(0,o.zG)(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}},83569:function(e,t,r){"use strict";r.d(t,{J:function(){return h},c:function(){return c}});var n=r(8810),i=r(97327);let s=new i.Yd("rlp/5.7.0");function o(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function a(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function c(e){return(0,n.Dv)(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=o(r.length);return n.unshift(247+n.length),n.concat(r)}(0,n.Zq)(t)||s.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call((0,n.lE)(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let i=o(r.length);return i.unshift(183+i.length),i.concat(r)}(e))}function l(e,t,r,n){let o=[];for(;r<t+1+n;){let a=u(e,r);o.push(a.result),(r+=a.consumed)>t+1+n&&s.throwError("child data too short",i.Yd.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function u(e,t){if(0===e.length&&s.throwError("data too short",i.Yd.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&s.throwError("data short segment too short",i.Yd.errors.BUFFER_OVERRUN,{});let n=a(e,t+1,r);return t+1+r+n>e.length&&s.throwError("data long segment too short",i.Yd.errors.BUFFER_OVERRUN,{}),l(e,t,t+1+r,r+n)}if(e[t]>=192){let r=e[t]-192;return t+1+r>e.length&&s.throwError("data array too short",i.Yd.errors.BUFFER_OVERRUN,{}),l(e,t,t+1,r)}if(e[t]>=184){let r=e[t]-183;t+1+r>e.length&&s.throwError("data array too short",i.Yd.errors.BUFFER_OVERRUN,{});let o=a(e,t+1,r);t+1+r+o>e.length&&s.throwError("data array too short",i.Yd.errors.BUFFER_OVERRUN,{});let c=(0,n.Dv)(e.slice(t+1+r,t+1+r+o));return{consumed:1+r+o,result:c}}if(e[t]>=128){let r=e[t]-128;t+1+r>e.length&&s.throwError("data too short",i.Yd.errors.BUFFER_OVERRUN,{});let o=(0,n.Dv)(e.slice(t+1,t+1+r));return{consumed:1+r,result:o}}return{consumed:1,result:(0,n.Dv)(e[t])}}function h(e){let t=(0,n.lE)(e),r=u(t,0);return r.consumed!==t.length&&s.throwArgumentError("invalid rlp data","data",e),r.result}},61728:function(e,t,r){"use strict";r.d(t,{Y0:function(){return d},XL:function(){return p},ZN:function(){return f}});var n,i,s,o,a=r(8810);let c=new(r(97327)).Yd("strings/5.7.0");function l(e,t,r,n,i){if(e===o.BAD_PREFIX||e===o.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===o.OVERRUN?r.length-t-1:0}(n=s||(s={})).current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD",(i=o||(o={})).UNEXPECTED_CONTINUE="unexpected continuation byte",i.BAD_PREFIX="bad codepoint prefix",i.OVERRUN="string overrun",i.MISSING_CONTINUE="missing continuation byte",i.OUT_OF_RANGE="out of UTF-8 range",i.UTF16_SURROGATE="UTF-16 surrogate",i.OVERLONG="overlong representation";let u=Object.freeze({error:function(e,t,r,n,i){return c.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:l,replace:function(e,t,r,n,i){return e===o.OVERLONG?(n.push(i),0):(n.push(65533),l(e,t,r,n,i))}});function h(e,t){null==t&&(t=u.error),e=(0,a.lE)(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let s=null,a=null;if((224&i)==192)s=1,a=127;else if((240&i)==224)s=2,a=2047;else if((248&i)==240)s=3,a=65535;else{(192&i)==128?n+=t(o.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(o.BAD_PREFIX,n-1,e,r);continue}if(n-1+s>=e.length){n+=t(o.OVERRUN,n-1,e,r);continue}let c=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=e[n];if((192&i)!=128){n+=t(o.MISSING_CONTINUE,n,e,r),c=null;break}c=c<<6|63&i,n++}if(null!==c){if(c>1114111){n+=t(o.OUT_OF_RANGE,n-1-s,e,r,c);continue}if(c>=55296&&c<=57343){n+=t(o.UTF16_SURROGATE,n-1-s,e,r,c);continue}if(c<=a){n+=t(o.OVERLONG,n-1-s,e,r,c);continue}r.push(c)}}return r}function d(e,t=s.current){t!=s.current&&(c.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return(0,a.lE)(r)}function f(e,t){return h(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function p(e,t=s.current){return h(d(e,t))}},29917:function(e,t,r){"use strict";r.d(t,{z7:function(){return ei},Qc:function(){return el},RJ:function(){return et}});var n,i,s=r(42246),o=r(89210),a=r(8810),c=r(52578),l=r(25650),u=r(83569),h=r(44373),d=r.n(h),f=r(28714),p=r.n(f);function g(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?r.path:t)}},r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var y=m;function m(e,t){if(!e)throw Error(t||"Assertion failed")}m.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var b=g(function(e,t){function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}),v=g(function(e,t){t.assert=y,t.toArray=b.toArray,t.zero2=b.zero2,t.toHex=b.toHex,t.encode=b.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var a,c=s.andln(i-1);s.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var s,o,a,c=e.andln(3)+n&3,l=t.andln(3)+i&3;3===c&&(c=-1),3===l&&(l=-1),o=(1&c)==0?0:(3==(s=e.andln(7)+n&7)||5===s)&&2===l?-c:c,r[0].push(o),a=(1&l)==0?0:(3==(s=t.andln(7)+i&7)||5===s)&&2===c?-l:l,r[1].push(a),2*n===o+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(d())(e,"hex","le")}}),w=v.getNAF,E=v.getJSF,A=v.assert;function _(e,t){this.type=e,this.p=new(d())(t.p,16),this.red=t.prime?d().red(t.prime):d().mont(this.p),this.zero=new(d())(0).toRed(this.red),this.one=new(d())(1).toRed(this.red),this.two=new(d())(2).toRed(this.red),this.n=t.n&&new(d())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function P(e,t){this.curve=e,this.type=t,this.precomputed=null}_.prototype.point=function(){throw Error("Not implemented")},_.prototype.validate=function(){throw Error("Not implemented")},_.prototype._fixedNafMul=function(e,t){A(e.precomputed);var r,n,i=e._getDoubles(),s=w(t,1,this._bitLength),o=(1<<i.step+1)-(i.step%2==0?2:1);o/=3;var a=[];for(r=0;r<s.length;r+=i.step){n=0;for(var c=r+i.step-1;c>=r;c--)n=(n<<1)+s[c];a.push(n)}for(var l=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=o;h>0;h--){for(r=0;r<a.length;r++)(n=a[r])===h?u=u.mixedAdd(i.points[r]):n===-h&&(u=u.mixedAdd(i.points[r].neg()));l=l.add(u)}return l.toP()},_.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=w(t,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var c=0;a>=0&&0===s[a];a--)c++;if(a>=0&&c++,o=o.dblp(c),a<0)break;var l=s[a];A(0!==l),o="affine"===e.type?l>0?o.mixedAdd(i[l-1>>1]):o.mixedAdd(i[-l-1>>1].neg()):l>0?o.add(i[l-1>>1]):o.add(i[-l-1>>1].neg())}return"affine"===e.type?o.toP():o},_.prototype._wnafMulAdd=function(e,t,r,n,i){var s,o,a,c=this._wnafT1,l=this._wnafT2,u=this._wnafT3,h=0;for(s=0;s<n;s++){var d=(a=t[s])._getNAFPoints(e);c[s]=d.wnd,l[s]=d.points}for(s=n-1;s>=1;s-=2){var f=s-1,p=s;if(1!==c[f]||1!==c[p]){u[f]=w(r[f],c[f],this._bitLength),u[p]=w(r[p],c[p],this._bitLength),h=Math.max(u[f].length,h),h=Math.max(u[p].length,h);continue}var g=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(g[1]=t[f].add(t[p]),g[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(g[1]=t[f].toJ().mixedAdd(t[p]),g[2]=t[f].add(t[p].neg())):(g[1]=t[f].toJ().mixedAdd(t[p]),g[2]=t[f].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],m=E(r[f],r[p]);for(o=0,h=Math.max(m[0].length,h),u[f]=Array(h),u[p]=Array(h);o<h;o++){var b=0|m[0][o],v=0|m[1][o];u[f][o]=y[(b+1)*3+(v+1)],u[p][o]=0,l[f]=g}}var A=this.jpoint(null,null,null),_=this._wnafT4;for(s=h;s>=0;s--){for(var P=0;s>=0;){var T=!0;for(o=0;o<n;o++)_[o]=0|u[o][s],0!==_[o]&&(T=!1);if(!T)break;P++,s--}if(s>=0&&P++,A=A.dblp(P),s<0)break;for(o=0;o<n;o++){var I=_[o];0!==I&&(I>0?a=l[o][I-1>>1]:I<0&&(a=l[o][-I-1>>1].neg()),A="affine"===a.type?A.mixedAdd(a):A.add(a))}}for(s=0;s<n;s++)l[s]=null;return i?A:A.toP()},_.BasePoint=P,P.prototype.eq=function(){throw Error("Not implemented")},P.prototype.validate=function(){return this.curve.validate(this)},_.prototype.decodePoint=function(e,t){e=v.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?A(e[e.length-1]%2==0):7===e[0]&&A(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},P.prototype.encodeCompressed=function(e){return this.encode(e,!0)},P.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},P.prototype.encode=function(e,t){return v.encode(this._encode(t),e)},P.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},P.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},P.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},P.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},P.prototype._getBeta=function(){return null},P.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var T=g(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),I=v.assert;function C(e){_.call(this,"short",e),this.a=new(d())(e.a,16).toRed(this.red),this.b=new(d())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function S(e,t,r,n){_.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(d())(t,16),this.y=new(d())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function O(e,t,r,n){_.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(d())(0)):(this.x=new(d())(t,16),this.y=new(d())(r,16),this.z=new(d())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}T(C,_),C.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new(d())(e.beta,16).toRed(this.red);else{var t,r,n,i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new(d())(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],I(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new(d())(e.a,16),b:new(d())(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},C.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:d().mont(e),r=new(d())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(d())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},C.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,a,c,l,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),p=new(d())(1),g=new(d())(0),y=new(d())(0),m=new(d())(1),b=0;0!==h.cmpn(0);){var v=f.div(h);c=f.sub(v.mul(h)),l=y.sub(v.mul(p));var w=m.sub(v.mul(g));if(!n&&0>c.cmp(u))t=a.neg(),r=p,n=c.neg(),i=l;else if(n&&2==++b)break;a=c,f=h,h=c,y=p,p=l,m=g,g=w}s=c.neg(),o=l;var E=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(E)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},C.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),l=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},C.prototype.pointFromX=function(e,t){(e=new(d())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},C.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},C.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,n,i,2*s,r),u=0;u<2*s;u++)n[u]=null,i[u]=null;return l},T(S,_.BasePoint),C.prototype.point=function(e,t,r){return new S(this,e,t,r)},C.prototype.pointFromJSON=function(e,t){return S.fromJSON(this,e,t)},S.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},S.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},S.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return this.inf},S.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},S.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},S.prototype.getX=function(){return this.x.fromRed()},S.prototype.getY=function(){return this.y.fromRed()},S.prototype.mul=function(e){return(e=new(d())(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},S.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},S.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},S.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},S.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},S.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},T(O,_.BasePoint),C.prototype.jpoint=function(e,t,r){return new O(this,e,t,r)},O.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},O.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},O.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},O.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),h=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(h)).redISub(i.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},O.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),y=p.redISub(g),m=f.redMul(y);m=m.redIAdd(m).redISub(d);var b=l.redMul(a);t+1<e&&(c=c.redMul(d)),s=g,a=b,l=m}return this.curve.jpoint(s,l.redMul(i),a)},O.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},O.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},O.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var y=h.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=f.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},O.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,f,p)},O.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(a).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},O.prototype.mul=function(e,t){return e=new(d())(e,t),this.curve._wnafMul(this,e)},O.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},O.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},O.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},O.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var x=g(function(e,t){t.base=_,t.short=C,t.mont=null,t.edwards=null}),R=g(function(e,t){var r,n=v.assert;function i(e){"short"===e.type?this.curve=new x.short(e):"edwards"===e.type?this.curve=new x.edwards(e):this.curve=new x.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new i(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=i,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:p().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:p().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:p().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:p().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:p().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:p().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:p().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:p().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function M(e){if(!(this instanceof M))return new M(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=b.toArray(e.entropy,e.entropyEnc||"hex"),r=b.toArray(e.nonce,e.nonceEnc||"hex"),n=b.toArray(e.pers,e.persEnc||"hex");y(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}M.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},M.prototype._hmac=function(){return new(p()).hmac(this.hash,this.K)},M.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},M.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=b.toArray(e,t),r=b.toArray(r,n),y(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},M.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=b.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,b.encode(s,t)};var B=v.assert;function N(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}N.fromPublic=function(e,t,r){return t instanceof N?t:new N(e,{pub:t,pubEnc:r})},N.fromPrivate=function(e,t,r){return t instanceof N?t:new N(e,{priv:t,privEnc:r})},N.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},N.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},N.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},N.prototype._importPrivate=function(e,t){this.priv=new(d())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},N.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?B(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&B(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},N.prototype.derive=function(e){return e.validate()||B(e.validate(),"public point not validated"),e.mul(this.priv).getX()},N.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},N.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},N.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var D=v.assert;function k(e,t){if(e instanceof k)return e;this._importDER(e,t)||(D(e.r&&e.s,"Signature without r or s"),this.r=new(d())(e.r,16),this.s=new(d())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function W(){this.place=0}function U(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function F(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function L(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}k.prototype._importDER=function(e,t){e=v.toArray(e,t);var r=new W;if(48!==e[r.place++])return!1;var n=U(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var i=U(e,r);if(!1===i)return!1;var s=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=U(e,r);if(!1===o||e.length!==o+r.place)return!1;var a=e.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(d())(s),this.s=new(d())(a),this.recoveryParam=null,!0},k.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=F(t),r=F(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];L(n,t.length),(n=n.concat(t)).push(2),L(n,r.length);var i=n.concat(r),s=[48];return L(s,i.length),s=s.concat(i),v.encode(s,e)};var j=function(){throw Error("unsupported")},z=v.assert;function $(e){if(!(this instanceof $))return new $(e);"string"==typeof e&&(z(Object.prototype.hasOwnProperty.call(R,e),"Unknown curve "+e),e=R[e]),e instanceof R.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}$.prototype.keyPair=function(e){return new N(this,e)},$.prototype.keyFromPrivate=function(e,t){return N.fromPrivate(this,e,t)},$.prototype.keyFromPublic=function(e,t){return N.fromPublic(this,e,t)},$.prototype.genKeyPair=function(e){e||(e={});for(var t=new M({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||j(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(d())(2));;){var i=new(d())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},$.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},$.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(d())(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),a=new M({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new(d())(1)),l=0;;l++){var u=n.k?n.k(l):new(d())(a.generate(this.n.byteLength()));if(!(0>=(u=this._truncateToN(u,!0)).cmpn(1)||u.cmp(c)>=0)){var h=this.g.mul(u);if(!h.isInfinity()){var f=h.getX(),p=f.umod(this.n);if(0!==p.cmpn(0)){var g=u.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var y=(h.getY().isOdd()?1:0)|(0!==f.cmp(p)?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),y^=1),new k({r:p,s:g,recoveryParam:y})}}}}}},$.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(d())(e,16)),r=this.keyFromPublic(r,n);var i,s=(t=new k(t,"hex")).r,o=t.s;if(0>s.cmpn(1)||s.cmp(this.n)>=0||0>o.cmpn(1)||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n);return this.curve._maxwellTrick?!(i=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&i.eqXToP(s):!(i=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===i.getX().umod(this.n).cmp(s)},$.prototype.recoverPubKey=function(e,t,r,n){z((3&r)===r,"The recovery param is more than two bits"),t=new k(t,n);var i=this.n,s=new(d())(e),o=t.r,a=t.s,c=1&r,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw Error("Unable to find sencond key candinate");o=l?this.curve.pointFromX(o.add(this.curve.n),c):this.curve.pointFromX(o,c);var u=t.r.invm(i),h=i.sub(s).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(h,o,f)},$.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new k(t,n)).recoveryParam)return t.recoveryParam;for(var i,s=0;s<4;s++){try{i=this.recoverPubKey(e,t,s)}catch(e){continue}if(i.eq(r))return s}throw Error("Unable to find valid recovery factor")};var q=g(function(e,t){t.version="6.5.4",t.utils=v,t.rand=function(){throw Error("unsupported")},t.curve=x,t.curves=R,t.ec=$,t.eddsa=null}).ec,V=r(31240),H=r(97327);let G=new H.Yd("signing-key/5.7.0"),K=null;function J(){return K||(K=new q("secp256k1")),K}class Z{constructor(e){(0,V.zG)(this,"curve","secp256k1"),(0,V.zG)(this,"privateKey",(0,a.Dv)(e)),32!==(0,a.E1)(this.privateKey)&&G.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=J().keyFromPrivate((0,a.lE)(this.privateKey));(0,V.zG)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,V.zG)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,V.zG)(this,"_isSigningKey",!0)}_addPoint(e){let t=J().keyFromPublic((0,a.lE)(this.publicKey)),r=J().keyFromPublic((0,a.lE)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=J().keyFromPrivate((0,a.lE)(this.privateKey)),r=(0,a.lE)(e);32!==r.length&&G.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return(0,a.N)({recoveryParam:n.recoveryParam,r:(0,a.$m)("0x"+n.r.toString(16),32),s:(0,a.$m)("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=J().keyFromPrivate((0,a.lE)(this.privateKey)),r=J().keyFromPublic((0,a.lE)(Y(e)));return(0,a.$m)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Y(e,t){let r=(0,a.lE)(e);if(32===r.length){let e=new Z(r);return t?"0x"+J().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?(0,a.Dv)(r):"0x"+J().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+J().keyFromPublic(r).getPublic(!0,"hex"):(0,a.Dv)(r):G.throwArgumentError("invalid public or private key","key","[REDACTED]")}let Q=new H.Yd("transactions/5.7.0");function X(e){return"0x"===e?null:(0,s.Kn)(e)}function ee(e){return"0x"===e?c._Y:o.O$.from(e)}function et(e,t){return function(e){let t=Y(e);return(0,s.Kn)((0,a.p3)((0,l.w)((0,a.p3)(t,1)),12))}(function(e,t){let r=(0,a.N)(t),n={r:(0,a.lE)(r.r),s:(0,a.lE)(r.s)};return"0x"+J().recoverPubKey((0,a.lE)(e),n,r.recoveryParam).encode("hex",!1)}((0,a.lE)(e),t))}function er(e,t){let r=(0,a.G1)(o.O$.from(e).toHexString());return r.length>32&&Q.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function en(e,t){return{address:(0,s.Kn)(e),storageKeys:(t||[]).map((t,r)=>(32!==(0,a.E1)(t)&&Q.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function ei(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&Q.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),en(e[0],e[1])):en(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return en(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function es(e){return ei(e).map(e=>[e.address,e.storageKeys])}function eo(e,t){if(null!=e.gasPrice){let t=o.O$.from(e.gasPrice),r=o.O$.from(e.maxFeePerGas||0);t.eq(r)||Q.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[er(e.chainId||0,"chainId"),er(e.nonce||0,"nonce"),er(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),er(e.maxFeePerGas||0,"maxFeePerGas"),er(e.gasLimit||0,"gasLimit"),null!=e.to?(0,s.Kn)(e.to):"0x",er(e.value||0,"value"),e.data||"0x",es(e.accessList||[])];if(t){let e=(0,a.N)(t);r.push(er(e.recoveryParam,"recoveryParam")),r.push((0,a.G1)(e.r)),r.push((0,a.G1)(e.s))}return(0,a.xs)(["0x02",u.c(r)])}function ea(e,t){let r=[er(e.chainId||0,"chainId"),er(e.nonce||0,"nonce"),er(e.gasPrice||0,"gasPrice"),er(e.gasLimit||0,"gasLimit"),null!=e.to?(0,s.Kn)(e.to):"0x",er(e.value||0,"value"),e.data||"0x",es(e.accessList||[])];if(t){let e=(0,a.N)(t);r.push(er(e.recoveryParam,"recoveryParam")),r.push((0,a.G1)(e.r)),r.push((0,a.G1)(e.s))}return(0,a.xs)(["0x01",u.c(r)])}function ec(e,t,r){try{let r=ee(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){Q.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,a.$m)(t[1],32),e.s=(0,a.$m)(t[2],32);try{let t=(0,l.w)(r(e));e.from=et(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function el(e){let t=(0,a.lE)(e);if(t[0]>127)return function(e){let t=u.J(e);9!==t.length&&6!==t.length&&Q.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:ee(t[0]).toNumber(),gasPrice:ee(t[1]),gasLimit:ee(t[2]),to:X(t[3]),value:ee(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=o.O$.from(t[6]).toNumber()}catch(e){return r}if(r.r=(0,a.$m)(t[7],32),r.s=(0,a.$m)(t[8],32),o.O$.from(r.r).isZero()&&o.O$.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push((0,a.Dv)(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);let s=(0,l.w)(u.c(i));try{r.from=et(s,{r:(0,a.Dv)(r.r),s:(0,a.Dv)(r.s),recoveryParam:n})}catch(e){}r.hash=(0,l.w)(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){let t=u.J(e.slice(1));8!==t.length&&11!==t.length&&Q.throwArgumentError("invalid component count for transaction type: 1","payload",(0,a.Dv)(e));let r={type:1,chainId:ee(t[0]).toNumber(),nonce:ee(t[1]).toNumber(),gasPrice:ee(t[2]),gasLimit:ee(t[3]),to:X(t[4]),value:ee(t[5]),data:t[6],accessList:ei(t[7])};return 8===t.length||(r.hash=(0,l.w)(e),ec(r,t.slice(8),ea)),r}(t);case 2:return function(e){let t=u.J(e.slice(1));9!==t.length&&12!==t.length&&Q.throwArgumentError("invalid component count for transaction type: 2","payload",(0,a.Dv)(e));let r=ee(t[2]),n=ee(t[3]),i={type:2,chainId:ee(t[0]).toNumber(),nonce:ee(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ee(t[4]),to:X(t[5]),value:ee(t[6]),data:t[7],accessList:ei(t[8])};return 9===t.length||(i.hash=(0,l.w)(e),ec(i,t.slice(9),eo)),i}(t)}return Q.throwError(`unsupported transaction type: ${t[0]}`,H.Yd.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}(n=i||(i={}))[n.legacy=0]="legacy",n[n.eip2930=1]="eip2930",n[n.eip1559=2]="eip1559"},43016:function(e,t,r){"use strict";r.d(t,{bM:function(){return A},vz:function(){return _}});var n=r(8810),i=r(97327),s=r(41607),o=r(89210);let a=new i.Yd(s.i),c={},l=o.O$.from(0),u=o.O$.from(-1);function h(e,t,r,n){let s={fault:t,operation:r};return void 0!==n&&(s.value=n),a.throwError(e,i.Yd.errors.NUMERIC_FAULT,s)}let d="0";for(;d.length<256;)d+=d;function f(e){if("number"!=typeof e)try{e=o.O$.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+d.substring(0,e):a.throwArgumentError("invalid decimal size","decimals",e)}function p(e,t){null==t&&(t=0);let r=f(t),n=(e=o.O$.from(e)).lt(l);n&&(e=e.mul(u));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let s=e.div(r).toString();return e=1===r.length?s:s+"."+i,n&&(e="-"+e),e}function g(e,t){null==t&&(t=0);let r=f(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||a.throwArgumentError("invalid decimal value","value",e);let n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&a.throwArgumentError("missing value","value",e);let i=e.split(".");i.length>2&&a.throwArgumentError("too many decimal points","value",e);let s=i[0],c=i[1];for(s||(s="0"),c||(c="0");"0"===c[c.length-1];)c=c.substring(0,c.length-1);for(c.length>r.length-1&&h("fractional component exceeds decimals","underflow","parseFixed"),""===c&&(c="0");c.length<r.length-1;)c+="0";let l=o.O$.from(s),d=o.O$.from(c),p=l.mul(r).add(d);return n&&(p=p.mul(u)),p}class y{constructor(e,t,r,n){e!==c&&a.throwError("cannot use FixedFormat constructor; use FixedFormat.from",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=f(n),Object.freeze(this)}static from(e){if(e instanceof y)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e){if("fixed"===e);else if("ufixed"===e)t=!1;else{let i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||a.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(e){let i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&a.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&a.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&a.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new y(c,t,r,n)}}class m{constructor(e,t,r,n){e!==c&&a.throwError("cannot use FixedNumber constructor; use FixedNumber.from",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&a.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return m.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return m.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return m.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return m.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(b.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(b.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&a.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=m.from("1"+d.substring(0,e),this.format),n=v.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&a.throwArgumentError("invalid byte width","width",e);let t=o.O$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,n.$m)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return m.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||(0,o.Zm)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),m.fromString(p(e,t),y.from(r))}static fromString(e,t){null==t&&(t="fixed");let r=y.from(t),i=g(e,r.decimals);!r.signed&&i.lt(l)&&h("unsigned value cannot be negative","overflow","value",e);let s=null;return r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=(0,n.$m)(s,r.width/8)),new m(c,s,p(i,r.decimals),r)}static fromBytes(e,t){null==t&&(t="fixed");let r=y.from(t);if((0,n.lE)(e).length>r.width/8)throw Error("overflow");let i=o.O$.from(e);return r.signed&&(i=i.fromTwos(r.width)),new m(c,i.toTwos((r.signed?0:1)+r.width).toHexString(),p(i,r.decimals),r)}static from(e,t){if("string"==typeof e)return m.fromString(e,t);if((0,n._t)(e))return m.fromBytes(e,t);try{return m.fromValue(e,0,t)}catch(e){if(e.code!==i.Yd.errors.INVALID_ARGUMENT)throw e}return a.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let b=m.from(1),v=m.from("0.5"),w=new i.Yd("units/5.7.0"),E=["wei","kwei","mwei","gwei","szabo","finney","ether"];function A(e,t){if("string"==typeof t){let e=E.indexOf(t);-1!==e&&(t=3*e)}return p(e,null!=t?t:18)}function _(e,t){if("string"!=typeof e&&w.throwArgumentError("value must be a string","value",e),"string"==typeof t){let e=E.indexOf(t);-1!==e&&(t=3*e)}return g(e,null!=t?t:18)}},1356:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34550);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function s(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),u(e/4294967296>>>0,t,r),u(e>>>0,t,r+4),t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e>>>0,t,r),h(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=s,t.writeInt16LE=s,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=l,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),n=o(e,t+4);return 4294967296*r+n-(n>>31)*4294967296},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r-(r>>31)*4294967296},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=l(e,t);return 4294967296*l(e,t+4)+r},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintBE value must be an integer");for(var s=1,o=e/8+i-1;o>=i;o--)r[o]=t/s&255,s*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintLE value must be an integer");for(var s=1,o=i;o<i+e/8;o++)r[o]=t/s&255,s*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},35600:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1356),i=r(87427);function s(e,t,r,s,o){if(void 0===o&&(o=0),32!==e.length)throw Error("ChaCha: key size must be 32 bytes");if(s.length<r.length)throw Error("ChaCha: destination is shorter than source");if(0===o){if(8!==t.length&&12!==t.length)throw Error("ChaCha nonce must be 8 or 12 bytes");c=(a=new Uint8Array(16)).length-t.length,a.set(t,c)}else{if(16!==t.length)throw Error("ChaCha nonce with counter must be 16 bytes");a=t,c=o}for(var a,c,l=new Uint8Array(64),u=0;u<r.length;u+=64){!function(e,t,r){for(var i=r[3]<<24|r[2]<<16|r[1]<<8|r[0],s=r[7]<<24|r[6]<<16|r[5]<<8|r[4],o=r[11]<<24|r[10]<<16|r[9]<<8|r[8],a=r[15]<<24|r[14]<<16|r[13]<<8|r[12],c=r[19]<<24|r[18]<<16|r[17]<<8|r[16],l=r[23]<<24|r[22]<<16|r[21]<<8|r[20],u=r[27]<<24|r[26]<<16|r[25]<<8|r[24],h=r[31]<<24|r[30]<<16|r[29]<<8|r[28],d=t[3]<<24|t[2]<<16|t[1]<<8|t[0],f=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=1634760805,m=857760878,b=2036477234,v=1797285236,w=i,E=s,A=o,_=a,P=c,T=l,I=u,C=h,S=d,O=f,x=p,R=g,M=0;M<20;M+=2)S^=y=y+w|0,w^=P=P+(S=S>>>16|S<<16)|0,w=w>>>20|w<<12,O^=m=m+E|0,E^=T=T+(O=O>>>16|O<<16)|0,E=E>>>20|E<<12,x^=b=b+A|0,A^=I=I+(x=x>>>16|x<<16)|0,A=A>>>20|A<<12,R^=v=v+_|0,_^=C=C+(R=R>>>16|R<<16)|0,_=_>>>20|_<<12,x^=b=b+A|0,A^=I=I+(x=x>>>24|x<<8)|0,A=A>>>25|A<<7,R^=v=v+_|0,_^=C=C+(R=R>>>24|R<<8)|0,_=_>>>25|_<<7,O^=m=m+E|0,E^=T=T+(O=O>>>24|O<<8)|0,E=E>>>25|E<<7,S^=y=y+w|0,w^=P=P+(S=S>>>24|S<<8)|0,w=w>>>25|w<<7,R^=y=y+E|0,E^=I=I+(R=R>>>16|R<<16)|0,E=E>>>20|E<<12,S^=m=m+A|0,A^=C=C+(S=S>>>16|S<<16)|0,A=A>>>20|A<<12,O^=b=b+_|0,_^=P=P+(O=O>>>16|O<<16)|0,_=_>>>20|_<<12,x^=v=v+w|0,w^=T=T+(x=x>>>16|x<<16)|0,w=w>>>20|w<<12,O^=b=b+_|0,_^=P=P+(O=O>>>24|O<<8)|0,_=_>>>25|_<<7,x^=v=v+w|0,w^=T=T+(x=x>>>24|x<<8)|0,w=w>>>25|w<<7,S^=m=m+A|0,A^=C=C+(S=S>>>24|S<<8)|0,A=A>>>25|A<<7,R^=y=y+E|0,E^=I=I+(R=R>>>24|R<<8)|0,E=E>>>25|E<<7;n.writeUint32LE(y+1634760805|0,e,0),n.writeUint32LE(m+857760878|0,e,4),n.writeUint32LE(b+2036477234|0,e,8),n.writeUint32LE(v+1797285236|0,e,12),n.writeUint32LE(w+i|0,e,16),n.writeUint32LE(E+s|0,e,20),n.writeUint32LE(A+o|0,e,24),n.writeUint32LE(_+a|0,e,28),n.writeUint32LE(P+c|0,e,32),n.writeUint32LE(T+l|0,e,36),n.writeUint32LE(I+u|0,e,40),n.writeUint32LE(C+h|0,e,44),n.writeUint32LE(S+d|0,e,48),n.writeUint32LE(O+f|0,e,52),n.writeUint32LE(x+p|0,e,56),n.writeUint32LE(R+g|0,e,60)}(l,a,e);for(var h=u;h<u+64&&h<r.length;h++)s[h]=r[h]^l[h-u];!function(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw Error("ChaCha: counter overflow")}(a,0,c)}return i.wipe(l),0===o&&i.wipe(a),s}t.streamXOR=s,t.stream=function(e,t,r,n){return void 0===n&&(n=0),i.wipe(r),s(e,t,r,r,n)}},50972:function(e,t,r){"use strict";var n=r(35600),i=r(50081),s=r(87427),o=r(1356),a=r(35905);t.Cv=32,t.WH=12,t.pg=16;var c=new Uint8Array(16),l=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var o,a=new Uint8Array(16);a.set(e,a.length-e.length);var c=new Uint8Array(32);n.stream(this._key,a,c,4);var l=t.length+this.tagLength;if(i){if(i.length!==l)throw Error("ChaCha20Poly1305: incorrect destination length");o=i}else o=new Uint8Array(l);return n.streamXOR(this._key,a,t,o,4),this._authenticate(o.subarray(o.length-this.tagLength,o.length),c,o.subarray(0,o.length-this.tagLength),r),s.wipe(a),o},e.prototype.open=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o,c=new Uint8Array(16);c.set(e,c.length-e.length);var l=new Uint8Array(32);n.stream(this._key,c,l,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,l,t.subarray(0,t.length-this.tagLength),r),!a.equal(u,t.subarray(t.length-this.tagLength,t.length)))return null;var h=t.length-this.tagLength;if(i){if(i.length!==h)throw Error("ChaCha20Poly1305: incorrect destination length");o=i}else o=new Uint8Array(h);return n.streamXOR(this._key,c,t.subarray(0,t.length-this.tagLength),o,4),s.wipe(c),o},e.prototype.clean=function(){return s.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var a=new i.Poly1305(t);n&&(a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var l=new Uint8Array(8);n&&o.writeUint64LE(n.length,l),a.update(l),o.writeUint64LE(r.length,l),a.update(l);for(var u=a.digest(),h=0;h<u.length;h++)e[h]=u[h];a.clean(),s.wipe(u),s.wipe(l)},e}();t.OK=l},35905:function(e,t){"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},48280:function(e,t,r){"use strict";t.Xx=t._w=t.aP=t.KS=t.jQ=void 0,r(78539);let n=r(16214);function i(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}r(87427),t.jQ=64,t.KS=64,t.aP=32,new Uint8Array(32)[0]=9;let s=i(),o=i([1]),a=(i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function u(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function h(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function d(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function f(e,t){let r=i(),n=i();for(let e=0;e<16;e++)n[e]=t[e];h(n),h(n),h(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,d(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function g(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function y(e,t,r){let n,i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,g=0,y=0,m=0,b=0,v=0,w=0,E=0,A=0,_=0,P=0,T=0,I=0,C=0,S=0,O=0,x=0,R=0,M=0,B=0,N=0,D=0,k=r[0],W=r[1],U=r[2],F=r[3],L=r[4],j=r[5],z=r[6],$=r[7],q=r[8],V=r[9],H=r[10],G=r[11],K=r[12],J=r[13],Z=r[14],Y=r[15];s+=(n=t[0])*k,o+=n*W,a+=n*U,c+=n*F,l+=n*L,u+=n*j,h+=n*z,d+=n*$,f+=n*q,p+=n*V,g+=n*H,y+=n*G,m+=n*K,b+=n*J,v+=n*Z,w+=n*Y,o+=(n=t[1])*k,a+=n*W,c+=n*U,l+=n*F,u+=n*L,h+=n*j,d+=n*z,f+=n*$,p+=n*q,g+=n*V,y+=n*H,m+=n*G,b+=n*K,v+=n*J,w+=n*Z,E+=n*Y,a+=(n=t[2])*k,c+=n*W,l+=n*U,u+=n*F,h+=n*L,d+=n*j,f+=n*z,p+=n*$,g+=n*q,y+=n*V,m+=n*H,b+=n*G,v+=n*K,w+=n*J,E+=n*Z,A+=n*Y,c+=(n=t[3])*k,l+=n*W,u+=n*U,h+=n*F,d+=n*L,f+=n*j,p+=n*z,g+=n*$,y+=n*q,m+=n*V,b+=n*H,v+=n*G,w+=n*K,E+=n*J,A+=n*Z,_+=n*Y,l+=(n=t[4])*k,u+=n*W,h+=n*U,d+=n*F,f+=n*L,p+=n*j,g+=n*z,y+=n*$,m+=n*q,b+=n*V,v+=n*H,w+=n*G,E+=n*K,A+=n*J,_+=n*Z,P+=n*Y,u+=(n=t[5])*k,h+=n*W,d+=n*U,f+=n*F,p+=n*L,g+=n*j,y+=n*z,m+=n*$,b+=n*q,v+=n*V,w+=n*H,E+=n*G,A+=n*K,_+=n*J,P+=n*Z,T+=n*Y,h+=(n=t[6])*k,d+=n*W,f+=n*U,p+=n*F,g+=n*L,y+=n*j,m+=n*z,b+=n*$,v+=n*q,w+=n*V,E+=n*H,A+=n*G,_+=n*K,P+=n*J,T+=n*Z,I+=n*Y,d+=(n=t[7])*k,f+=n*W,p+=n*U,g+=n*F,y+=n*L,m+=n*j,b+=n*z,v+=n*$,w+=n*q,E+=n*V,A+=n*H,_+=n*G,P+=n*K,T+=n*J,I+=n*Z,C+=n*Y,f+=(n=t[8])*k,p+=n*W,g+=n*U,y+=n*F,m+=n*L,b+=n*j,v+=n*z,w+=n*$,E+=n*q,A+=n*V,_+=n*H,P+=n*G,T+=n*K,I+=n*J,C+=n*Z,S+=n*Y,p+=(n=t[9])*k,g+=n*W,y+=n*U,m+=n*F,b+=n*L,v+=n*j,w+=n*z,E+=n*$,A+=n*q,_+=n*V,P+=n*H,T+=n*G,I+=n*K,C+=n*J,S+=n*Z,O+=n*Y,g+=(n=t[10])*k,y+=n*W,m+=n*U,b+=n*F,v+=n*L,w+=n*j,E+=n*z,A+=n*$,_+=n*q,P+=n*V,T+=n*H,I+=n*G,C+=n*K,S+=n*J,O+=n*Z,x+=n*Y,y+=(n=t[11])*k,m+=n*W,b+=n*U,v+=n*F,w+=n*L,E+=n*j,A+=n*z,_+=n*$,P+=n*q,T+=n*V,I+=n*H,C+=n*G,S+=n*K,O+=n*J,x+=n*Z,R+=n*Y,m+=(n=t[12])*k,b+=n*W,v+=n*U,w+=n*F,E+=n*L,A+=n*j,_+=n*z,P+=n*$,T+=n*q,I+=n*V,C+=n*H,S+=n*G,O+=n*K,x+=n*J,R+=n*Z,M+=n*Y,b+=(n=t[13])*k,v+=n*W,w+=n*U,E+=n*F,A+=n*L,_+=n*j,P+=n*z,T+=n*$,I+=n*q,C+=n*V,S+=n*H,O+=n*G,x+=n*K,R+=n*J,M+=n*Z,B+=n*Y,v+=(n=t[14])*k,w+=n*W,E+=n*U,A+=n*F,_+=n*L,P+=n*j,T+=n*z,I+=n*$,C+=n*q,S+=n*V,O+=n*H,x+=n*G,R+=n*K,M+=n*J,B+=n*Z,N+=n*Y,w+=(n=t[15])*k,E+=n*W,A+=n*U,_+=n*F,P+=n*L,T+=n*j,I+=n*z,C+=n*$,S+=n*q,O+=n*V,x+=n*H,R+=n*G,M+=n*K,B+=n*J,N+=n*Z,D+=n*Y,s+=38*E,o+=38*A,a+=38*_,c+=38*P,l+=38*T,u+=38*I,h+=38*C,d+=38*S,f+=38*O,p+=38*x,g+=38*R,y+=38*M,m+=38*B,b+=38*N,v+=38*D,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=m,e[13]=b,e[14]=v,e[15]=w}function m(e,t){let r=i(),n=i(),s=i(),o=i(),c=i(),l=i(),u=i(),h=i(),d=i();g(r,e[1],e[0]),g(d,t[1],t[0]),y(r,r,d),p(n,e[0],e[1]),p(d,t[0],t[1]),y(n,n,d),y(s,e[3],t[3]),y(s,s,a),y(o,e[2],t[2]),p(o,o,o),g(c,n,r),g(l,o,s),p(u,o,s),p(h,n,r),y(e[0],c,l),y(e[1],h,u),y(e[2],u,l),y(e[3],c,h)}function b(e,t,r){for(let n=0;n<4;n++)d(e[n],t[n],r)}function v(e,t){let r=i(),n=i(),s=i();(function(e,t){let r;let n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)y(n,n,n),2!==r&&4!==r&&y(n,n,t);for(r=0;r<16;r++)e[r]=n[r]})(s,t[2]),y(r,t[0],s),y(n,t[1],s),f(e,n),e[31]^=function(e){let t=new Uint8Array(32);return f(t,e),1&t[0]}(r)<<7}function w(e,t){let r=[i(),i(),i(),i()];u(r[0],c),u(r[1],l),u(r[2],o),y(r[3],c,l),function(e,t,r){u(e[0],s),u(e[1],o),u(e[2],o),u(e[3],s);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(7&n)&1;b(e,t,i),m(t,e),m(e,e),b(e,t,i)}}(e,r,t)}t._w=function(e){if(e.length!==t.aP)throw Error(`ed25519: seed must be ${t.aP} bytes`);let r=(0,n.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;let s=new Uint8Array(32),o=[i(),i(),i(),i()];w(o,r),v(s,o);let a=new Uint8Array(64);return a.set(e),a.set(s,32),{publicKey:s,secretKey:a}};let E=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function A(e,t){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*E[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*E[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*E[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function _(e){let t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let t=0;t<64;t++)e[t]=0;A(e,t)}t.Xx=function(e,t){let r=new Float64Array(64),s=[i(),i(),i(),i()],o=(0,n.hash)(e.subarray(0,32));o[0]&=248,o[31]&=127,o[31]|=64;let a=new Uint8Array(64);a.set(o.subarray(32),32);let c=new n.SHA512;c.update(a.subarray(32)),c.update(t);let l=c.digest();c.clean(),_(l),w(s,l),v(a,s),c.reset(),c.update(a.subarray(0,32)),c.update(e.subarray(32)),c.update(t);let u=c.digest();_(u);for(let e=0;e<32;e++)r[e]=l[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)r[e+t]+=u[e]*o[t];return A(a.subarray(32),r),a}},50601:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},9014:function(e,t,r){"use strict";var n=r(76568),i=r(87427),s=function(){function e(e,t,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=n.hmac(this._hash,r,t);this._hmac=new n.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},e}();t.t=s},76568:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(50601),i=r(35905),s=r(87427),o=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return e.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?this._outer.finish(e):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=o,t.hmac=function(e,t,r){var n=new o(e,t);n.update(r);var i=n.digest();return n.clean(),i},t.equal=i.equal},34550:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},50081:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35905),i=r(87427);t.DIGEST_LENGTH=16;var s=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var c=e[12]|e[13]<<8;this._r[7]=(a>>>11|c<<5)&8065;var l=e[14]|e[15]<<8;this._r[8]=(c>>>8|l<<8)&8191,this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],l=this._h[5],u=this._h[6],h=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],g=this._r[1],y=this._r[2],m=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],E=this._r[7],A=this._r[8],_=this._r[9];r>=16;){var P,T=e[t+0]|e[t+1]<<8;i+=8191&T;var I=e[t+2]|e[t+3]<<8;s+=(T>>>13|I<<3)&8191;var C=e[t+4]|e[t+5]<<8;o+=(I>>>10|C<<6)&8191;var S=e[t+6]|e[t+7]<<8;a+=(C>>>7|S<<9)&8191;var O=e[t+8]|e[t+9]<<8;c+=(S>>>4|O<<12)&8191,l+=O>>>1&8191;var x=e[t+10]|e[t+11]<<8;u+=(O>>>14|x<<2)&8191;var R=e[t+12]|e[t+13]<<8;h+=(x>>>11|R<<5)&8191;var M=e[t+14]|e[t+15]<<8;d+=(R>>>8|M<<8)&8191,f+=M>>>5|n;var B=0;B=(P=0+i*p+5*_*s+5*A*o+5*E*a+5*w*c)>>>13,P&=8191,P+=5*v*l+5*b*u+5*m*h+5*y*d+5*g*f,B+=P>>>13,P&=8191;var N=B;N+=i*g+s*p+5*_*o+5*A*a+5*E*c,B=N>>>13,N&=8191,N+=5*w*l+5*v*u+5*b*h+5*m*d+5*y*f,B+=N>>>13,N&=8191;var D=B;D+=i*y+s*g+o*p+5*_*a+5*A*c,B=D>>>13,D&=8191,D+=5*E*l+5*w*u+5*v*h+5*b*d+5*m*f,B+=D>>>13,D&=8191;var k=B;k+=i*m+s*y+o*g+a*p+5*_*c,B=k>>>13,k&=8191,k+=5*A*l+5*E*u+5*w*h+5*v*d+5*b*f,B+=k>>>13,k&=8191;var W=B;W+=i*b+s*m+o*y+a*g+c*p,B=W>>>13,W&=8191,W+=5*_*l+5*A*u+5*E*h+5*w*d+5*v*f,B+=W>>>13,W&=8191;var U=B;U+=i*v+s*b+o*m+a*y+c*g,B=U>>>13,U&=8191,U+=l*p+5*_*u+5*A*h+5*E*d+5*w*f,B+=U>>>13,U&=8191;var F=B;F+=i*w+s*v+o*b+a*m+c*y,B=F>>>13,F&=8191,F+=l*g+u*p+5*_*h+5*A*d+5*E*f,B+=F>>>13,F&=8191;var L=B;L+=i*E+s*w+o*v+a*b+c*m,B=L>>>13,L&=8191,L+=l*y+u*g+h*p+5*_*d+5*A*f,B+=L>>>13,L&=8191;var j=B;j+=i*A+s*E+o*w+a*v+c*b,B=j>>>13,j&=8191,j+=l*m+u*y+h*g+d*p+5*_*f,B+=j>>>13,j&=8191;var z=B;z+=i*_+s*A+o*E+a*w+c*v,B=z>>>13,z&=8191,z+=l*b+u*m+h*y+d*g+f*p,B+=z>>>13,z&=8191,P=8191&(B=(B=(B<<2)+B|0)+P|0),B>>>=13,N+=B,i=P,s=N,o=D,a=k,c=W,l=U,u=F,h=L,d=j,f=z,t+=16,r-=16}this._h[0]=i,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=l,this._h[6]=u,this._h[7]=h,this._h[8]=d,this._h[9]=f},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(s=0,n=~n;s<10;s++)this._h[s]=this._h[s]&n|o[s];for(s=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,i=this._h[0]+this._pad[0],this._h[0]=65535&i;s<8;s++)i=(this._h[s]+this._pad[s]|0)+(i>>>16)|0,this._h[s]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(var i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=s,t.oneTimeAuth=function(e,t){var r=new s(e);r.update(t);var n=r.digest();return r.clean(),n},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&n.equal(e,r)}},78539:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;let n=r(25649),i=r(1356),s=r(87427);function o(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(e=t.defaultRandomSource){let r=o(4,e),n=(0,i.readUint32LE)(r);return(0,s.wipe)(r),n};let a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,r=a,n=t.defaultRandomSource){if(r.length<2)throw Error("randomString charset is too short");if(r.length>256)throw Error("randomString charset is too long");let i="",c=r.length,l=256-256%c;for(;e>0;){let t=o(Math.ceil(256*e/l),n);for(let n=0;n<t.length&&e>0;n++){let s=t[n];s<l&&(i+=r.charAt(s%c),e--)}(0,s.wipe)(t)}return i}t.randomString=c,t.randomStringForEntropy=function(e,r=a,n=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,n)}},24550:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;class r{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}t.BrowserRandomSource=r},79849:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;let n=r(87427);class i{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let e=r(35883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,n.wipe)(t),r}}t.NodeRandomSource=i},25649:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;let n=r(24550),i=r(79849);class s{constructor(){if(this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new i.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(e)}}t.SystemRandomSource=s},43094:function(e,t,r){"use strict";var n=r(1356),i=r(87427);t.k=32,t.cn=64;var s=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%64<56?64:128;this._buffer[r]=128;for(var s=r+1;s<i-8;s++)this._buffer[s]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._temp,this._state,this._buffer,0,i),this._finished=!0}for(var s=0;s<this.digestLength/4;s++)n.writeUint32BE(this._state[s],e,4*s);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,i,s){for(;s>=64;){for(var a=t[0],c=t[1],l=t[2],u=t[3],h=t[4],d=t[5],f=t[6],p=t[7],g=0;g<16;g++){var y=i+4*g;e[g]=n.readUint32BE(r,y)}for(var g=16;g<64;g++){var m=e[g-2],b=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,v=((m=e[g-15])>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;e[g]=(b+e[g-7]|0)+(v+e[g-16]|0)}for(var g=0;g<64;g++){var b=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&f)|0)+(p+(o[g]+e[g]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&l^c&l)|0;p=f,f=d,d=h,h=u+b|0,u=l,l=c,c=a,a=b+v|0}t[0]+=a,t[1]+=c,t[2]+=l,t[3]+=u,t[4]+=h,t[5]+=d,t[6]+=f,t[7]+=p,i+=64,s-=64}return i}t.vp=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},16214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1356),i=r(87427);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var s=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%128<112?128:256;this._buffer[r]=128;for(var s=r+1;s<i-8;s++)this._buffer[s]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,i),this._finished=!0}for(var s=0;s<this.digestLength/8;s++)n.writeUint32BE(this._stateHi[s],e,8*s),n.writeUint32BE(this._stateLo[s],e,8*s+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,i,s,a,c){for(var l,u,h,d,f,p,g,y,m=r[0],b=r[1],v=r[2],w=r[3],E=r[4],A=r[5],_=r[6],P=r[7],T=i[0],I=i[1],C=i[2],S=i[3],O=i[4],x=i[5],R=i[6],M=i[7];c>=128;){for(var B=0;B<16;B++){var N=8*B+a;e[B]=n.readUint32BE(s,N),t[B]=n.readUint32BE(s,N+4)}for(var B=0;B<80;B++){var D=m,k=b,W=v,U=w,F=E,L=A,j=_,z=P,$=T,q=I,V=C,H=S,G=O,K=x,J=R,Z=M;if(l=P,f=65535&(u=M),p=u>>>16,g=65535&l,y=l>>>16,l=(E>>>14|O<<18)^(E>>>18|O<<14)^(O>>>9|E<<23),f+=65535&(u=(O>>>14|E<<18)^(O>>>18|E<<14)^(E>>>9|O<<23)),p+=u>>>16,g+=65535&l,y+=l>>>16,l=E&A^~E&_,f+=65535&(u=O&x^~O&R),p+=u>>>16,g+=65535&l,y+=l>>>16,l=o[2*B],f+=65535&(u=o[2*B+1]),p+=u>>>16,g+=65535&l,y+=l>>>16,l=e[B%16],f+=65535&(u=t[B%16]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,h=65535&g|y<<16,d=65535&f|p<<16,l=h,f=65535&(u=d),p=u>>>16,g=65535&l,y=l>>>16,l=(m>>>28|T<<4)^(T>>>2|m<<30)^(T>>>7|m<<25),f+=65535&(u=(T>>>28|m<<4)^(m>>>2|T<<30)^(m>>>7|T<<25)),p+=u>>>16,g+=65535&l,y+=l>>>16,l=m&b^m&v^b&v,f+=65535&(u=T&I^T&C^I&C),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,z=65535&g|y<<16,Z=65535&f|p<<16,l=U,f=65535&(u=H),p=u>>>16,g=65535&l,y=l>>>16,l=h,f+=65535&(u=d),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,U=65535&g|y<<16,H=65535&f|p<<16,b=D,v=k,w=W,E=U,A=F,_=L,P=j,m=z,I=$,C=q,S=V,O=H,x=G,R=K,M=J,T=Z,B%16==15)for(var N=0;N<16;N++)l=e[N],f=65535&(u=t[N]),p=u>>>16,g=65535&l,y=l>>>16,l=e[(N+9)%16],f+=65535&(u=t[(N+9)%16]),p+=u>>>16,g+=65535&l,y+=l>>>16,l=((h=e[(N+1)%16])>>>1|(d=t[(N+1)%16])<<31)^(h>>>8|d<<24)^h>>>7,f+=65535&(u=(d>>>1|h<<31)^(d>>>8|h<<24)^(d>>>7|h<<25)),p+=u>>>16,g+=65535&l,y+=l>>>16,l=((h=e[(N+14)%16])>>>19|(d=t[(N+14)%16])<<13)^(d>>>29|h<<3)^h>>>6,f+=65535&(u=(d>>>19|h<<13)^(h>>>29|d<<3)^(d>>>6|h<<26)),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,e[N]=65535&g|y<<16,t[N]=65535&f|p<<16}l=m,f=65535&(u=T),p=u>>>16,g=65535&l,y=l>>>16,l=r[0],f+=65535&(u=i[0]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[0]=m=65535&g|y<<16,i[0]=T=65535&f|p<<16,l=b,f=65535&(u=I),p=u>>>16,g=65535&l,y=l>>>16,l=r[1],f+=65535&(u=i[1]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[1]=b=65535&g|y<<16,i[1]=I=65535&f|p<<16,l=v,f=65535&(u=C),p=u>>>16,g=65535&l,y=l>>>16,l=r[2],f+=65535&(u=i[2]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[2]=v=65535&g|y<<16,i[2]=C=65535&f|p<<16,l=w,f=65535&(u=S),p=u>>>16,g=65535&l,y=l>>>16,l=r[3],f+=65535&(u=i[3]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[3]=w=65535&g|y<<16,i[3]=S=65535&f|p<<16,l=E,f=65535&(u=O),p=u>>>16,g=65535&l,y=l>>>16,l=r[4],f+=65535&(u=i[4]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[4]=E=65535&g|y<<16,i[4]=O=65535&f|p<<16,l=A,f=65535&(u=x),p=u>>>16,g=65535&l,y=l>>>16,l=r[5],f+=65535&(u=i[5]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[5]=A=65535&g|y<<16,i[5]=x=65535&f|p<<16,l=_,f=65535&(u=R),p=u>>>16,g=65535&l,y=l>>>16,l=r[6],f+=65535&(u=i[6]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[6]=_=65535&g|y<<16,i[6]=R=65535&f|p<<16,l=P,f=65535&(u=M),p=u>>>16,g=65535&l,y=l>>>16,l=r[7],f+=65535&(u=i[7]),p+=u>>>16,g+=65535&l,y+=l>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[7]=P=65535&g|y<<16,i[7]=M=65535&f|p<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},87427:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},11153:function(e,t,r){"use strict";t.gi=t.Au=t.KS=t.kz=void 0;let n=r(78539),i=r(87427);function s(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.kz=32,t.KS=32;let o=new Uint8Array(32);o[0]=9;let a=s([56129,1]);function c(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function u(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function h(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function d(e,t,r){let n,i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,g=0,y=0,m=0,b=0,v=0,w=0,E=0,A=0,_=0,P=0,T=0,I=0,C=0,S=0,O=0,x=0,R=0,M=0,B=0,N=0,D=0,k=r[0],W=r[1],U=r[2],F=r[3],L=r[4],j=r[5],z=r[6],$=r[7],q=r[8],V=r[9],H=r[10],G=r[11],K=r[12],J=r[13],Z=r[14],Y=r[15];s+=(n=t[0])*k,o+=n*W,a+=n*U,c+=n*F,l+=n*L,u+=n*j,h+=n*z,d+=n*$,f+=n*q,p+=n*V,g+=n*H,y+=n*G,m+=n*K,b+=n*J,v+=n*Z,w+=n*Y,o+=(n=t[1])*k,a+=n*W,c+=n*U,l+=n*F,u+=n*L,h+=n*j,d+=n*z,f+=n*$,p+=n*q,g+=n*V,y+=n*H,m+=n*G,b+=n*K,v+=n*J,w+=n*Z,E+=n*Y,a+=(n=t[2])*k,c+=n*W,l+=n*U,u+=n*F,h+=n*L,d+=n*j,f+=n*z,p+=n*$,g+=n*q,y+=n*V,m+=n*H,b+=n*G,v+=n*K,w+=n*J,E+=n*Z,A+=n*Y,c+=(n=t[3])*k,l+=n*W,u+=n*U,h+=n*F,d+=n*L,f+=n*j,p+=n*z,g+=n*$,y+=n*q,m+=n*V,b+=n*H,v+=n*G,w+=n*K,E+=n*J,A+=n*Z,_+=n*Y,l+=(n=t[4])*k,u+=n*W,h+=n*U,d+=n*F,f+=n*L,p+=n*j,g+=n*z,y+=n*$,m+=n*q,b+=n*V,v+=n*H,w+=n*G,E+=n*K,A+=n*J,_+=n*Z,P+=n*Y,u+=(n=t[5])*k,h+=n*W,d+=n*U,f+=n*F,p+=n*L,g+=n*j,y+=n*z,m+=n*$,b+=n*q,v+=n*V,w+=n*H,E+=n*G,A+=n*K,_+=n*J,P+=n*Z,T+=n*Y,h+=(n=t[6])*k,d+=n*W,f+=n*U,p+=n*F,g+=n*L,y+=n*j,m+=n*z,b+=n*$,v+=n*q,w+=n*V,E+=n*H,A+=n*G,_+=n*K,P+=n*J,T+=n*Z,I+=n*Y,d+=(n=t[7])*k,f+=n*W,p+=n*U,g+=n*F,y+=n*L,m+=n*j,b+=n*z,v+=n*$,w+=n*q,E+=n*V,A+=n*H,_+=n*G,P+=n*K,T+=n*J,I+=n*Z,C+=n*Y,f+=(n=t[8])*k,p+=n*W,g+=n*U,y+=n*F,m+=n*L,b+=n*j,v+=n*z,w+=n*$,E+=n*q,A+=n*V,_+=n*H,P+=n*G,T+=n*K,I+=n*J,C+=n*Z,S+=n*Y,p+=(n=t[9])*k,g+=n*W,y+=n*U,m+=n*F,b+=n*L,v+=n*j,w+=n*z,E+=n*$,A+=n*q,_+=n*V,P+=n*H,T+=n*G,I+=n*K,C+=n*J,S+=n*Z,O+=n*Y,g+=(n=t[10])*k,y+=n*W,m+=n*U,b+=n*F,v+=n*L,w+=n*j,E+=n*z,A+=n*$,_+=n*q,P+=n*V,T+=n*H,I+=n*G,C+=n*K,S+=n*J,O+=n*Z,x+=n*Y,y+=(n=t[11])*k,m+=n*W,b+=n*U,v+=n*F,w+=n*L,E+=n*j,A+=n*z,_+=n*$,P+=n*q,T+=n*V,I+=n*H,C+=n*G,S+=n*K,O+=n*J,x+=n*Z,R+=n*Y,m+=(n=t[12])*k,b+=n*W,v+=n*U,w+=n*F,E+=n*L,A+=n*j,_+=n*z,P+=n*$,T+=n*q,I+=n*V,C+=n*H,S+=n*G,O+=n*K,x+=n*J,R+=n*Z,M+=n*Y,b+=(n=t[13])*k,v+=n*W,w+=n*U,E+=n*F,A+=n*L,_+=n*j,P+=n*z,T+=n*$,I+=n*q,C+=n*V,S+=n*H,O+=n*G,x+=n*K,R+=n*J,M+=n*Z,B+=n*Y,v+=(n=t[14])*k,w+=n*W,E+=n*U,A+=n*F,_+=n*L,P+=n*j,T+=n*z,I+=n*$,C+=n*q,S+=n*V,O+=n*H,x+=n*G,R+=n*K,M+=n*J,B+=n*Z,N+=n*Y,w+=(n=t[15])*k,E+=n*W,A+=n*U,_+=n*F,P+=n*L,T+=n*j,I+=n*z,C+=n*$,S+=n*q,O+=n*V,x+=n*H,R+=n*G,M+=n*K,B+=n*J,N+=n*Z,D+=n*Y,s+=38*E,o+=38*A,a+=38*_,c+=38*P,l+=38*T,u+=38*I,h+=38*C,d+=38*S,f+=38*O,p+=38*x,g+=38*R,y+=38*M,m+=38*B,b+=38*N,v+=38*D,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=m,e[13]=b,e[14]=v,e[15]=w}function f(e,t){let r=new Uint8Array(32),n=new Float64Array(80),i=s(),o=s(),f=s(),p=s(),g=s(),y=s();for(let t=0;t<31;t++)r[t]=e[t];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(let e=0;e<16;e++)o[e]=n[e];i[0]=p[0]=1;for(let e=254;e>=0;--e){let t=r[e>>>3]>>>(7&e)&1;l(i,o,t),l(f,p,t),u(g,i,f),h(i,i,f),u(f,o,p),h(o,o,p),d(p,g,g),d(y,i,i),d(i,f,i),d(f,o,g),u(g,i,f),h(i,i,f),d(o,i,i),h(f,p,y),d(i,f,a),u(i,i,p),d(f,f,i),d(i,p,y),d(p,o,n),d(o,g,g),l(i,o,t),l(f,p,t)}for(let e=0;e<16;e++)n[e+16]=i[e],n[e+32]=f[e],n[e+48]=o[e],n[e+64]=p[e];let m=n.subarray(32),b=n.subarray(16);!function(e,t){let r=s();for(let e=0;e<16;e++)r[e]=t[e];for(let e=253;e>=0;e--)d(r,r,r),2!==e&&4!==e&&d(r,r,t);for(let t=0;t<16;t++)e[t]=r[t]}(m,m),d(b,b,m);let v=new Uint8Array(32);return!function(e,t){let r=s(),n=s();for(let e=0;e<16;e++)n[e]=t[e];c(n),c(n),c(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,l(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}(v,b),v}t.Au=function(e){let r=(0,n.randomBytes)(32,e),s=function(e){if(e.length!==t.KS)throw Error(`x25519: seed must be ${t.KS} bytes`);let r=new Uint8Array(e);return{publicKey:f(r,o),secretKey:r}}(r);return(0,i.wipe)(r),s},t.gi=function(e,r,n=!1){if(e.length!==t.kz)throw Error("X25519: incorrect secret key length");if(r.length!==t.kz)throw Error("X25519: incorrect public key length");let i=f(e,r);if(n){let e=0;for(let t=0;t<i.length;t++)e|=i[t];if(0===e)throw Error("X25519: invalid shared key")}return i}},5657:function(e,t,r){var n,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},s="undefined"!=typeof window&&window===this?this:void 0!==r.g&&null!=r.g?r.g:this;function o(){o=function(){},s.Symbol||(s.Symbol=c)}function a(e,t){this.a=e,i(this,"description",{configurable:!0,writable:!0,value:t})}a.prototype.toString=function(){return this.a};var c=(n=0,function e(t){if(this instanceof e)throw TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(t||"")+"_"+n++,t)});function l(){o();var e=s.Symbol.iterator;e||(e=s.Symbol.iterator=s.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&i(Array.prototype,e,{configurable:!0,writable:!0,value:function(){var e,t,r;return e=this,t=0,r=function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}},l(),(r={next:r})[s.Symbol.iterator]=function(){return this},r}}),l=function(){}}!function(e,t){if(t){var r=s;e=e.split(".");for(var n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&i(r,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.entries",function(e){return e||function(){var e,t,r,n;return e=this,t=function(e,t){return[e,t]},l(),e instanceof String&&(e+=""),r=0,(n={next:function(){if(r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}})[Symbol.iterator]=function(){return n},n}});var u=this||self;function h(e,t,r){e=e.split("."),r=r||u,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),g=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t,void 0)}:function(e,t){for(var r=e.length,n="string"==typeof e?e.split(""):e,i=0;i<r;i++)i in n&&t.call(void 0,n[i],i,e)},y=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var r=e.length,n=Array(r),i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&(n[s]=t.call(void 0,i[s],s,e));return n};function m(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var s=n}else e&&(i+=": "+e,s=t);throw Error(i,s||[])}function b(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return e||m("",null,t,n),e}function v(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];throw Error("Failure"+(e?": "+e:""),r)}function w(e,t,r,n){for(var i=[],s=3;s<arguments.length;++s)i[s-3]=arguments[s];e instanceof t||m("Expected instanceof %s but got %s.",[E(t),E(e)],r,i)}function E(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e}function A(e,t){if(this.c=e,this.b=t,this.a={},this.arrClean=!0,0<this.c.length){for(e=0;e<this.c.length;e++){var r=(t=this.c[e])[0];this.a[r.toString()]=new I(r,t[1])}this.arrClean=!0}}function _(e){this.a=0,this.b=e}function P(e,t){return e.b?(t.a||(t.a=new e.b(t.value)),t.a):t.value}function T(e){e=e.a;var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}function I(e,t){this.key=e,this.value=t,this.a=void 0}function C(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192)t+=String.fromCharCode.apply(null,function(e,t,r){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)}(e,r,r+8192));return t}h("jspb.Map",A,void 0),A.prototype.g=function(){if(this.arrClean){if(this.b){var e,t=this.a;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].a;r&&r.g()}}}else{for(this.c.length=0,(t=T(this)).sort(),e=0;e<t.length;e++){var n=this.a[t[e]];(r=n.a)&&r.g(),this.c.push([n.key,n.value])}this.arrClean=!0}return this.c},A.prototype.toArray=A.prototype.g,A.prototype.Mc=function(e,t){for(var r=this.g(),n=[],i=0;i<r.length;i++){var s=this.a[r[i][0].toString()];P(this,s);var o=s.a;o?(b(t),n.push([s.key,t(e,o)])):n.push([s.key,s.value])}return n},A.prototype.toObject=A.prototype.Mc,A.fromObject=function(e,t,r){t=new A([],t);for(var n=0;n<e.length;n++){var i=e[n][0],s=r(e[n][1]);t.set(i,s)}return t},_.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(_.prototype[Symbol.iterator]=function(){return this}),A.prototype.Jb=function(){return T(this).length},A.prototype.getLength=A.prototype.Jb,A.prototype.clear=function(){this.a={},this.arrClean=!1},A.prototype.clear=A.prototype.clear,A.prototype.Cb=function(e){e=e.toString();var t=this.a.hasOwnProperty(e);return delete this.a[e],this.arrClean=!1,t},A.prototype.del=A.prototype.Cb,A.prototype.Eb=function(){var e=[],t=T(this);t.sort();for(var r=0;r<t.length;r++){var n=this.a[t[r]];e.push([n.key,n.value])}return e},A.prototype.getEntryList=A.prototype.Eb,A.prototype.entries=function(){var e=[],t=T(this);t.sort();for(var r=0;r<t.length;r++){var n=this.a[t[r]];e.push([n.key,P(this,n)])}return new _(e)},A.prototype.entries=A.prototype.entries,A.prototype.keys=function(){var e=[],t=T(this);t.sort();for(var r=0;r<t.length;r++)e.push(this.a[t[r]].key);return new _(e)},A.prototype.keys=A.prototype.keys,A.prototype.values=function(){var e=[],t=T(this);t.sort();for(var r=0;r<t.length;r++)e.push(P(this,this.a[t[r]]));return new _(e)},A.prototype.values=A.prototype.values,A.prototype.forEach=function(e,t){var r=T(this);r.sort();for(var n=0;n<r.length;n++){var i=this.a[r[n]];e.call(t,P(this,i),i.key,this)}},A.prototype.forEach=A.prototype.forEach,A.prototype.set=function(e,t){var r=new I(e);return this.b?(r.a=t,r.value=t.g()):r.value=t,this.a[e.toString()]=r,this.arrClean=!1,this},A.prototype.set=A.prototype.set,A.prototype.get=function(e){if(e=this.a[e.toString()])return P(this,e)},A.prototype.get=A.prototype.get,A.prototype.has=function(e){return e.toString() in this.a},A.prototype.has=A.prototype.has,A.prototype.Jc=function(e,t,r,n,i){var s=T(this);s.sort();for(var o=0;o<s.length;o++){var a=this.a[s[o]];t.Va(e),r.call(t,1,a.key),this.b?n.call(t,2,P(this,a),i):n.call(t,2,a.value),t.Ya()}},A.prototype.serializeBinary=A.prototype.Jc,A.deserializeBinary=function(e,t,r,n,i,s,o){for(;t.oa()&&!t.bb();){var a=t.c;1==a?s=r.call(t):2==a&&(e.b?(b(i),o||(o=new e.b),n.call(t,o,i)):o=n.call(t))}b(void 0!=s),b(void 0!=o),e.set(s,o)};var S={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},O={"'":"\\'"},x={},R=null;function M(e,t){void 0===t&&(t=0),N(),t=x[t];for(var r=[],n=0;n<e.length;n+=3){var i=e[n],s=n+1<e.length,o=s?e[n+1]:0,a=n+2<e.length,c=a?e[n+2]:0,l=i>>2;i=(3&i)<<4|o>>4,o=(15&o)<<2|c>>6,c&=63,a||(c=64,s||(o=64)),r.push(t[l],t[i],t[o]||"",t[c]||"")}return r.join("")}function B(e){var t=e.length,r=3*t/4;r%3?r=Math.floor(r):-1!="=.".indexOf(e[t-1])&&(r=-1!="=.".indexOf(e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=R[r];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}N();for(var n=0;;){var i=r(-1),s=r(0),o=r(64),a=r(64);if(64===a&&-1===i)break;t(i<<2|s>>4),64!=o&&(t(s<<4&240|o>>2),64!=a&&t(o<<6&192|a))}}(e,function(e){n[i++]=e}),n.subarray(0,i)}function N(){if(!R){R={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));x[r]=n;for(var i=0;i<n.length;i++){var s=n[i];void 0===R[s]&&(R[s]=i)}}}}h("jspb.ConstBinaryMessage",function(){},void 0),h("jspb.BinaryMessage",function(){},void 0),h("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),h("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),h("jspb.BinaryConstants.FieldTypeToWireType",function(e){switch(e){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return -1}},void 0),h("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),h("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),h("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),h("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),h("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),h("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),h("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),h("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),h("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),h("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),h("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),h("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),h("jspb.BinaryConstants.TWO_TO_63",0x7fffffffffffffff,void 0),h("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),h("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var D=0,k=0;function W(e){var t=e>>>0;e=Math.floor((e-t)/4294967296)>>>0,D=t,k=e}function U(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/4294967296)>>>0,t&&(e=~e>>>0,4294967295<(r=(~r>>>0)+1)&&(r=0,4294967295<++e&&(e=0))),D=r,k=e}function F(e){var t=0>e;W(e=2*Math.abs(e)),e=D;var r=k;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),D=e,k=r}function L(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?D=k=0:(k=0,D=2147483648);else if(isNaN(e))k=0,D=2147483647;else if(34028234663852886e22<e)k=0,D=(t<<31|2139095040)>>>0;else if(11754943508222875e-54>e)k=0,D=(t<<31|(e=Math.round(e/1401298464324817e-60)))>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),16777216<=(e=Math.round(8388608*e))&&++r,k=0,D=(t<<31|r+127<<23|8388607&e)>>>0}}function j(e){var t=0>e?1:0;if(0===(e=t?-e:e))k=0<1/e?0:2147483648,D=0;else if(isNaN(e))k=2147483647,D=4294967295;else if(17976931348623157e292<e)k=(t<<31|2146435072)>>>0,D=0;else if(22250738585072014e-324>e)e/=5e-324,k=(t<<31|e/4294967296)>>>0,D=e>>>0;else{var r=e,n=0;if(2<=r)for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e*=Math.pow(2,-n),k=(t<<31|n+1023<<20|1048576*e&1048575)>>>0,D=4503599627370496*e>>>0}}function z(e){var t=e.charCodeAt(4),r=e.charCodeAt(5),n=e.charCodeAt(6),i=e.charCodeAt(7);D=e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)>>>0,k=t+(r<<8)+(n<<16)+(i<<24)>>>0}function $(e,t){return 4294967296*t+(e>>>0)}function q(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=~e+1>>>0)&&(t=t+1>>>0)),e=$(e,t),r?-e:e}function V(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)}function H(e,t){return G(e,t,q)}function G(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)}function K(e){var t=2*(e>>31)+1,r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?1401298464324817e-60*t*e:t*Math.pow(2,r-150)*(e+8388608)}function J(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=4294967296*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?5e-324*r*e:r*Math.pow(2,n-1075)*(e+4503599627370496)}function Z(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)}function Y(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+$(e,t);var n=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)}function Q(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=~e+1>>>0)?1:0)>>>0),e=Y(e,t),r?"-"+e:e}function X(e,t){z(e),e=D;var r=k;return t?Q(e,r):Y(e,r)}function ee(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}b(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-48);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),C(n)}function et(e){return String.fromCharCode(10>e?48+e:87+e)}function er(e){return 97<=e?e-97+10:e-48}function en(e,t,r,n,i){var s=0;if(128>n)for(;t<r&&e[t++]==n;)s++,t+=i;else for(;t<r;){for(var o=n;128<o;){if(e[t++]!=(127&o|128))return s;o>>=7}if(e[t++]!=o)break;s++,t+=i}return s}function ei(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?B(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(v("Type not convertible to Uint8Array."),new Uint8Array(0))}function es(e,t,r){this.b=null,this.a=this.c=this.h=0,this.v=!1,e&&this.H(e,t,r)}h("jspb.utils.getSplit64Low",function(){return D},void 0),h("jspb.utils.getSplit64High",function(){return k},void 0),h("jspb.utils.splitUint64",W,void 0),h("jspb.utils.splitInt64",U,void 0),h("jspb.utils.splitZigzag64",F,void 0),h("jspb.utils.splitFloat32",L,void 0),h("jspb.utils.splitFloat64",j,void 0),h("jspb.utils.splitHash64",z,void 0),h("jspb.utils.joinUint64",$,void 0),h("jspb.utils.joinInt64",q,void 0),h("jspb.utils.toZigzag64",V,void 0),h("jspb.utils.joinZigzag64",H,void 0),h("jspb.utils.fromZigzag64",G,void 0),h("jspb.utils.joinFloat32",K,void 0),h("jspb.utils.joinFloat64",J,void 0),h("jspb.utils.joinHash64",Z,void 0),h("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0),h("jspb.utils.joinUnsignedDecimalString",Y,void 0),h("jspb.utils.joinSignedDecimalString",Q,void 0),h("jspb.utils.hash64ToDecimalString",X,void 0),h("jspb.utils.hash64ArrayToDecimalStrings",function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=X(e[n],t);return r},void 0),h("jspb.utils.decimalStringToHash64",ee,void 0),h("jspb.utils.splitDecimalString",function(e){z(ee(e))},void 0),h("jspb.utils.hash64ToHexString",function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=et(n>>4),t[2*r+3]=et(15&n)}return t.join("")},void 0),h("jspb.utils.hexStringToHash64",function(e){b(18==(e=e.toLowerCase()).length),b("0"==e[0]),b("x"==e[1]);for(var t="",r=0;8>r;r++)t=String.fromCharCode(16*er(e.charCodeAt(2*r+2))+er(e.charCodeAt(2*r+3)))+t;return t},void 0),h("jspb.utils.hash64ToNumber",function(e,t){z(e),e=D;var r=k;return t?q(e,r):$(e,r)},void 0),h("jspb.utils.numberToHash64",function(e){return U(e),Z(D,k)},void 0),h("jspb.utils.countVarints",function(e,t,r){for(var n=0,i=t;i<r;i++)n+=e[i]>>7;return r-t-n},void 0),h("jspb.utils.countVarintFields",function(e,t,r,n){var i=0;if(128>(n*=8))for(;t<r&&e[t++]==n;)for(i++;;){var s=e[t++];if(0==(128&s))break}else for(;t<r;){for(s=n;128<s;){if(e[t]!=(127&s|128))return i;t++,s>>=7}if(e[t++]!=s)break;for(i++;0!=(128&(s=e[t++])););}return i},void 0),h("jspb.utils.countFixed32Fields",function(e,t,r,n){return en(e,t,r,8*n+5,4)},void 0),h("jspb.utils.countFixed64Fields",function(e,t,r,n){return en(e,t,r,8*n+1,8)},void 0),h("jspb.utils.countDelimitedFields",function(e,t,r,n){var i=0;for(n=8*n+2;t<r;){for(var s=n;128<s;){if(e[t++]!=(127&s|128))return i;s>>=7}if(e[t++]!=s)break;i++;for(var o=0,a=1;o+=(127&(s=e[t++]))*a,a*=128,0!=(128&s););t+=o}return i},void 0),h("jspb.utils.debugBytesToTextFormat",function(e){var t='"';if(e){e=ei(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},void 0),h("jspb.utils.debugScalarToTextFormat",function(e){if("string"==typeof e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n,i=e.charAt(r),s=i.charCodeAt(0),o=r+1;(n=S[i])||(31<s&&127>s||((s=i)in O?i=O[s]:s in S?i=O[s]=S[s]:(31<(n=s.charCodeAt(0))&&127>n?i=s:(256>n?(i="\\x",(16>n||256<n)&&(i+="0")):(i="\\u",4096>n&&(i+="0")),i+=n.toString(16).toUpperCase()),i=O[s]=i)),n=i),t[o]=n}t.push('"'),e=t.join("")}else e=e.toString();return e},void 0),h("jspb.utils.stringToByteArray",function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},void 0),h("jspb.utils.byteSourceToUint8Array",ei,void 0),h("jspb.BinaryDecoder",es,void 0);var eo=[];function ea(e,t,r){if(eo.length){var n=eo.pop();return e&&n.H(e,t,r),n}return new es(e,t,r)}function ec(e,t,r){this.a=ea(e,t,r),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}es.getInstanceCacheLength=function(){return eo.length},es.alloc=ea,es.prototype.Ca=function(){this.clear(),100>eo.length&&eo.push(this)},es.prototype.free=es.prototype.Ca,es.prototype.clone=function(){return ea(this.b,this.h,this.c-this.h)},es.prototype.clone=es.prototype.clone,es.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},es.prototype.clear=es.prototype.clear,es.prototype.Y=function(){return this.b},es.prototype.getBuffer=es.prototype.Y,es.prototype.H=function(e,t,r){this.b=ei(e),this.h=void 0!==t?t:0,this.c=void 0!==r?this.h+r:this.b.length,this.a=this.h},es.prototype.setBlock=es.prototype.H,es.prototype.Db=function(){return this.c},es.prototype.getEnd=es.prototype.Db,es.prototype.setEnd=function(e){this.c=e},es.prototype.setEnd=es.prototype.setEnd,es.prototype.reset=function(){this.a=this.h},es.prototype.reset=es.prototype.reset,es.prototype.B=function(){return this.a},es.prototype.getCursor=es.prototype.B,es.prototype.Ma=function(e){this.a=e},es.prototype.setCursor=es.prototype.Ma,es.prototype.advance=function(e){this.a+=e,b(this.a<=this.c)},es.prototype.advance=es.prototype.advance,es.prototype.ya=function(){return this.a==this.c},es.prototype.atEnd=es.prototype.ya,es.prototype.Qb=function(){return this.a>this.c},es.prototype.pastEnd=es.prototype.Qb,es.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},es.prototype.getError=es.prototype.getError,es.prototype.w=function(e){for(var t=128,r=0,n=0,i=0;4>i&&128<=t;i++)r|=(127&(t=this.b[this.a++]))<<7*i;if(128<=t&&(r|=(127&(t=this.b[this.a++]))<<28,n|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)n|=(127&(t=this.b[this.a++]))<<7*i+3;if(128>t)return e(r>>>0,n>>>0);v("Failed to read varint, encoding is invalid."),this.v=!0},es.prototype.readSplitVarint64=es.prototype.w,es.prototype.ea=function(e){return this.w(function(t,r){return G(t,r,e)})},es.prototype.readSplitZigzagVarint64=es.prototype.ea,es.prototype.ta=function(e){var t=this.b,r=this.a;this.a+=8;for(var n=0,i=0,s=r+7;s>=r;s--)n=n<<8|t[s],i=i<<8|t[s+4];return e(n,i)},es.prototype.readSplitFixed64=es.prototype.ta,es.prototype.kb=function(){for(;128&this.b[this.a];)this.a++;this.a++},es.prototype.skipVarint=es.prototype.kb,es.prototype.mb=function(e){for(;128<e;)this.a--,e>>>=7;this.a--},es.prototype.unskipVarint=es.prototype.mb,es.prototype.o=function(){var e=this.b,t=e[this.a],r=127&t;return 128>t?(this.a+=1,b(this.a<=this.c),r):(r|=(127&(t=e[this.a+1]))<<7,128>t)?(this.a+=2,b(this.a<=this.c),r):(r|=(127&(t=e[this.a+2]))<<14,128>t)?(this.a+=3,b(this.a<=this.c),r):(r|=(127&(t=e[this.a+3]))<<21,128>t)?(this.a+=4,b(this.a<=this.c),r):(r|=(15&(t=e[this.a+4]))<<28,128>t)?(this.a+=5,b(this.a<=this.c),r>>>0):(this.a+=5,128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&b(!1),b(this.a<=this.c),r)},es.prototype.readUnsignedVarint32=es.prototype.o,es.prototype.da=function(){return~~this.o()},es.prototype.readSignedVarint32=es.prototype.da,es.prototype.O=function(){return this.o().toString()},es.prototype.Ea=function(){return this.da().toString()},es.prototype.readSignedVarint32String=es.prototype.Ea,es.prototype.Ia=function(){var e=this.o();return e>>>1^-(1&e)},es.prototype.readZigzagVarint32=es.prototype.Ia,es.prototype.Ga=function(){return this.w($)},es.prototype.readUnsignedVarint64=es.prototype.Ga,es.prototype.Ha=function(){return this.w(Y)},es.prototype.readUnsignedVarint64String=es.prototype.Ha,es.prototype.sa=function(){return this.w(q)},es.prototype.readSignedVarint64=es.prototype.sa,es.prototype.Fa=function(){return this.w(Q)},es.prototype.readSignedVarint64String=es.prototype.Fa,es.prototype.Ja=function(){return this.w(H)},es.prototype.readZigzagVarint64=es.prototype.Ja,es.prototype.fb=function(){return this.ea(Z)},es.prototype.readZigzagVarintHash64=es.prototype.fb,es.prototype.Ka=function(){return this.ea(Q)},es.prototype.readZigzagVarint64String=es.prototype.Ka,es.prototype.Gc=function(){var e=this.b[this.a];return this.a+=1,b(this.a<=this.c),e},es.prototype.readUint8=es.prototype.Gc,es.prototype.Ec=function(){var e=this.b[this.a],t=this.b[this.a+1];return this.a+=2,b(this.a<=this.c),e<<0|t<<8},es.prototype.readUint16=es.prototype.Ec,es.prototype.m=function(){var e=this.b[this.a],t=this.b[this.a+1],r=this.b[this.a+2],n=this.b[this.a+3];return this.a+=4,b(this.a<=this.c),(e<<0|t<<8|r<<16|n<<24)>>>0},es.prototype.readUint32=es.prototype.m,es.prototype.ga=function(){return $(this.m(),this.m())},es.prototype.readUint64=es.prototype.ga,es.prototype.ha=function(){return Y(this.m(),this.m())},es.prototype.readUint64String=es.prototype.ha,es.prototype.Xb=function(){var e=this.b[this.a];return this.a+=1,b(this.a<=this.c),e<<24>>24},es.prototype.readInt8=es.prototype.Xb,es.prototype.Vb=function(){var e=this.b[this.a],t=this.b[this.a+1];return this.a+=2,b(this.a<=this.c),(e<<0|t<<8)<<16>>16},es.prototype.readInt16=es.prototype.Vb,es.prototype.P=function(){var e=this.b[this.a],t=this.b[this.a+1],r=this.b[this.a+2],n=this.b[this.a+3];return this.a+=4,b(this.a<=this.c),e<<0|t<<8|r<<16|n<<24},es.prototype.readInt32=es.prototype.P,es.prototype.ba=function(){return q(this.m(),this.m())},es.prototype.readInt64=es.prototype.ba,es.prototype.ca=function(){return Q(this.m(),this.m())},es.prototype.readInt64String=es.prototype.ca,es.prototype.aa=function(){return K(this.m(),0)},es.prototype.readFloat=es.prototype.aa,es.prototype.Z=function(){return J(this.m(),this.m())},es.prototype.readDouble=es.prototype.Z,es.prototype.pa=function(){return!!this.b[this.a++]},es.prototype.readBool=es.prototype.pa,es.prototype.ra=function(){return this.da()},es.prototype.readEnum=es.prototype.ra,es.prototype.fa=function(e){var t=this.b,r=this.a;e=r+e;for(var n=[],i="";r<e;){var s=t[r++];if(128>s)n.push(s);else if(192>s)continue;else if(224>s){var o=t[r++];n.push((31&s)<<6|63&o)}else if(240>s){o=t[r++];var a=t[r++];n.push((15&s)<<12|(63&o)<<6|63&a)}else 248>s&&(s=((7&s)<<18|(63&(o=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++])-65536,n.push((s>>10&1023)+55296,(1023&s)+56320));8192<=n.length&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i+=C(n),this.a=r,i},es.prototype.readString=es.prototype.fa,es.prototype.Dc=function(){var e=this.o();return this.fa(e)},es.prototype.readStringWithLength=es.prototype.Dc,es.prototype.qa=function(e){if(0>e||this.a+e>this.b.length)return this.v=!0,v("Invalid byte length!"),new Uint8Array(0);var t=this.b.subarray(this.a,this.a+e);return this.a+=e,b(this.a<=this.c),t},es.prototype.readBytes=es.prototype.qa,es.prototype.ia=function(){return this.w(Z)},es.prototype.readVarintHash64=es.prototype.ia,es.prototype.$=function(){var e=this.b,t=this.a,r=e[t],n=e[t+1],i=e[t+2],s=e[t+3],o=e[t+4],a=e[t+5],c=e[t+6];return e=e[t+7],this.a+=8,String.fromCharCode(r,n,i,s,o,a,c,e)},es.prototype.readFixedHash64=es.prototype.$,h("jspb.BinaryReader",ec,void 0);var el=[];function eu(e,t,r){if(el.length){var n=el.pop();return e&&n.a.H(e,t,r),n}return new ec(e,t,r)}function eh(e,t){b(2==e.b);var r=e.a.o();r=e.a.B()+r;for(var n=[];e.a.B()<r;)n.push(t.call(e.a));return n}function ed(e,t,r,n,i){this.ma=e,this.Ba=t,this.la=r,this.Na=n,this.na=i}function ef(e,t,r,n,i,s){this.Za=e,this.za=t,this.Aa=r,this.Wa=n,this.Ab=i,this.Nb=s}function ep(){}ec.clearInstanceCache=function(){el=[]},ec.getInstanceCacheLength=function(){return el.length},ec.alloc=eu,ec.prototype.zb=eu,ec.prototype.alloc=ec.prototype.zb,ec.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>el.length&&el.push(this)},ec.prototype.free=ec.prototype.Ca,ec.prototype.Fb=function(){return this.O},ec.prototype.getFieldCursor=ec.prototype.Fb,ec.prototype.B=function(){return this.a.B()},ec.prototype.getCursor=ec.prototype.B,ec.prototype.Y=function(){return this.a.Y()},ec.prototype.getBuffer=ec.prototype.Y,ec.prototype.Hb=function(){return this.c},ec.prototype.getFieldNumber=ec.prototype.Hb,ec.prototype.Lb=function(){return this.b},ec.prototype.getWireType=ec.prototype.Lb,ec.prototype.Mb=function(){return 2==this.b},ec.prototype.isDelimited=ec.prototype.Mb,ec.prototype.bb=function(){return 4==this.b},ec.prototype.isEndGroup=ec.prototype.bb,ec.prototype.getError=function(){return this.h||this.a.getError()},ec.prototype.getError=ec.prototype.getError,ec.prototype.H=function(e,t,r){this.a.H(e,t,r),this.b=this.c=-1},ec.prototype.setBlock=ec.prototype.H,ec.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},ec.prototype.reset=ec.prototype.reset,ec.prototype.advance=function(e){this.a.advance(e)},ec.prototype.advance=ec.prototype.advance,ec.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return v("Decoder hit an error"),!1;this.O=this.a.B();var e=this.a.o(),t=e>>>3;return 0!=(e&=7)&&5!=e&&1!=e&&2!=e&&3!=e&&4!=e?(v("Invalid wire type: %s (at position %s)",e,this.O),this.h=!0,!1):(this.c=t,this.b=e,!0)},ec.prototype.nextField=ec.prototype.oa,ec.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},ec.prototype.unskipHeader=ec.prototype.Oa,ec.prototype.Lc=function(){var e=this.c;for(this.Oa();this.oa()&&this.c==e;)this.C();this.a.ya()||this.Oa()},ec.prototype.skipMatchingFields=ec.prototype.Lc,ec.prototype.lb=function(){0!=this.b?(v("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},ec.prototype.skipVarintField=ec.prototype.lb,ec.prototype.gb=function(){if(2!=this.b)v("Invalid wire type for skipDelimitedField"),this.C();else{var e=this.a.o();this.a.advance(e)}},ec.prototype.skipDelimitedField=ec.prototype.gb,ec.prototype.hb=function(){5!=this.b?(v("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},ec.prototype.skipFixed32Field=ec.prototype.hb,ec.prototype.ib=function(){1!=this.b?(v("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},ec.prototype.skipFixed64Field=ec.prototype.ib,ec.prototype.jb=function(){for(var e=this.c;;){if(!this.oa()){v("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(4==this.b){this.c!=e&&(v("Unmatched end-group tag"),this.h=!0);break}this.C()}},ec.prototype.skipGroup=ec.prototype.jb,ec.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:v("Invalid wire encoding for field.")}},ec.prototype.skipField=ec.prototype.C,ec.prototype.Hc=function(e,t){null===this.v&&(this.v={}),b(!this.v[e]),this.v[e]=t},ec.prototype.registerReadCallback=ec.prototype.Hc,ec.prototype.Ic=function(e){return b(null!==this.v),b(e=this.v[e]),e(this)},ec.prototype.runReadCallback=ec.prototype.Ic,ec.prototype.Yb=function(e,t){b(2==this.b);var r=this.a.c,n=this.a.o();n=this.a.B()+n,this.a.setEnd(n),t(e,this),this.a.Ma(n),this.a.setEnd(r)},ec.prototype.readMessage=ec.prototype.Yb,ec.prototype.Ub=function(e,t,r){b(3==this.b),b(this.c==e),r(t,this),this.h||4==this.b||(v("Group submessage did not end with an END_GROUP tag"),this.h=!0)},ec.prototype.readGroup=ec.prototype.Ub,ec.prototype.Gb=function(){b(2==this.b);var e=this.a.o(),t=this.a.B(),r=t+e;return e=ea(this.a.Y(),t,e),this.a.Ma(r),e},ec.prototype.getFieldDecoder=ec.prototype.Gb,ec.prototype.P=function(){return b(0==this.b),this.a.da()},ec.prototype.readInt32=ec.prototype.P,ec.prototype.Wb=function(){return b(0==this.b),this.a.Ea()},ec.prototype.readInt32String=ec.prototype.Wb,ec.prototype.ba=function(){return b(0==this.b),this.a.sa()},ec.prototype.readInt64=ec.prototype.ba,ec.prototype.ca=function(){return b(0==this.b),this.a.Fa()},ec.prototype.readInt64String=ec.prototype.ca,ec.prototype.m=function(){return b(0==this.b),this.a.o()},ec.prototype.readUint32=ec.prototype.m,ec.prototype.Fc=function(){return b(0==this.b),this.a.O()},ec.prototype.readUint32String=ec.prototype.Fc,ec.prototype.ga=function(){return b(0==this.b),this.a.Ga()},ec.prototype.readUint64=ec.prototype.ga,ec.prototype.ha=function(){return b(0==this.b),this.a.Ha()},ec.prototype.readUint64String=ec.prototype.ha,ec.prototype.zc=function(){return b(0==this.b),this.a.Ia()},ec.prototype.readSint32=ec.prototype.zc,ec.prototype.Ac=function(){return b(0==this.b),this.a.Ja()},ec.prototype.readSint64=ec.prototype.Ac,ec.prototype.Bc=function(){return b(0==this.b),this.a.Ka()},ec.prototype.readSint64String=ec.prototype.Bc,ec.prototype.Rb=function(){return b(5==this.b),this.a.m()},ec.prototype.readFixed32=ec.prototype.Rb,ec.prototype.Sb=function(){return b(1==this.b),this.a.ga()},ec.prototype.readFixed64=ec.prototype.Sb,ec.prototype.Tb=function(){return b(1==this.b),this.a.ha()},ec.prototype.readFixed64String=ec.prototype.Tb,ec.prototype.vc=function(){return b(5==this.b),this.a.P()},ec.prototype.readSfixed32=ec.prototype.vc,ec.prototype.wc=function(){return b(5==this.b),this.a.P().toString()},ec.prototype.readSfixed32String=ec.prototype.wc,ec.prototype.xc=function(){return b(1==this.b),this.a.ba()},ec.prototype.readSfixed64=ec.prototype.xc,ec.prototype.yc=function(){return b(1==this.b),this.a.ca()},ec.prototype.readSfixed64String=ec.prototype.yc,ec.prototype.aa=function(){return b(5==this.b),this.a.aa()},ec.prototype.readFloat=ec.prototype.aa,ec.prototype.Z=function(){return b(1==this.b),this.a.Z()},ec.prototype.readDouble=ec.prototype.Z,ec.prototype.pa=function(){return b(0==this.b),!!this.a.o()},ec.prototype.readBool=ec.prototype.pa,ec.prototype.ra=function(){return b(0==this.b),this.a.sa()},ec.prototype.readEnum=ec.prototype.ra,ec.prototype.fa=function(){b(2==this.b);var e=this.a.o();return this.a.fa(e)},ec.prototype.readString=ec.prototype.fa,ec.prototype.qa=function(){b(2==this.b);var e=this.a.o();return this.a.qa(e)},ec.prototype.readBytes=ec.prototype.qa,ec.prototype.ia=function(){return b(0==this.b),this.a.ia()},ec.prototype.readVarintHash64=ec.prototype.ia,ec.prototype.Cc=function(){return b(0==this.b),this.a.fb()},ec.prototype.readSintHash64=ec.prototype.Cc,ec.prototype.w=function(e){return b(0==this.b),this.a.w(e)},ec.prototype.readSplitVarint64=ec.prototype.w,ec.prototype.ea=function(e){return b(0==this.b),this.a.w(function(t,r){return G(t,r,e)})},ec.prototype.readSplitZigzagVarint64=ec.prototype.ea,ec.prototype.$=function(){return b(1==this.b),this.a.$()},ec.prototype.readFixedHash64=ec.prototype.$,ec.prototype.ta=function(e){return b(1==this.b),this.a.ta(e)},ec.prototype.readSplitFixed64=ec.prototype.ta,ec.prototype.gc=function(){return eh(this,this.a.da)},ec.prototype.readPackedInt32=ec.prototype.gc,ec.prototype.hc=function(){return eh(this,this.a.Ea)},ec.prototype.readPackedInt32String=ec.prototype.hc,ec.prototype.ic=function(){return eh(this,this.a.sa)},ec.prototype.readPackedInt64=ec.prototype.ic,ec.prototype.jc=function(){return eh(this,this.a.Fa)},ec.prototype.readPackedInt64String=ec.prototype.jc,ec.prototype.qc=function(){return eh(this,this.a.o)},ec.prototype.readPackedUint32=ec.prototype.qc,ec.prototype.rc=function(){return eh(this,this.a.O)},ec.prototype.readPackedUint32String=ec.prototype.rc,ec.prototype.sc=function(){return eh(this,this.a.Ga)},ec.prototype.readPackedUint64=ec.prototype.sc,ec.prototype.tc=function(){return eh(this,this.a.Ha)},ec.prototype.readPackedUint64String=ec.prototype.tc,ec.prototype.nc=function(){return eh(this,this.a.Ia)},ec.prototype.readPackedSint32=ec.prototype.nc,ec.prototype.oc=function(){return eh(this,this.a.Ja)},ec.prototype.readPackedSint64=ec.prototype.oc,ec.prototype.pc=function(){return eh(this,this.a.Ka)},ec.prototype.readPackedSint64String=ec.prototype.pc,ec.prototype.bc=function(){return eh(this,this.a.m)},ec.prototype.readPackedFixed32=ec.prototype.bc,ec.prototype.cc=function(){return eh(this,this.a.ga)},ec.prototype.readPackedFixed64=ec.prototype.cc,ec.prototype.dc=function(){return eh(this,this.a.ha)},ec.prototype.readPackedFixed64String=ec.prototype.dc,ec.prototype.kc=function(){return eh(this,this.a.P)},ec.prototype.readPackedSfixed32=ec.prototype.kc,ec.prototype.lc=function(){return eh(this,this.a.ba)},ec.prototype.readPackedSfixed64=ec.prototype.lc,ec.prototype.mc=function(){return eh(this,this.a.ca)},ec.prototype.readPackedSfixed64String=ec.prototype.mc,ec.prototype.fc=function(){return eh(this,this.a.aa)},ec.prototype.readPackedFloat=ec.prototype.fc,ec.prototype.$b=function(){return eh(this,this.a.Z)},ec.prototype.readPackedDouble=ec.prototype.$b,ec.prototype.Zb=function(){return eh(this,this.a.pa)},ec.prototype.readPackedBool=ec.prototype.Zb,ec.prototype.ac=function(){return eh(this,this.a.ra)},ec.prototype.readPackedEnum=ec.prototype.ac,ec.prototype.uc=function(){return eh(this,this.a.ia)},ec.prototype.readPackedVarintHash64=ec.prototype.uc,ec.prototype.ec=function(){return eh(this,this.a.$)},ec.prototype.readPackedFixedHash64=ec.prototype.ec,h("jspb.ExtensionFieldInfo",ed,void 0),h("jspb.ExtensionFieldBinaryInfo",ef,void 0),ed.prototype.F=function(){return!!this.la},ed.prototype.isMessageType=ed.prototype.F,h("jspb.Message",ep,void 0),ep.GENERATE_TO_OBJECT=!0,ep.GENERATE_FROM_OBJECT=!0;var eg="function"==typeof Uint8Array;ep.prototype.Ib=function(){return this.b},ep.prototype.getJsPbMessageId=ep.prototype.Ib,ep.initialize=function(e,t,r,n,i,s){e.f=null,t||(t=r?[r]:[]),e.b=r?String(r):void 0,e.D=0===r?-1:0,e.u=t;e:{if(r=e.u.length,t=-1,r&&(t=r-1,!(null===(r=e.u[t])||"object"!=typeof r||Array.isArray(r)||eg&&r instanceof Uint8Array))){e.G=t-e.D,e.i=r;break e}-1<n?(e.G=Math.max(n,t+1-e.D),e.i=null):e.G=Number.MAX_VALUE}if(e.a={},i)for(n=0;n<i.length;n++)(t=i[n])<e.G?(t+=e.D,e.u[t]=e.u[t]||ey):(em(e),e.i[t]=e.i[t]||ey);if(s&&s.length)for(n=0;n<s.length;n++)eO(e,s[n])};var ey=Object.freeze?Object.freeze([]):[];function em(e){var t=e.G+e.D;e.u[t]||(e.i=e.u[t]={})}function eb(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=t.call(e[i],r,e[i]);return n}function ev(e,t){if(t<e.G){t+=e.D;var r=e.u[t];return r===ey?e.u[t]=[]:r}if(e.i)return(r=e.i[t])===ey?e.i[t]=[]:r}function ew(e,t){return null==(e=ev(e,t))?e:+e}function eE(e,t){return null==(e=ev(e,t))?e:!!e}function eA(e){return null==e||"string"==typeof e?e:eg&&e instanceof Uint8Array?M(e):(v("Cannot coerce to b64 string: "+d(e)),null)}function e_(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?B(e):(v("Cannot coerce to Uint8Array: "+d(e)),null)}function eP(e){if(e&&1<e.length){var t=d(e[0]);g(e,function(e){d(e)!=t&&v("Inconsistent type in JSPB repeated field array. Got "+d(e)+" expected "+t)})}}function eT(e,t,r){return null==(e=ev(e,t))?r:e}function eI(e,t,r){return w(e,ep),t<e.G?e.u[t+e.D]=r:(em(e),e.i[t]=r),e}function eC(e,t,r,n){return w(e,ep),r!==n?eI(e,t,r):t<e.G?e.u[t+e.D]=null:(em(e),delete e.i[t]),e}function eS(e,t,r,n){return w(e,ep),(r=eO(e,r))&&r!==t&&void 0!==n&&(e.f&&r in e.f&&(e.f[r]=void 0),eI(e,r,void 0)),eI(e,t,n)}function eO(e,t){for(var r,n,i=0;i<t.length;i++){var s=t[i],o=ev(e,s);null!=o&&(r=s,n=o,eI(e,s,void 0))}return r?(eI(e,r,n),r):0}function ex(e,t,r){if(e.f||(e.f={}),!e.f[r]){for(var n=ev(e,r),i=[],s=0;s<n.length;s++)i[s]=new t(n[s]);e.f[r]=i}}function eR(e){if(e.f)for(var t in e.f){var r=e.f[t];if(Array.isArray(r))for(var n=0;n<r.length;n++)r[n]&&r[n].g();else r&&r.g()}}function eM(e,t){t=t||{};var r,n={};for(r in e=e||{})n[r]=0;for(r in t)n[r]=0;for(r in n)if(!eB(e[r],t[r]))return!1;return!0}function eB(e,t){if(e==t)return!0;if(!f(e)||!f(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(eg&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,i=void 0,s=Math.max(e.length,t.length);for(r=0;r<s;r++){var o=e[r],a=t[r];if(o&&o.constructor==Object&&(b(void 0===n),b(r===e.length-1),n=o,o=void 0),a&&a.constructor==Object&&(b(void 0===i),b(r===t.length-1),i=a,a=void 0),!eB(o,a))return!1}return!n&&!i||eM(n=n||{},i=i||{})}if(e.constructor===Object)return eM(e,t);throw Error("Invalid type in JSPB array")}function eN(e){return new e.constructor(function e(t){if(Array.isArray(t)){for(var r=Array(t.length),n=0;n<t.length;n++){var i=t[n];null!=i&&(r[n]="object"==typeof i?e(b(i)):i)}return r}if(eg&&t instanceof Uint8Array)return new Uint8Array(t);for(n in r={},t)null!=(i=t[n])&&(r[n]="object"==typeof i?e(b(i)):i);return r}(e.g()))}ep.toObjectList=eb,ep.toObjectExtension=function(e,t,r,n,i){for(var s in r){var o=r[s],a=n.call(e,o);if(null!=a){for(var c in o.Ba)if(o.Ba.hasOwnProperty(c))break;t[c]=o.Na?o.na?eb(a,o.Na,i):o.Na(i,a):a}}},ep.serializeBinaryExtensions=function(e,t,r,n){for(var i in r){var s=r[i],o=s.Za;if(!s.Aa)throw Error("Message extension present that was generated without binary serialization support");var a=n.call(e,o);if(null!=a){if(o.F()){if(s.Wa)s.Aa.call(t,o.ma,a,s.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format")}else s.Aa.call(t,o.ma,a)}}},ep.readBinaryExtension=function(e,t,r,n,i){var s=r[t.c];if(s){if(r=s.Za,!s.za)throw Error("Deserializing extension whose generated code does not support binary format");if(r.F()){var o=new r.la;s.za.call(t,o,s.Ab)}else o=s.za.call(t);r.na&&!s.Nb?(t=n.call(e,r))?t.push(o):i.call(e,r,[o]):i.call(e,r,o)}else t.C()},ep.getField=ev,ep.getRepeatedField=function(e,t){return ev(e,t)},ep.getOptionalFloatingPointField=ew,ep.getBooleanField=eE,ep.getRepeatedFloatingPointField=function(e,t){var r=ev(e,t);if(e.a||(e.a={}),!e.a[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.a[t]=!0}return r},ep.getRepeatedBooleanField=function(e,t){var r=ev(e,t);if(e.a||(e.a={}),!e.a[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.a[t]=!0}return r},ep.bytesAsB64=eA,ep.bytesAsU8=e_,ep.bytesListAsB64=function(e){return eP(e),e.length&&"string"!=typeof e[0]?y(e,eA):e},ep.bytesListAsU8=function(e){return eP(e),!e.length||e[0]instanceof Uint8Array?e:y(e,e_)},ep.getFieldWithDefault=eT,ep.getBooleanFieldWithDefault=function(e,t,r){return null==(e=eE(e,t))?r:e},ep.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=ew(e,t))?r:e},ep.getFieldProto3=eT,ep.getMapField=function(e,t,r,n){if(e.f||(e.f={}),t in e.f)return e.f[t];var i=ev(e,t);if(!i){if(r)return;eI(e,t,i=[])}return e.f[t]=new A(i,n)},ep.setField=eI,ep.setProto3IntField=function(e,t,r){return eC(e,t,r,0)},ep.setProto3FloatField=function(e,t,r){return eC(e,t,r,0)},ep.setProto3BooleanField=function(e,t,r){return eC(e,t,r,!1)},ep.setProto3StringField=function(e,t,r){return eC(e,t,r,"")},ep.setProto3BytesField=function(e,t,r){return eC(e,t,r,"")},ep.setProto3EnumField=function(e,t,r){return eC(e,t,r,0)},ep.setProto3StringIntField=function(e,t,r){return eC(e,t,r,"0")},ep.addToRepeatedField=function(e,t,r,n){return w(e,ep),t=ev(e,t),void 0!=n?t.splice(n,0,r):t.push(r),e},ep.setOneofField=eS,ep.computeOneofCase=eO,ep.getWrapperField=function(e,t,r,n){if(e.f||(e.f={}),!e.f[r]){var i=ev(e,r);(n||i)&&(e.f[r]=new t(i))}return e.f[r]},ep.getRepeatedWrapperField=function(e,t,r){return ex(e,t,r),(t=e.f[r])==ey&&(t=e.f[r]=[]),t},ep.setWrapperField=function(e,t,r){w(e,ep),e.f||(e.f={});var n=r?r.g():r;return e.f[t]=r,eI(e,t,n)},ep.setOneofWrapperField=function(e,t,r,n){w(e,ep),e.f||(e.f={});var i=n?n.g():n;return e.f[t]=n,eS(e,t,r,i)},ep.setRepeatedWrapperField=function(e,t,r){w(e,ep),e.f||(e.f={}),r=r||[];for(var n=[],i=0;i<r.length;i++)n[i]=r[i].g();return e.f[t]=r,eI(e,t,n)},ep.addToRepeatedWrapperField=function(e,t,r,n,i){ex(e,n,t);var s=e.f[t];return s||(s=e.f[t]=[]),r=r||new n,e=ev(e,t),void 0!=i?(s.splice(i,0,r),e.splice(i,0,r.g())):(s.push(r),e.push(r.g())),r},ep.toMap=function(e,t,r,n){for(var i={},s=0;s<e.length;s++)i[t.call(e[s])]=r?r.call(e[s],n,e[s]):e[s];return i},ep.prototype.g=function(){return eR(this),this.u},ep.prototype.toArray=ep.prototype.g,ep.prototype.toString=function(){return eR(this),this.u.toString()},ep.prototype.getExtension=function(e){if(this.i){this.f||(this.f={});var t=e.ma;if(e.na){if(e.F())return this.f[t]||(this.f[t]=y(this.i[t]||[],function(t){return new e.la(t)})),this.f[t]}else if(e.F())return!this.f[t]&&this.i[t]&&(this.f[t]=new e.la(this.i[t])),this.f[t];return this.i[t]}},ep.prototype.getExtension=ep.prototype.getExtension,ep.prototype.Kc=function(e,t){this.f||(this.f={}),em(this);var r=e.ma;return e.na?(t=t||[],e.F()?(this.f[r]=t,this.i[r]=y(t,function(e){return e.g()})):this.i[r]=t):e.F()?(this.f[r]=t,this.i[r]=t?t.g():t):this.i[r]=t,this},ep.prototype.setExtension=ep.prototype.Kc,ep.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.g();t=t.g();var n=[],i=0,s=r.length>t.length?r.length:t.length;for(e.b&&(n[0]=e.b,i=1);i<s;i++)eB(r[i],t[i])||(n[i]=t[i]);return new e.constructor(n)},ep.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&eB(e.g(),t.g())},ep.compareExtensions=eM,ep.compareFields=eB,ep.prototype.Bb=function(){return eN(this)},ep.prototype.cloneMessage=ep.prototype.Bb,ep.prototype.clone=function(){return eN(this)},ep.prototype.clone=ep.prototype.clone,ep.clone=function(e){return eN(e)},ep.copyInto=function(e,t){w(e,ep),w(t,ep),b(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=eN(e);for(var r=t.g(),n=e.g(),i=r.length=0;i<n.length;i++)r[i]=n[i];t.f=e.f,t.i=e.i},ep.registerMessageType=function(e,t){t.we=e};var eD={dump:function(e){return w(e,ep,"jspb.Message instance expected"),b(e.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),eD.X(e)}};function ek(){this.a=[]}function eW(e,t){this.lo=e,this.hi=t}function eU(e,t){var r=65535&e;e>>>=16;var n=65535&t,i=t>>>16;for(t=r*n+65536*(r*i&65535)+65536*(e*n&65535),r=e*i+(r*i>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new eW(t>>>0,r>>>0)}function eF(e){for(var t=new eW(0,0),r=new eW(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;r.lo=parseInt(e[n],10),t=t.eb(10).add(r)}return t}function eL(e,t){this.lo=e,this.hi=t}function ej(e){var t=0<e.length&&"-"==e[0];return(t&&(e=e.substring(1)),null===(e=eF(e)))?null:(t&&(e=new eW(0,0).sub(e)),new eL(e.lo,e.hi))}function ez(){this.c=[],this.b=0,this.a=new ek,this.h=[]}function e$(e,t){var r=e.a.end();e.c.push(r),e.c.push(t),e.b+=r.length+t.length}function eq(e,t){return eH(e,t,2),t=e.a.end(),e.c.push(t),e.b+=t.length,t.push(e.b),t}function eV(e,t){var r=t.pop();for(b(0<=(r=e.b+e.a.length()-r));127<r;)t.push(127&r|128),r>>>=7,e.b++;t.push(r),e.b++}function eH(e,t,r){b(1<=t&&t==Math.floor(t)),e.a.j(8*t+r)}function eG(e,t,r){null!=r&&(eH(e,t,0),e.a.j(r))}function eK(e,t,r){null!=r&&(eH(e,t,0),e.a.M(r))}h("jspb.debug.dump",eD.dump,void 0),eD.X=function(e){var t=d(e);if("number"==t||"string"==t||"boolean"==t||"null"==t||"undefined"==t||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array)return e;if("array"==t)return function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];Array.isArray(e)||m("Expected array but got %s: %s.",[d(e),e],t,n)}(e),y(e,eD.X);if(e instanceof A){var r={};e=e.entries();for(var n=e.next();!n.done;n=e.next())r[n.value[0]]=eD.X(n.value[1]);return r}w(e,ep,"Only messages expected: "+e);var i={$name:(t=e.constructor).name||t.displayName};for(a in t.prototype){var s=/^get([A-Z]\w*)/.exec(a);if(s&&"getExtension"!=a&&"getJsPbMessageId"!=a){var o="has"+s[1];(!e[o]||e[o]())&&(o=e[a](),i[eD.$a(s[1])]=eD.X(o))}}if(e.extensionObject_)return i.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",i;for(n in t.extensions)if(/^\d+$/.test(n)){o=t.extensions[n];var a=e.getExtension(o);s=void 0;var c=[],l=0;for(s in o=o.Ba)c[l++]=s;s=c[0],null!=a&&(r||(r=i.$extensions={}),r[eD.$a(s)]=eD.X(a))}return i},eD.$a=function(e){return e.replace(/^[A-Z]/,function(e){return e.toLowerCase()})},h("jspb.BinaryEncoder",ek,void 0),ek.prototype.length=function(){return this.a.length},ek.prototype.length=ek.prototype.length,ek.prototype.end=function(){var e=this.a;return this.a=[],e},ek.prototype.end=ek.prototype.end,ek.prototype.l=function(e,t){for(b(e==Math.floor(e)),b(t==Math.floor(t)),b(0<=e&&4294967296>e),b(0<=t&&4294967296>t);0<t||127<e;)this.a.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.a.push(e)},ek.prototype.writeSplitVarint64=ek.prototype.l,ek.prototype.A=function(e,t){b(e==Math.floor(e)),b(t==Math.floor(t)),b(0<=e&&4294967296>e),b(0<=t&&4294967296>t),this.s(e),this.s(t)},ek.prototype.writeSplitFixed64=ek.prototype.A,ek.prototype.j=function(e){for(b(e==Math.floor(e)),b(0<=e&&4294967296>e);127<e;)this.a.push(127&e|128),e>>>=7;this.a.push(e)},ek.prototype.writeUnsignedVarint32=ek.prototype.j,ek.prototype.M=function(e){if(b(e==Math.floor(e)),b(-2147483648<=e&&2147483648>e),0<=e)this.j(e);else{for(var t=0;9>t;t++)this.a.push(127&e|128),e>>=7;this.a.push(1)}},ek.prototype.writeSignedVarint32=ek.prototype.M,ek.prototype.va=function(e){b(e==Math.floor(e)),b(0<=e&&18446744073709552e3>e),U(e),this.l(D,k)},ek.prototype.writeUnsignedVarint64=ek.prototype.va,ek.prototype.ua=function(e){b(e==Math.floor(e)),b(-0x8000000000000000<=e&&0x7fffffffffffffff>e),U(e),this.l(D,k)},ek.prototype.writeSignedVarint64=ek.prototype.ua,ek.prototype.wa=function(e){b(e==Math.floor(e)),b(-2147483648<=e&&2147483648>e),this.j((e<<1^e>>31)>>>0)},ek.prototype.writeZigzagVarint32=ek.prototype.wa,ek.prototype.xa=function(e){b(e==Math.floor(e)),b(-0x8000000000000000<=e&&0x7fffffffffffffff>e),F(e),this.l(D,k)},ek.prototype.writeZigzagVarint64=ek.prototype.xa,ek.prototype.Ta=function(e){this.W(ee(e))},ek.prototype.writeZigzagVarint64String=ek.prototype.Ta,ek.prototype.W=function(e){var t=this;z(e),V(D,k,function(e,r){t.l(e>>>0,r>>>0)})},ek.prototype.writeZigzagVarintHash64=ek.prototype.W,ek.prototype.be=function(e){b(e==Math.floor(e)),b(0<=e&&256>e),this.a.push(e>>>0&255)},ek.prototype.writeUint8=ek.prototype.be,ek.prototype.ae=function(e){b(e==Math.floor(e)),b(0<=e&&65536>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255)},ek.prototype.writeUint16=ek.prototype.ae,ek.prototype.s=function(e){b(e==Math.floor(e)),b(0<=e&&4294967296>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255),this.a.push(e>>>16&255),this.a.push(e>>>24&255)},ek.prototype.writeUint32=ek.prototype.s,ek.prototype.V=function(e){b(e==Math.floor(e)),b(0<=e&&18446744073709552e3>e),W(e),this.s(D),this.s(k)},ek.prototype.writeUint64=ek.prototype.V,ek.prototype.Qc=function(e){b(e==Math.floor(e)),b(-128<=e&&128>e),this.a.push(e>>>0&255)},ek.prototype.writeInt8=ek.prototype.Qc,ek.prototype.Pc=function(e){b(e==Math.floor(e)),b(-32768<=e&&32768>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255)},ek.prototype.writeInt16=ek.prototype.Pc,ek.prototype.S=function(e){b(e==Math.floor(e)),b(-2147483648<=e&&2147483648>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255),this.a.push(e>>>16&255),this.a.push(e>>>24&255)},ek.prototype.writeInt32=ek.prototype.S,ek.prototype.T=function(e){b(e==Math.floor(e)),b(-0x8000000000000000<=e&&0x7fffffffffffffff>e),U(e),this.A(D,k)},ek.prototype.writeInt64=ek.prototype.T,ek.prototype.ka=function(e){b(e==Math.floor(e)),b(-0x8000000000000000<=+e&&0x7fffffffffffffff>+e),z(ee(e)),this.A(D,k)},ek.prototype.writeInt64String=ek.prototype.ka,ek.prototype.L=function(e){b(1/0===e||-1/0===e||isNaN(e)||-34028234663852886e22<=e&&34028234663852886e22>=e),L(e),this.s(D)},ek.prototype.writeFloat=ek.prototype.L,ek.prototype.J=function(e){b(1/0===e||-1/0===e||isNaN(e)||-17976931348623157e292<=e&&17976931348623157e292>=e),j(e),this.s(D),this.s(k)},ek.prototype.writeDouble=ek.prototype.J,ek.prototype.I=function(e){b("boolean"==typeof e||"number"==typeof e),this.a.push(e?1:0)},ek.prototype.writeBool=ek.prototype.I,ek.prototype.R=function(e){b(e==Math.floor(e)),b(-2147483648<=e&&2147483648>e),this.M(e)},ek.prototype.writeEnum=ek.prototype.R,ek.prototype.ja=function(e){this.a.push.apply(this.a,e)},ek.prototype.writeBytes=ek.prototype.ja,ek.prototype.N=function(e){z(e),this.l(D,k)},ek.prototype.writeVarintHash64=ek.prototype.N,ek.prototype.K=function(e){z(e),this.s(D),this.s(k)},ek.prototype.writeFixedHash64=ek.prototype.K,ek.prototype.U=function(e){var t=this.a.length;!function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];"string"!=typeof e&&m("Expected string but got %s: %s.",[d(e),e],t,n)}(e);for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.a.push(n);else if(2048>n)this.a.push(n>>6|192),this.a.push(63&n|128);else if(65536>n){if(55296<=n&&56319>=n&&r+1<e.length){var i=e.charCodeAt(r+1);56320<=i&&57343>=i&&(n=1024*(n-55296)+i-56320+65536,this.a.push(n>>18|240),this.a.push(n>>12&63|128),this.a.push(n>>6&63|128),this.a.push(63&n|128),r++)}else this.a.push(n>>12|224),this.a.push(n>>6&63|128),this.a.push(63&n|128)}}return this.a.length-t},ek.prototype.writeString=ek.prototype.U,h("jspb.arith.UInt64",eW,void 0),eW.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},eW.prototype.cmp=eW.prototype.cmp,eW.prototype.La=function(){return new eW((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},eW.prototype.rightShift=eW.prototype.La,eW.prototype.Da=function(){return new eW(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},eW.prototype.leftShift=eW.prototype.Da,eW.prototype.cb=function(){return!!(2147483648&this.hi)},eW.prototype.msb=eW.prototype.cb,eW.prototype.Ob=function(){return!!(1&this.lo)},eW.prototype.lsb=eW.prototype.Ob,eW.prototype.Ua=function(){return 0==this.lo&&0==this.hi},eW.prototype.zero=eW.prototype.Ua,eW.prototype.add=function(e){return new eW((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},eW.prototype.add=eW.prototype.add,eW.prototype.sub=function(e){return new eW((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},eW.prototype.sub=eW.prototype.sub,eW.mul32x32=eU,eW.prototype.eb=function(e){var t=eU(this.lo,e);return(e=eU(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},eW.prototype.mul=eW.prototype.eb,eW.prototype.Xa=function(e){if(0==e)return[];var t=new eW(0,0),r=new eW(this.lo,this.hi);e=new eW(e,0);for(var n=new eW(1,0);!e.cb();)e=e.Da(),n=n.Da();for(;!n.Ua();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.La(),n=n.La();return[t,r]},eW.prototype.div=eW.prototype.Xa,eW.prototype.toString=function(){for(var e="",t=this;!t.Ua();){var r=(t=t.Xa(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},eW.prototype.toString=eW.prototype.toString,eW.fromString=eF,eW.prototype.clone=function(){return new eW(this.lo,this.hi)},eW.prototype.clone=eW.prototype.clone,h("jspb.arith.Int64",eL,void 0),eL.prototype.add=function(e){return new eL((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},eL.prototype.add=eL.prototype.add,eL.prototype.sub=function(e){return new eL((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},eL.prototype.sub=eL.prototype.sub,eL.prototype.clone=function(){return new eL(this.lo,this.hi)},eL.prototype.clone=eL.prototype.clone,eL.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new eW(this.lo,this.hi);return e&&(t=new eW(0,0).sub(t)),(e?"-":"")+t.toString()},eL.prototype.toString=eL.prototype.toString,eL.fromString=ej,h("jspb.BinaryWriter",ez,void 0),ez.prototype.pb=function(e,t,r){e$(this,e.subarray(t,r))},ez.prototype.writeSerializedMessage=ez.prototype.pb,ez.prototype.Pb=function(e,t,r){null!=e&&null!=t&&null!=r&&this.pb(e,t,r)},ez.prototype.maybeWriteSerializedMessage=ez.prototype.Pb,ez.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},ez.prototype.reset=ez.prototype.reset,ez.prototype.ab=function(){b(0==this.h.length);for(var e=new Uint8Array(this.b+this.a.length()),t=this.c,r=t.length,n=0,i=0;i<r;i++){var s=t[i];e.set(s,n),n+=s.length}return t=this.a.end(),e.set(t,n),b((n+=t.length)==e.length),this.c=[e],e},ez.prototype.getResultBuffer=ez.prototype.ab,ez.prototype.Kb=function(e){return M(this.ab(),e)},ez.prototype.getResultBase64String=ez.prototype.Kb,ez.prototype.Va=function(e){this.h.push(eq(this,e))},ez.prototype.beginSubMessage=ez.prototype.Va,ez.prototype.Ya=function(){b(0<=this.h.length),eV(this,this.h.pop())},ez.prototype.endSubMessage=ez.prototype.Ya,ez.prototype.Nc=function(e,t,r){switch(e){case 1:this.J(t,r);break;case 2:this.L(t,r);break;case 3:this.T(t,r);break;case 4:this.V(t,r);break;case 5:this.S(t,r);break;case 6:this.Qa(t,r);break;case 7:this.Pa(t,r);break;case 8:this.I(t,r);break;case 9:this.U(t,r);break;case 10:v("Group field type not supported in writeAny()");break;case 11:v("Message field type not supported in writeAny()");break;case 12:this.ja(t,r);break;case 13:this.s(t,r);break;case 14:this.R(t,r);break;case 15:this.Ra(t,r);break;case 16:this.Sa(t,r);break;case 17:this.rb(t,r);break;case 18:this.sb(t,r);break;case 30:this.K(t,r);break;case 31:this.N(t,r);break;default:v("Invalid field type in writeAny()")}},ez.prototype.writeAny=ez.prototype.Nc,ez.prototype.S=function(e,t){null!=t&&(b(-2147483648<=t&&2147483648>t),eK(this,e,t))},ez.prototype.writeInt32=ez.prototype.S,ez.prototype.ob=function(e,t){null!=t&&(b(-2147483648<=(t=parseInt(t,10))&&2147483648>t),eK(this,e,t))},ez.prototype.writeInt32String=ez.prototype.ob,ez.prototype.T=function(e,t){null!=t&&(b(-0x8000000000000000<=t&&0x7fffffffffffffff>t),null!=t&&(eH(this,e,0),this.a.ua(t)))},ez.prototype.writeInt64=ez.prototype.T,ez.prototype.ka=function(e,t){null!=t&&(t=ej(t),eH(this,e,0),this.a.l(t.lo,t.hi))},ez.prototype.writeInt64String=ez.prototype.ka,ez.prototype.s=function(e,t){null!=t&&(b(0<=t&&4294967296>t),eG(this,e,t))},ez.prototype.writeUint32=ez.prototype.s,ez.prototype.ub=function(e,t){null!=t&&(b(0<=(t=parseInt(t,10))&&4294967296>t),eG(this,e,t))},ez.prototype.writeUint32String=ez.prototype.ub,ez.prototype.V=function(e,t){null!=t&&(b(0<=t&&18446744073709552e3>t),null!=t&&(eH(this,e,0),this.a.va(t)))},ez.prototype.writeUint64=ez.prototype.V,ez.prototype.vb=function(e,t){null!=t&&(t=eF(t),eH(this,e,0),this.a.l(t.lo,t.hi))},ez.prototype.writeUint64String=ez.prototype.vb,ez.prototype.rb=function(e,t){null!=t&&(b(-2147483648<=t&&2147483648>t),null!=t&&(eH(this,e,0),this.a.wa(t)))},ez.prototype.writeSint32=ez.prototype.rb,ez.prototype.sb=function(e,t){null!=t&&(b(-0x8000000000000000<=t&&0x7fffffffffffffff>t),null!=t&&(eH(this,e,0),this.a.xa(t)))},ez.prototype.writeSint64=ez.prototype.sb,ez.prototype.$d=function(e,t){null!=t&&null!=t&&(eH(this,e,0),this.a.W(t))},ez.prototype.writeSintHash64=ez.prototype.$d,ez.prototype.Zd=function(e,t){null!=t&&null!=t&&(eH(this,e,0),this.a.Ta(t))},ez.prototype.writeSint64String=ez.prototype.Zd,ez.prototype.Pa=function(e,t){null!=t&&(b(0<=t&&4294967296>t),eH(this,e,5),this.a.s(t))},ez.prototype.writeFixed32=ez.prototype.Pa,ez.prototype.Qa=function(e,t){null!=t&&(b(0<=t&&18446744073709552e3>t),eH(this,e,1),this.a.V(t))},ez.prototype.writeFixed64=ez.prototype.Qa,ez.prototype.nb=function(e,t){null!=t&&(t=eF(t),eH(this,e,1),this.a.A(t.lo,t.hi))},ez.prototype.writeFixed64String=ez.prototype.nb,ez.prototype.Ra=function(e,t){null!=t&&(b(-2147483648<=t&&2147483648>t),eH(this,e,5),this.a.S(t))},ez.prototype.writeSfixed32=ez.prototype.Ra,ez.prototype.Sa=function(e,t){null!=t&&(b(-0x8000000000000000<=t&&0x7fffffffffffffff>t),eH(this,e,1),this.a.T(t))},ez.prototype.writeSfixed64=ez.prototype.Sa,ez.prototype.qb=function(e,t){null!=t&&(t=ej(t),eH(this,e,1),this.a.A(t.lo,t.hi))},ez.prototype.writeSfixed64String=ez.prototype.qb,ez.prototype.L=function(e,t){null!=t&&(eH(this,e,5),this.a.L(t))},ez.prototype.writeFloat=ez.prototype.L,ez.prototype.J=function(e,t){null!=t&&(eH(this,e,1),this.a.J(t))},ez.prototype.writeDouble=ez.prototype.J,ez.prototype.I=function(e,t){null!=t&&(b("boolean"==typeof t||"number"==typeof t),eH(this,e,0),this.a.I(t))},ez.prototype.writeBool=ez.prototype.I,ez.prototype.R=function(e,t){null!=t&&(b(-2147483648<=t&&2147483648>t),eH(this,e,0),this.a.M(t))},ez.prototype.writeEnum=ez.prototype.R,ez.prototype.U=function(e,t){null!=t&&(e=eq(this,e),this.a.U(t),eV(this,e))},ez.prototype.writeString=ez.prototype.U,ez.prototype.ja=function(e,t){null!=t&&(t=ei(t),eH(this,e,2),this.a.j(t.length),e$(this,t))},ez.prototype.writeBytes=ez.prototype.ja,ez.prototype.Rc=function(e,t,r){null!=t&&(e=eq(this,e),r(t,this),eV(this,e))},ez.prototype.writeMessage=ez.prototype.Rc,ez.prototype.Sc=function(e,t,r){null!=t&&(eH(this,1,3),eH(this,2,0),this.a.M(e),e=eq(this,3),r(t,this),eV(this,e),eH(this,1,4))},ez.prototype.writeMessageSet=ez.prototype.Sc,ez.prototype.Oc=function(e,t,r){null!=t&&(eH(this,e,3),r(t,this),eH(this,e,4))},ez.prototype.writeGroup=ez.prototype.Oc,ez.prototype.K=function(e,t){null!=t&&(b(8==t.length),eH(this,e,1),this.a.K(t))},ez.prototype.writeFixedHash64=ez.prototype.K,ez.prototype.N=function(e,t){null!=t&&(b(8==t.length),eH(this,e,0),this.a.N(t))},ez.prototype.writeVarintHash64=ez.prototype.N,ez.prototype.A=function(e,t,r){eH(this,e,1),this.a.A(t,r)},ez.prototype.writeSplitFixed64=ez.prototype.A,ez.prototype.l=function(e,t,r){eH(this,e,0),this.a.l(t,r)},ez.prototype.writeSplitVarint64=ez.prototype.l,ez.prototype.tb=function(e,t,r){eH(this,e,0);var n=this.a;V(t,r,function(e,t){n.l(e>>>0,t>>>0)})},ez.prototype.writeSplitZigzagVarint64=ez.prototype.tb,ez.prototype.Ed=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)eK(this,e,t[r])},ez.prototype.writeRepeatedInt32=ez.prototype.Ed,ez.prototype.Fd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ob(e,t[r])},ez.prototype.writeRepeatedInt32String=ez.prototype.Fd,ez.prototype.Gd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(eH(this,e,0),this.a.ua(n))}},ez.prototype.writeRepeatedInt64=ez.prototype.Gd,ez.prototype.Qd=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.A(e,r(t[i]),n(t[i]))},ez.prototype.writeRepeatedSplitFixed64=ez.prototype.Qd,ez.prototype.Rd=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.l(e,r(t[i]),n(t[i]))},ez.prototype.writeRepeatedSplitVarint64=ez.prototype.Rd,ez.prototype.Sd=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.tb(e,r(t[i]),n(t[i]))},ez.prototype.writeRepeatedSplitZigzagVarint64=ez.prototype.Sd,ez.prototype.Hd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ka(e,t[r])},ez.prototype.writeRepeatedInt64String=ez.prototype.Hd,ez.prototype.Ud=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)eG(this,e,t[r])},ez.prototype.writeRepeatedUint32=ez.prototype.Ud,ez.prototype.Vd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ub(e,t[r])},ez.prototype.writeRepeatedUint32String=ez.prototype.Vd,ez.prototype.Wd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(eH(this,e,0),this.a.va(n))}},ez.prototype.writeRepeatedUint64=ez.prototype.Wd,ez.prototype.Xd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.vb(e,t[r])},ez.prototype.writeRepeatedUint64String=ez.prototype.Xd,ez.prototype.Md=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(eH(this,e,0),this.a.wa(n))}},ez.prototype.writeRepeatedSint32=ez.prototype.Md,ez.prototype.Nd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(eH(this,e,0),this.a.xa(n))}},ez.prototype.writeRepeatedSint64=ez.prototype.Nd,ez.prototype.Od=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(eH(this,e,0),this.a.Ta(n))}},ez.prototype.writeRepeatedSint64String=ez.prototype.Od,ez.prototype.Pd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(eH(this,e,0),this.a.W(n))}},ez.prototype.writeRepeatedSintHash64=ez.prototype.Pd,ez.prototype.yd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Pa(e,t[r])},ez.prototype.writeRepeatedFixed32=ez.prototype.yd,ez.prototype.zd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Qa(e,t[r])},ez.prototype.writeRepeatedFixed64=ez.prototype.zd,ez.prototype.Ad=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.nb(e,t[r])},ez.prototype.writeRepeatedFixed64String=ez.prototype.Ad,ez.prototype.Jd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Ra(e,t[r])},ez.prototype.writeRepeatedSfixed32=ez.prototype.Jd,ez.prototype.Kd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Sa(e,t[r])},ez.prototype.writeRepeatedSfixed64=ez.prototype.Kd,ez.prototype.Ld=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.qb(e,t[r])},ez.prototype.writeRepeatedSfixed64String=ez.prototype.Ld,ez.prototype.Cd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.L(e,t[r])},ez.prototype.writeRepeatedFloat=ez.prototype.Cd,ez.prototype.wd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.J(e,t[r])},ez.prototype.writeRepeatedDouble=ez.prototype.wd,ez.prototype.ud=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.I(e,t[r])},ez.prototype.writeRepeatedBool=ez.prototype.ud,ez.prototype.xd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.R(e,t[r])},ez.prototype.writeRepeatedEnum=ez.prototype.xd,ez.prototype.Td=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.U(e,t[r])},ez.prototype.writeRepeatedString=ez.prototype.Td,ez.prototype.vd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ja(e,t[r])},ez.prototype.writeRepeatedBytes=ez.prototype.vd,ez.prototype.Id=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var i=eq(this,e);r(t[n],this),eV(this,i)}},ez.prototype.writeRepeatedMessage=ez.prototype.Id,ez.prototype.Dd=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)eH(this,e,3),r(t[n],this),eH(this,e,4)},ez.prototype.writeRepeatedGroup=ez.prototype.Dd,ez.prototype.Bd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.K(e,t[r])},ez.prototype.writeRepeatedFixedHash64=ez.prototype.Bd,ez.prototype.Yd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.N(e,t[r])},ez.prototype.writeRepeatedVarintHash64=ez.prototype.Yd,ez.prototype.ad=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.M(t[r]);eV(this,e)}},ez.prototype.writePackedInt32=ez.prototype.ad,ez.prototype.bd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.M(parseInt(t[r],10));eV(this,e)}},ez.prototype.writePackedInt32String=ez.prototype.bd,ez.prototype.cd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.ua(t[r]);eV(this,e)}},ez.prototype.writePackedInt64=ez.prototype.cd,ez.prototype.md=function(e,t,r,n){if(null!=t){e=eq(this,e);for(var i=0;i<t.length;i++)this.a.A(r(t[i]),n(t[i]));eV(this,e)}},ez.prototype.writePackedSplitFixed64=ez.prototype.md,ez.prototype.nd=function(e,t,r,n){if(null!=t){e=eq(this,e);for(var i=0;i<t.length;i++)this.a.l(r(t[i]),n(t[i]));eV(this,e)}},ez.prototype.writePackedSplitVarint64=ez.prototype.nd,ez.prototype.od=function(e,t,r,n){if(null!=t){e=eq(this,e);for(var i=this.a,s=0;s<t.length;s++)V(r(t[s]),n(t[s]),function(e,t){i.l(e>>>0,t>>>0)});eV(this,e)}},ez.prototype.writePackedSplitZigzagVarint64=ez.prototype.od,ez.prototype.dd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++){var n=ej(t[r]);this.a.l(n.lo,n.hi)}eV(this,e)}},ez.prototype.writePackedInt64String=ez.prototype.dd,ez.prototype.pd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.j(t[r]);eV(this,e)}},ez.prototype.writePackedUint32=ez.prototype.pd,ez.prototype.qd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.j(parseInt(t[r],10));eV(this,e)}},ez.prototype.writePackedUint32String=ez.prototype.qd,ez.prototype.rd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.va(t[r]);eV(this,e)}},ez.prototype.writePackedUint64=ez.prototype.rd,ez.prototype.sd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++){var n=eF(t[r]);this.a.l(n.lo,n.hi)}eV(this,e)}},ez.prototype.writePackedUint64String=ez.prototype.sd,ez.prototype.hd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.wa(t[r]);eV(this,e)}},ez.prototype.writePackedSint32=ez.prototype.hd,ez.prototype.jd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.xa(t[r]);eV(this,e)}},ez.prototype.writePackedSint64=ez.prototype.jd,ez.prototype.kd=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.W(ee(t[r]));eV(this,e)}},ez.prototype.writePackedSint64String=ez.prototype.kd,ez.prototype.ld=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.W(t[r]);eV(this,e)}},ez.prototype.writePackedSintHash64=ez.prototype.ld,ez.prototype.Wc=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(4*t.length),e=0;e<t.length;e++)this.a.s(t[e])},ez.prototype.writePackedFixed32=ez.prototype.Wc,ez.prototype.Xc=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.V(t[e])},ez.prototype.writePackedFixed64=ez.prototype.Xc,ez.prototype.Yc=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++){var r=eF(t[e]);this.a.A(r.lo,r.hi)}},ez.prototype.writePackedFixed64String=ez.prototype.Yc,ez.prototype.ed=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(4*t.length),e=0;e<t.length;e++)this.a.S(t[e])},ez.prototype.writePackedSfixed32=ez.prototype.ed,ez.prototype.fd=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.T(t[e])},ez.prototype.writePackedSfixed64=ez.prototype.fd,ez.prototype.gd=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.ka(t[e])},ez.prototype.writePackedSfixed64String=ez.prototype.gd,ez.prototype.$c=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(4*t.length),e=0;e<t.length;e++)this.a.L(t[e])},ez.prototype.writePackedFloat=ez.prototype.$c,ez.prototype.Uc=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.J(t[e])},ez.prototype.writePackedDouble=ez.prototype.Uc,ez.prototype.Tc=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(t.length),e=0;e<t.length;e++)this.a.I(t[e])},ez.prototype.writePackedBool=ez.prototype.Tc,ez.prototype.Vc=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.R(t[r]);eV(this,e)}},ez.prototype.writePackedEnum=ez.prototype.Vc,ez.prototype.Zc=function(e,t){if(null!=t&&t.length)for(eH(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.K(t[e])},ez.prototype.writePackedFixedHash64=ez.prototype.Zc,ez.prototype.td=function(e,t){if(null!=t&&t.length){e=eq(this,e);for(var r=0;r<t.length;r++)this.a.N(t[r]);eV(this,e)}},ez.prototype.writePackedVarintHash64=ez.prototype.td,t.debug=eD,t.Map=A,t.Message=ep,t.BinaryReader=ec,t.BinaryWriter=ez,t.ExtensionFieldInfo=ed,t.ExtensionFieldBinaryInfo=ef,t.exportSymbol=function(e,t,r){h(e,t,r)},t.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},t.object={extend:function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var s=0;s<p.length;s++)r=p[s],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}},t.typeOf=d},65059:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();n.exportSymbol("proto.google.protobuf.Any",null,i),proto.google.protobuf.Any=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.google.protobuf.Any,n.Message),n.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),n.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(e){return proto.google.protobuf.Any.toObject(e,this)},proto.google.protobuf.Any.toObject=function(e,t){var r={typeUrl:n.Message.getFieldWithDefault(t,1,""),value:t.getValue_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.Any.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTypeUrl(r);break;case 2:var r=t.readBytes();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.Any.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTypeUrl()).length>0&&t.writeString(1,r),(r=e.getValue_asU8()).length>0&&t.writeBytes(2,r)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(e){return n.Message.setProto3StringField(this,1,e)},proto.google.protobuf.Any.prototype.getValue=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return n.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return n.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(e){return n.Message.setProto3BytesField(this,2,e)},n.object.extend(t,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(e,t,r){r||(r="type.googleapis.com/"),"/"!=r.substr(-1)?this.setTypeUrl(r+"/"+t):this.setTypeUrl(r+t),this.setValue(e)},proto.google.protobuf.Any.prototype.unpack=function(e,t){return this.getTypeName()==t?e(this.getValue_asU8()):null}},12238:function(e,t,r){"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},33531:function(e,t,r){"use strict";var n=r(25566);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},13303:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(45161);n.__exportStar(r(12238),t),n.__exportStar(r(33531),t)},45161:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return s},__asyncDelegator:function(){return w},__asyncGenerator:function(){return v},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return u},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return I},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return f},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return P},__importStar:function(){return _},__makeTemplateObject:function(){return A},__metadata:function(){return l},__param:function(){return c},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,l):u(s[0][2],r)}catch(e){u(s[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},54900:function(e,t,r){"use strict";r.d(t,{ZP:function(){return nv}});var n=r(55445),i=r.n(n),s=r(49104),o=r(96756),a=r(47846),c=r(15133),l=r(93514);class u extends l.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class h extends l.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class d{constructor(e,t){this.logger=e,this.core=t}}class f extends l.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class p extends l.q{constructor(e){super()}}class g{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class y extends l.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class m extends l.q{constructor(e,t){super(),this.core=e,this.logger=t}}class b{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class v{constructor(e,t){this.projectId=e,this.logger=t}}class w{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}class E{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class A{constructor(e){this.client=e}}var _=r(40537),P=r(80577),T=r(94921),I=r(47783),C=r(38979),S=r(5276),O=r(75646),x=r(15586),R=r.n(x);let M="core",B=`wc@2:${M}:`,N={logger:"error"},D={database:":memory:"},k="client_ed25519_seed",W=_.ONE_DAY,U=_.SIX_HOURS,F="wss://relay.walletconnect.org",L={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},j={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},z="2.17.0",$={link_mode:"link_mode",relay:"relay"},q="WALLETCONNECT_LINK_MODE_APPS",V={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},H=1e3*_.FIVE_SECONDS,G={wc_pairingDelete:{req:{ttl:_.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_.ONE_DAY,prompt:!1,tag:0},res:{ttl:_.ONE_DAY,prompt:!1,tag:0}}},K={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},J={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Z={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Y="https://verify.walletconnect.org",Q=`${Y}/v3`,X=["https://verify.walletconnect.com",Y],ee={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal"},et={no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_listener_not_found:"proposal_listener_not_found"},er={session_approve_started:"session_approve_started",session_namespaces_validation_success:"session_namespaces_validation_success",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},en={no_internet_connection:"no_internet_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},ei={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},es={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var eo=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let ea=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},ec=e=>new TextEncoder().encode(e),el=e=>new TextDecoder().decode(e);class eu{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class eh{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ef(this,e)}}class ed{constructor(e){this.decoders=e}or(e){return ef(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let ef=(e,t)=>new ed({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ep{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new eu(e,t,r),this.decoder=new eh(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let eg=({name:e,prefix:t,encode:r,decode:n})=>new ep(e,t,r,n),ey=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=eo(r,t);return eg({prefix:e,name:t,encode:n,decode:e=>ea(i(e))})},em=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,l=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o},eb=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ev=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>eg({prefix:t,name:e,encode:e=>eb(e,n,r),decode:t=>em(t,n,r,e)});var ew=Object.freeze({__proto__:null,identity:eg({prefix:"\0",name:"identity",encode:e=>el(e),decode:e=>ec(e)})}),eE=Object.freeze({__proto__:null,base2:ev({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),eA=Object.freeze({__proto__:null,base8:ev({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),e_=Object.freeze({__proto__:null,base10:ey({prefix:"9",name:"base10",alphabet:"0123456789"})}),eP=Object.freeze({__proto__:null,base16:ev({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:ev({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let eT=ev({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eI=ev({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eC=ev({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eS=ev({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eO=ev({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ex=ev({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var eR=Object.freeze({__proto__:null,base32:eT,base32upper:eI,base32pad:eC,base32padupper:eS,base32hex:eO,base32hexupper:ex,base32hexpad:ev({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:ev({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:ev({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),eM=Object.freeze({__proto__:null,base36:ey({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:ey({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),eB=Object.freeze({__proto__:null,base58btc:ey({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:ey({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let eN=ev({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var eD=Object.freeze({__proto__:null,base64:eN,base64pad:ev({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:ev({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:ev({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let ek=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),eW=ek.reduce((e,t,r)=>(e[r]=t,e),[]),eU=ek.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var eF=Object.freeze({__proto__:null,base256emoji:eg({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=eW[t],"")},decode:function(e){let t=[];for(let r of e){let e=eU[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function eL(e,t){var r,n=0,t=t||0,i=0,s=t,o=e.length;do{if(s>=o)throw eL.bytes=0,RangeError("Could not decode varint");r=e[s++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return eL.bytes=s-t,n}var ej=function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};let ez=(e,t,r=0)=>(ej(e,t,r),t),e$=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,eq=(e,t)=>{let r=t.byteLength,n=e$(e),i=n+e$(r),s=new Uint8Array(i+r);return ez(e,s,0),ez(r,s,n),s.set(t,i),new eV(e,r,t,s)};class eV{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let eH=({name:e,code:t,encode:r})=>new eG(e,t,r);class eG{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?eq(this.code,t):t.then(e=>eq(this.code,e))}throw Error("Unknown type, must be binary type")}}let eK=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var eJ=Object.freeze({__proto__:null,sha256:eH({name:"sha2-256",code:18,encode:eK("SHA-256")}),sha512:eH({name:"sha2-512",code:19,encode:eK("SHA-512")})}),eZ=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:ea,digest:e=>eq(0,ea(e))}});new TextEncoder,new TextDecoder;let eY={...ew,...eE,...eA,...e_,...eP,...eR,...eM,...eB,...eD,...eF};function eQ(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...eJ,...eZ});let eX=eQ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),e0=eQ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),e1={utf8:eX,"utf-8":eX,hex:eY.base16,latin1:e0,ascii:e0,binary:e0,...eY};class e2{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=B,this.init=async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=(0,c.Ep)(t,this.name)}get context(){return(0,c.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,s.KCv)(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?(0,s.IPd)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}class e3{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.randomSessionIdentifier=(0,s.jdp)(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();let e=await this.getClientSeed(),t=T.generateKeyPair(e);return T.encodeIss(t.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let e=(0,s.Au2)();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();let t=await this.getClientSeed(),r=T.generateKeyPair(t),n=this.randomSessionIdentifier;return await T.signJWT(n,e,W,r)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();let n=this.getPrivateKey(e),i=(0,s.m$A)(n,t);return this.setSymKey(i,r)},this.setSymKey=async(e,t)=>{this.isInitialized();let r=t||(0,s.YmJ)(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();let n=(0,s.ENt)(r),i=(0,P.u)(t);if((0,s.Hs$)(n))return(0,s.Spz)(i,r?.encoding);if((0,s.Q8x)(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let o=this.getSymKey(e),{type:a,senderPublicKey:c}=n;return(0,s.HIp)({type:a,symKey:o,message:i,senderPublicKey:c,encoding:r?.encoding})},this.decode=async(e,t,r)=>{this.isInitialized();let n=(0,s.Llj)(t,r);if((0,s.Hs$)(n)){let e=(0,s.xQU)(t,r?.encoding);return(0,P.D)(e)}if((0,s.Q8x)(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=(0,s.peR)({symKey:n,encoded:t,encoding:r?.encoding});return(0,P.D)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}},this.getPayloadType=(e,t=s.$dT)=>{let r=(0,s.vBi)({encoded:e,encoding:t});return(0,s.WGe)(r.type)},this.getPayloadSenderPublicKey=(e,t=s.$dT)=>{let r=(0,s.vBi)({encoded:e,encoding:t});return r.senderPublicKey?(0,I.BB)(r.senderPublicKey,s.AWt):void 0},this.core=e,this.logger=(0,c.Ep)(t,this.name),this.keychain=r||new e2(this.core,this.logger)}get context(){return(0,c.Fd)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(k)}catch{e=(0,s.jdp)(),await this.keychain.set(k,e)}return function(e,t="utf8"){let r=e1[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}class e6 extends d{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=B,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();let r=(0,s.rjm)(t),n=this.messages.get(e);return typeof n>"u"&&(n={}),"u">typeof n[r]||(n[r]=t,this.messages.set(e,n),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[(0,s.rjm)(t)]),this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=(0,c.Ep)(e,this.name),this.core=t}get context(){return(0,c.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,s.KCv)(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?(0,s.IPd)(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}class e4 extends f{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new n.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,_.toMiliseconds)(_.ONE_MINUTE),this.failedPublishTimeout=(0,_.toMiliseconds)(_.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let i=r?.ttl||U,o=(0,s._HE)(r),a=r?.prompt||!1,c=r?.tag||0,l=r?.id||(0,S.getBigIntRpcId)().toString(),u={topic:e,message:t,opts:{ttl:i,relay:o,prompt:a,tag:c,id:l,attestation:r?.attestation}},h=`Failed to publish payload, please try again. id:${l} tag:${c}`,d=Date.now(),f,p=1;try{for(;void 0===f;){if(Date.now()-d>this.publishTimeout)throw Error(h);this.logger.trace({id:l,attempts:p},`publisher.publish - attempt ${p}`),f=await await (0,s.hFY)(this.rpcPublish(e,t,i,o,a,c,l,r?.attestation).catch(e=>this.logger.warn(e)),this.publishTimeout,h),p++,f||await new Promise(e=>setTimeout(e,this.failedPublishTimeout))}this.relayer.events.emit(L.publish,u),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:l,topic:e,message:t,opts:r}})}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(n=r?.internal)&&n.throwOnFailedPublish)throw e;this.queue.set(l,u)}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=(0,c.Ep)(t,this.name),this.registerEventListeners()}get context(){return(0,c.Fd)(this.logger)}rpcPublish(e,t,r,n,i,o,a,c){var l,u,h,d;let f={method:(0,s.cOS)(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:o,attestation:c},id:a};return(0,s.o8e)(null==(l=f.params)?void 0:l.prompt)&&(null==(u=f.params)||delete u.prompt),(0,s.o8e)(null==(h=f.params)?void 0:h.tag)&&(null==(d=f.params)||delete d.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f}),this.relayer.request(f)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:r,opts:n}=e;await this.publish(t,r,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(o.Lx.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(L.connection_stalled);return}this.checkQueue()}),this.relayer.on(L.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class e5{constructor(){this.map=new Map,this.set=(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var e8=Object.defineProperty,e9=Object.defineProperties,e7=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable,tn=(e,t,r)=>t in e?e8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ti=(e,t)=>{for(var r in t||(t={}))tt.call(t,r)&&tn(e,r,t[r]);if(te)for(var r of te(t))tr.call(t,r)&&tn(e,r,t[r]);return e},ts=(e,t)=>e9(e,e7(t));class to extends y{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new e5,this.events=new n.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=B,this.subscribeTimeout=(0,_.toMiliseconds)(_.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=(0,s._HE)(t),n={topic:e,relay:r,transportType:t?.transportType};this.pending.set(e,n);let i=await this.rpcSubscribe(e,r,t?.transportType);return"string"==typeof i&&(this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),i}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>{if(this.topics.includes(e))return!0;let t=`${this.pendingSubscriptionWatchLabel}_${e}`;return await new Promise((r,n)=>{let i=new _.Watch;i.start(t);let s=setInterval(()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(s),i.stop(t),r(!0)),i.elapsed(t)>=H&&(clearInterval(s),i.stop(t),n(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,c.Ep)(t,this.name),this.clientId=""}get context(){return(0,c.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=(0,s._HE)(r);await this.rpcUnsubscribe(e,t,n);let i=(0,s.D6H)("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r=$.relay){r===$.relay&&await this.restartToComplete();let n={method:(0,s.cOS)(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{let t=(0,s.rjm)(e+this.clientId);return r===$.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(e=>this.logger.warn(e))},(0,_.toMiliseconds)(_.ONE_SECOND)),t):await await (0,s.hFY)(this.relayer.request(n).catch(e=>this.logger.warn(e)),this.subscribeTimeout)?t:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(L.connection_stalled)}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t=e[0].relay,r={method:(0,s.cOS)(t.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await (0,s.hFY)(this.relayer.request(r).catch(e=>this.logger.warn(e)),this.subscribeTimeout)}catch{this.relayer.events.emit(L.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r=e[0].relay,n={method:(0,s.cOS)(r.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{t=await await (0,s.hFY)(this.relayer.request(n).catch(e=>this.logger.warn(e)),this.subscribeTimeout)}catch{this.relayer.events.emit(L.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let n={method:(0,s.cOS)(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,ts(ti({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,ti({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ti({},t)),this.topicMap.set(t.topic,e),this.events.emit(V.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(V.deleted,ts(ti({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(V.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(e),await this.batchSubscribe(e)}}this.events.emit(V.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=(0,s.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);(0,s.qt8)(t)&&this.onBatchSubscribe(t.map((t,r)=>ts(ti({},e[r]),{id:t})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(t.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(o.Lx.pulse,async()=>{await this.checkPending()}),this.events.on(V.created,async e=>{let t=V.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(V.deleted,async e=>{let t=V.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(){this.relayer.connected||this.relayer.connecting||await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var ta=Object.defineProperty,tc=Object.getOwnPropertySymbols,tl=Object.prototype.hasOwnProperty,tu=Object.prototype.propertyIsEnumerable,th=(e,t,r)=>t in e?ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,td=(e,t)=>{for(var r in t||(t={}))tl.call(t,r)&&th(e,r,t[r]);if(tc)for(var r of tc(t))tu.call(t,r)&&th(e,r,t[r]);return e};class tf extends p{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new n.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,_.toMiliseconds)(_.THIRTY_SECONDS+_.ONE_SECOND),this.request=async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||(0,S.getBigIntRpcId)().toString();await this.toEstablishConnection();try{let i=this.provider.request(e);this.requestsInFlight.set(n,{promise:i,request:e}),this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - attempt to publish...");let s=await new Promise(async(e,t)=>{let r=()=>{t(Error(`relayer.request - publish interrupted, id: ${n}`))};this.provider.on(j.disconnect,r);let s=await i;this.provider.off(j.disconnect,r),e(s)});return this.logger.trace({id:n,method:e.method,topic:null==(r=e.params)?void 0:r.topic},"relayer.request - published"),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}finally{this.requestsInFlight.delete(n)}},this.resetPingTimeout=()=>{if((0,s.UGU)())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r;null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)||r.terminate()},this.heartBeatTimeout)}catch(e){this.logger.warn(e)}},this.onPayloadHandler=e=>{this.onProviderPayload(e),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(L.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(L.error,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(j.payload,this.onPayloadHandler),this.provider.on(j.connect,this.onConnectHandler),this.provider.on(j.disconnect,this.onDisconnectHandler),this.provider.on(j.error,this.onProviderErrorHandler)},this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,c.Ep)(e.logger,this.name):(0,c.gw)((0,c.jI)({level:e.logger||"error"})),this.messages=new e6(this.logger,e.core),this.subscriber=new to(this,this.logger),this.publisher=new e4(this,this.logger),this.relayUrl=e?.relayUrl||F,this.projectId=e.projectId,this.bundleId=(0,s.X_B)(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return(0,c.Fd)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:$.relay})}async subscribe(e,t){var r;this.isInitialized(),t?.transportType==="relay"&&await this.toEstablishConnection();let n=(null==(r=this.subscriber.topicMap.get(e))?void 0:r[0])||"",i,s=t=>{t.topic===e&&(this.subscriber.off(V.created,s),i())};return await Promise.all([new Promise(e=>{i=e,this.subscriber.on(V.created,s)}),new Promise(async r=>{n=await this.subscriber.subscribe(e,t)||n,r()})]),n}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await (0,s.hFY)(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(e,t)=>{let r=()=>{this.provider.off(j.disconnect,r),t(Error("Connection interrupted while trying to subscribe"))};this.provider.on(j.disconnect,r),await (0,s.hFY)(this.provider.connect(),(0,_.toMiliseconds)(_.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(e=>{this.logger.error(e),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){if(this.logger.error(e),this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(e.message))throw e}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,s.Ggh)())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.trace(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=(0,s.gn4)(_.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(L.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,t,r,n,i;if((0,s.UGU)())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e)}}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new C.r(new O.Z((0,s.$0m)({sdkVersion:z,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.debug(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,S.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:s}=t.data,o={topic:r,message:n,publishedAt:i,transportType:$.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(td({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,S.isJsonRpcResponse)(e)&&this.events.emit(L.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(L.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=(0,S.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(j.payload,this.onPayloadHandler),this.provider.off(j.connect,this.onConnectHandler),this.provider.off(j.disconnect,this.onDisconnectHandler),this.provider.off(j.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,s.Ggh)();(0,s.uwg)(async t=>{e!==t&&(e=t,t?await this.restartTransport().catch(e=>this.logger.error(e)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(L.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},(0,_.toMiliseconds)(.1))))}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),this.connected||(this.connectionAttemptInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var tp=Object.defineProperty,tg=Object.getOwnPropertySymbols,ty=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,tb=(e,t,r)=>t in e?tp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tv=(e,t)=>{for(var r in t||(t={}))ty.call(t,r)&&tb(e,r,t[r]);if(tg)for(var r of tg(t))tm.call(t,r)&&tb(e,r,t[r]);return e};class tw extends g{constructor(e,t,r,n=B,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=B,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!(0,s.o8e)(e)?this.map.set(this.getKey(e),e):(0,s.xWS)(e)?this.map.set(e.id,e):(0,s.h1R)(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>R()(t[r],e[r]))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=tv(tv({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())},this.logger=(0,c.Ep)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,c.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=(0,s.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}class tE{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(i()),this.initialized=!1,this.storagePrefix=B,this.ignoredPayloadTypes=[s.rVF],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async e=>{this.isInitialized();let t=(0,s.jdp)(),r=await this.core.crypto.setSymKey(t),n=(0,s.gn4)(_.FIVE_MINUTES),i={protocol:"irn"},o={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},a=(0,s.Bvr)({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(K.create,o),this.core.expirer.set(r,n),await this.pairings.set(r,o),await this.core.relayer.subscribe(r,{transportType:e?.transportType}),{topic:r,uri:a}},this.pair=async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[ee.pairing_started]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:o,expiryTimestamp:a,methods:c}=(0,s.heJ)(e.uri);if(r.props.properties.topic=n,r.addTrace(ee.pairing_uri_validation_success),r.addTrace(ee.pairing_uri_not_expired),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace(ee.existing_pairing),t.active)throw r.setError(et.active_pairing_already_exists),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace(ee.pairing_not_expired)}let l=a||(0,s.gn4)(_.FIVE_MINUTES),u={topic:n,relay:o,expiry:l,active:!1,methods:c};this.core.expirer.set(n,l),await this.pairings.set(n,u),r.addTrace(ee.store_new_pairing),e.activatePairing&&await this.activate({topic:n}),this.events.emit(K.create,u),r.addTrace(ee.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace(ee.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(et.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:o})}catch(e){throw r.setError(et.subscribe_pairing_topic_failure),e}return r.addTrace(ee.subscribe_pairing_topic_success),u},this.activate=async({topic:e})=>{this.isInitialized();let t=(0,s.gn4)(_.THIRTY_DAYS);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=(0,s.H1S)();this.events.once((0,s.E0T)("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",(0,s.D6H)("USER_DISCONNECTED")),await this.deletePairing(t))},this.formatUriFromPairing=e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,o=this.core.crypto.keychain.get(t);return(0,s.Bvr)({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:o,relay:r,expiryTimestamp:n,methods:i})},this.sendRequest=async(e,t,r)=>{let n=(0,S.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),s=G[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id},this.sendResult=async(e,t,r)=>{let n=(0,S.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),s=G[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)},this.sendError=async(e,t,r)=>{let n=(0,S.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),s=await this.core.history.get(t,e),o=G[s.request.method]?G[s.request.method].res:G.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,(0,s.D6H)("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{let e=this.pairings.getAll().filter(e=>(0,s.BwD)(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))},this.onRelayEventRequest=e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(K.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,S.isJsonRpcResult)(t)?this.events.emit((0,s.E0T)("pairing_ping",r),{}):(0,S.isJsonRpcError)(t)&&this.events.emit((0,s.E0T)("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(K.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=(0,s.D6H)("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error((0,s.D6H)("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=(e,t)=>{var r;if(!(0,s.EJd)(e)){let{message:r}=(0,s.kCb)("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(et.malformed_pairing_uri),Error(r)}if(!(0,s.jvJ)(e.uri)){let{message:r}=(0,s.kCb)("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(et.malformed_pairing_uri),Error(r)}let n=(0,s.heJ)(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(et.malformed_pairing_uri),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(et.malformed_pairing_uri),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,_.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError(et.pairing_expired);let{message:e}=(0,s.kCb)("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}},this.isValidPing=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!(0,s.M_r)(e,!1)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if((0,s.BwD)(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=(0,s.kCb)("EXPIRED",`pairing topic: ${e}`);throw Error(t)}},this.core=e,this.logger=(0,c.Ep)(t,this.name),this.pairings=new tw(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,c.Fd)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(L.message,async e=>{let{topic:t,message:r,transportType:n}=e;if(!this.pairings.keys.includes(t)||n===$.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;let i=await this.core.crypto.decode(t,r);try{(0,S.isJsonRpcRequest)(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):(0,S.isJsonRpcResponse)(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(Z.expired,async e=>{let{topic:t}=(0,s.iPz)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(K.expire,{topic:t}))})}}class tA extends h{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new n.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=B,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:(0,s.gn4)(_.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(J.created,n)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,S.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(J.updated,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(J.deleted,r))}),this.persist()},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,c.Ep)(t,this.name)}get context(){return(0,c.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,S.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(J.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=(0,s.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(J.created,e=>{let t=J.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(J.updated,e=>{let t=J.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(J.deleted,e=>{let t=J.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(o.Lx.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(J.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}class t_ extends m{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new n.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=B,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}},this.set=(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(Z.created,{target:r,expiration:n})},this.get=e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(Z.deleted,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,c.Ep)(t,this.name)}get context(){return(0,c.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return(0,s.Z42)(e);if("number"==typeof e)return(0,s.GqV)(e);let{message:t}=(0,s.kCb)("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Z.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=(0,s.kCb)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,_.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Z.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(o.Lx.pulse,()=>this.checkExpirations()),this.events.on(Z.created,e=>{let t=Z.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Z.expired,e=>{let t=Z.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Z.deleted,e=>{let t=Z.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}}var tP={};function tT(e){let t;return"u">typeof window&&"u">typeof window[e]&&(t=window[e]),t}function tI(e){let t=tT(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(tP,"__esModule",{value:!0}),tP.getLocalStorage=tP.getLocalStorageOrThrow=tP.getCrypto=tP.getCryptoOrThrow=tP.getLocation=tP.getLocationOrThrow=tP.getNavigator=tP.getNavigatorOrThrow=tC=tP.getDocument=tP.getDocumentOrThrow=tP.getFromWindowOrThrow=tP.getFromWindow=void 0,tP.getFromWindow=tT,tP.getFromWindowOrThrow=tI,tP.getDocumentOrThrow=function(){return tI("document")};var tC=tP.getDocument=function(){return tT("document")};tP.getNavigatorOrThrow=function(){return tI("navigator")},tP.getNavigator=function(){return tT("navigator")},tP.getLocationOrThrow=function(){return tI("location")},tP.getLocation=function(){return tT("location")},tP.getCryptoOrThrow=function(){return tI("crypto")},tP.getCrypto=function(){return tT("crypto")},tP.getLocalStorageOrThrow=function(){return tI("localStorage")},tP.getLocalStorage=function(){return tT("localStorage")};class tS extends b{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,this.name="verify-api",this.verifyUrlV3=Q,this.storagePrefix=B,this.version=2,this.init=async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async e=>{if(!(0,s.jUY)()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=tC(),t=this.startAbortTimer(5*_.ONE_SECOND),n=await new Promise((n,s)=>{let o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);let a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});let c=i=>{if(i.data&&"string"==typeof i.data)try{let s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,T.decodeJWT)(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),n(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",n),n}catch(e){this.logger.warn(e)}return""},this.resolve=async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t){this.logger.debug("resolve: attestationId is empty, skipping");return}if(t){if((0,T.decodeJWT)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e){if(!e.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return e}}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)},this.fetchAttestation=async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*_.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0},this.getVerifyUrl=e=>{let t=e||Y;return X.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${Y}`),t=Y),t},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(_.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}},this.persistPublicKey=async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e},this.validateAttestation=(e,t)=>{let r=(0,s.NbI)(e,t.publicKey),n={hasExpired:(0,_.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}},this.logger=(0,c.Ep)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,s.h9F)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,c.Fd)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_.toMiliseconds)(e))}}class tO extends v{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})},this.logger=(0,c.Ep)(t,this.context)}}var tx=Object.defineProperty,tR=Object.getOwnPropertySymbols,tM=Object.prototype.hasOwnProperty,tB=Object.prototype.propertyIsEnumerable,tN=(e,t,r)=>t in e?tx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tD=(e,t)=>{for(var r in t||(t={}))tM.call(t,r)&&tN(e,r,t[r]);if(tR)for(var r of tR(t))tB.call(t,r)&&tN(e,r,t[r]);return e};class tk extends w{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,this.context="event-client",this.storagePrefix=B,this.storageVersion=.1,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!(0,s.h9F)())try{let e={eventId:(0,s.k$y)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,s.oIp)(this.core.relayer.protocol,this.core.relayer.version,z)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}},this.createEvent=e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,o=(0,s.k$y)(),a=this.core.projectId||"",c=tD({eventId:o,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:a,domain:this.getAppDomain()},this.setMethods(o));return this.telemetryEnabled&&(this.events.set(o,c),this.shouldPersist=!0),c},this.getEvent=e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return tD(tD({},n),this.setMethods(n.eventId))},this.deleteEvent=e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(o.Lx.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,_.fromMiliseconds)(Date.now())-(0,_.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})},this.setMethods=e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}),this.addTrace=(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)},this.setError=(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,tD(tD({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}},this.sendEvent=async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${z}${t}`,{method:"POST",body:JSON.stringify(e)})},this.getAppDomain=()=>(0,s.DaH)().url,this.logger=(0,c.Ep)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var tW=Object.defineProperty,tU=Object.getOwnPropertySymbols,tF=Object.prototype.hasOwnProperty,tL=Object.prototype.propertyIsEnumerable,tj=(e,t,r)=>t in e?tW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tz=(e,t)=>{for(var r in t||(t={}))tF.call(t,r)&&tj(e,r,t[r]);if(tU)for(var r of tU(t))tL.call(t,r)&&tj(e,r,t[r]);return e};class t$ extends u{constructor(e){var t;super(e),this.protocol="wc",this.version=2,this.name=M,this.events=new n.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.dispatchEnvelope=({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:$.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})},this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||F,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let r=(0,c.jI)({level:"string"==typeof e?.logger&&e.logger?e.logger:N.logger}),{logger:i,chunkLoggerController:s}=(0,c.Rt)({opts:r,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,c.Ep)(i,this.name),this.heartbeat=new o.C$,this.crypto=new e3(this,this.logger,e?.keychain),this.history=new tA(this,this.logger),this.expirer=new t_(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new a.Z(tz(tz({},D),e?.storageOptions)),this.relayer=new tf({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new tE(this,this.logger),this.verify=new tS(this,this.logger,this.storage),this.echoClient=new tO(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new tk(this,this.logger,e?.telemetryEnabled)}static async init(e){let t=new t$(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,c.Fd)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(q,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(q)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}let tq="client",tV=`wc@2:${tq}:`,tH={name:tq,logger:"error"},tG="WALLETCONNECT_DEEPLINK_CHOICE",tK="Proposal expired",tJ=_.SEVEN_DAYS,tZ={wc_sessionPropose:{req:{ttl:_.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_.FIVE_MINUTES,prompt:!1,tag:1119}}},tY={min:_.FIVE_MINUTES,max:_.SEVEN_DAYS},tQ={idle:"IDLE",active:"ACTIVE"},tX=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],t0="wc@1.5:auth:",t1=`${t0}:PUB_KEY`;var t2=Object.defineProperty,t3=Object.defineProperties,t6=Object.getOwnPropertyDescriptors,t4=Object.getOwnPropertySymbols,t5=Object.prototype.hasOwnProperty,t8=Object.prototype.propertyIsEnumerable,t9=(e,t,r)=>t in e?t2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t7=(e,t)=>{for(var r in t||(t={}))t5.call(t,r)&&t9(e,r,t[r]);if(t4)for(var r of t4(t))t8.call(t,r)&&t9(e,r,t[r]);return e},re=(e,t)=>t3(e,t6(t));class rt extends A{constructor(e){super(e),this.name="engine",this.events=new(i()),this.initialized=!1,this.requestQueue={state:tQ.idle,queue:[]},this.sessionRequestQueue={state:tQ.idle,queue:[]},this.requestQueueDelay=_.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(tZ)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=re(t7({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:o,relays:a}=t,c=r,l,u=!1;try{c&&(u=this.client.core.pairing.pairings.get(c).active)}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),e}if(!c||!u){let{topic:e,uri:t}=await this.client.core.pairing.create();c=e,l=t}if(!c){let{message:e}=(0,s.kCb)("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw Error(e)}let h=await this.client.core.crypto.generateKeyPair(),d=tZ.wc_sessionPropose.req.ttl||_.FIVE_MINUTES,f=(0,s.gn4)(d),p=t7({requiredNamespaces:n,optionalNamespaces:i,relays:a??[{protocol:"irn"}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:c},o&&{sessionProperties:o}),{reject:g,resolve:y,done:m}=(0,s.H1S)(d,tK);this.events.once((0,s.E0T)("session_connect"),async({error:e,session:t})=>{if(e)g(e);else if(t){t.self.publicKey=h;let e=re(t7({},t),{pairingTopic:p.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,transportType:$.relay});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:t.peer.metadata}),this.cleanupDuplicatePairings(e),y(e)}});let b=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:p,throwOnFailedPublish:!0});return await this.setProposal(b,t7({id:b},p)),{uri:l,approval:m}},this.pair=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}},this.approve=async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[er.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(en.no_internet_connection),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(en.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(en.session_approve_namespace_validation_failure),e}let{id:o,relayProtocol:a,namespaces:c,sessionProperties:l,sessionConfig:u}=e,h=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:d,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=h,y=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:d});y||(y=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:er.session_approve_started,properties:{topic:d,trace:[er.session_approve_started,er.session_namespaces_validation_success]}}));let m=await this.client.core.crypto.generateKeyPair(),b=f.publicKey,v=await this.client.core.crypto.generateSharedKey(m,b),w=t7(t7({relay:{protocol:a??"irn"},namespaces:c,controller:{publicKey:m,metadata:this.client.metadata},expiry:(0,s.gn4)(tJ)},l&&{sessionProperties:l}),u&&{sessionConfig:u}),E=$.relay;y.addTrace(er.subscribing_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:E})}catch(e){throw y.setError(en.subscribe_session_topic_failure),e}y.addTrace(er.subscribe_session_topic_success);let A=re(t7({},w),{topic:v,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:d,acknowledged:!1,self:w.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:m,transportType:$.relay});await this.client.session.set(v,A),y.addTrace(er.store_session);try{y.addTrace(er.publishing_session_settle),await this.sendRequest({topic:v,method:"wc_sessionSettle",params:w,throwOnFailedPublish:!0}).catch(e=>{throw y?.setError(en.session_settle_publish_failure),e}),y.addTrace(er.session_settle_publish_success),y.addTrace(er.publishing_session_approve),await this.sendResult({id:o,topic:d,result:{relay:{protocol:a??"irn"},responderPublicKey:m},throwOnFailedPublish:!0}).catch(e=>{throw y?.setError(en.session_approve_publish_failure),e}),y.addTrace(er.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,(0,s.D6H)("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:d,metadata:f.metadata}),await this.client.proposal.delete(o,(0,s.D6H)("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:d}),await this.setExpiry(v,(0,s.gn4)(tJ)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}},this.reject=async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&(await this.sendError({id:r,topic:t,error:n,rpcOpts:tZ.wc_sessionPropose.reject}),await this.client.proposal.delete(r,(0,s.D6H)("USER_DISCONNECTED")))},this.update=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:o}=(0,s.H1S)(),a=(0,S.payloadId)(),c=(0,S.getBigIntRpcId)().toString(),l=this.client.session.get(t).namespaces;return this.events.once((0,s.E0T)("session_update",a),({error:e})=>{e?o(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:c}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:l}),o(e)}),{acknowledged:n}},this.extend=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,S.payloadId)(),{done:n,resolve:i,reject:o}=(0,s.H1S)();return this.events.once((0,s.E0T)("session_extend",r),({error:e})=>{e?o(e):i()}),await this.setExpiry(t,(0,s.gn4)(tJ)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{o(e)}),{acknowledged:n}},this.request=async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=tZ.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(n);o?.transportType===$.relay&&await this.confirmOnlineStateOrThrow();let a=(0,S.payloadId)(),c=(0,S.getBigIntRpcId)().toString(),{done:l,resolve:u,reject:h}=(0,s.H1S)(i,"Request expired. Please try again.");this.events.once((0,s.E0T)("session_request",a),({error:e,result:t})=>{e?h(e):u(t)});let d=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);return d?(await this.sendRequest({clientRpcId:a,relayRpcId:c,topic:n,method:"wc_sessionRequest",params:{request:re(t7({},r),{expiryTimestamp:(0,s.gn4)(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:d}).catch(e=>h(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),await l()):await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:a,relayRpcId:c,topic:n,method:"wc_sessionRequest",params:{request:re(t7({},r),{expiryTimestamp:(0,s.gn4)(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0}).catch(e=>h(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),e()}),new Promise(async e=>{var t;if(!(null!=(t=o.sessionConfig)&&t.disableDeepLink)){let e=await (0,s.bW6)(this.client.core.storage,tG);await (0,s.HhN)({id:a,topic:n,wcDeepLink:e})}e()}),l()]).then(e=>e[2])},this.respond=async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r,i=this.client.session.get(t);i.transportType===$.relay&&await this.confirmOnlineStateOrThrow();let s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);(0,S.isJsonRpcResult)(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:s}):(0,S.isJsonRpcError)(r)&&await this.sendError({id:n,topic:t,error:r.error,appLink:s}),this.cleanupAfterResponse(e)},this.ping=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,S.payloadId)(),r=(0,S.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:o}=(0,s.H1S)();this.events.once((0,s.E0T)("session_ping",e),({error:e})=>{e?o(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=(0,S.getBigIntRpcId)().toString();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i})},this.disconnect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:(0,s.D6H)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=(0,s.kCb)("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,s.Ih8)(t,e))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(e,t)=>{var r;let n;this.isInitialized(),this.isValidAuthenticate(e);let i=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),o=i?$.link_mode:$.relay;o===$.relay&&await this.confirmOnlineStateOrThrow();let{chains:a,statement:c="",uri:l,domain:u,nonce:h,type:d,exp:f,nbf:p,methods:g=[],expiry:y}=e,m=[...e.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});let w=await this.client.core.crypto.generateKeyPair(),E=(0,s.YmJ)(w);if(await Promise.all([this.client.auth.authKeys.set(t1,{responseTopic:E,publicKey:w}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:b})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){let{namespace:e}=(0,s.DQe)(a[0]),t=(0,s.IkP)(e,"request",g);(0,s.hA9)(m)&&(t=(0,s.qJM)(t,m.pop())),m.push(t)}let A=y&&y>tZ.wc_sessionAuthenticate.req.ttl?y:tZ.wc_sessionAuthenticate.req.ttl,_={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:f,nbf:p,resources:m},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:(0,s.gn4)(A)},P={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:(0,s.gn4)(tZ.wc_sessionPropose.req.ttl)},{done:T,resolve:I,reject:C}=(0,s.H1S)(A,"Request expired"),O=async({error:e,session:t})=>{if(this.events.off((0,s.E0T)("session_request",R),x),e)C(e);else if(t){t.self.publicKey=w,await this.client.session.set(t.topic,t),await this.setExpiry(t.topic,t.expiry),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:t.peer.metadata});let e=this.client.session.get(t.topic);await this.deleteProposal(M),I({session:e})}},x=async e=>{var r,n,i;let a;if(await this.deletePendingAuthRequest(R,{message:"fulfilled",code:0}),e.error){let t=(0,s.D6H)("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off((0,s.E0T)("session_connect"),O),C(e.error.message))}await this.deleteProposal(M),this.events.off((0,s.E0T)("session_connect"),O);let{cacaos:c,responder:l}=e.result,u=[],h=[];for(let e of c){await (0,s.c4l)({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),C((0,s.D6H)("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=(0,s.hA9)(t.resources),n=[(0,s.DJo)(t.iss)],i=(0,s.NmC)(t.iss);if(r){let e=(0,s.Y31)(r),t=(0,s.ouN)(r);u.push(...e),n.push(...t)}for(let e of n)h.push(`${e}:${i}`)}let d=await this.client.core.crypto.generateSharedKey(w,l.publicKey);u.length>0&&(a={topic:d,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:l,controller:l.publicKey,expiry:(0,s.gn4)(tJ),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:(0,s.E12)([...new Set(u)],[...new Set(h)]),transportType:o},await this.client.core.relayer.subscribe(d,{transportType:o}),await this.client.session.set(d,a),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:l.metadata}),a=this.client.session.get(d)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=l.metadata.redirect)&&n.linkMode&&null!=(i=l.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.session.update(d,{transportType:$.link_mode})),I({auths:c,session:a})},R=(0,S.payloadId)(),M=(0,S.payloadId)();this.events.once((0,s.E0T)("session_connect"),O),this.events.once((0,s.E0T)("session_request",R),x);try{if(i){let e=(0,S.formatJsonRpcRequest)("wc_sessionAuthenticate",_,R);this.client.core.history.set(b,e);let r=await this.client.core.crypto.encode("",e,{type:s.FpL,encoding:s.zl_});n=(0,s.L9d)(t,b,r)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:_,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:R}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:P,expiry:tZ.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M})])}catch(e){throw this.events.off((0,s.E0T)("session_connect"),O),this.events.off((0,s.E0T)("session_request",R),x),e}return await this.setProposal(M,t7({id:M},P)),await this.setAuthRequest(R,{request:re(t7({},_),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:n??v,response:T}},this.approveSessionAuthenticate=async e=>{let t;let{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[ei.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw i.setError(es.no_internet_connection),e}let o=this.getPendingAuthRequest(r);if(!o)throw i.setError(es.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${r}`);let a=o.transportType||$.relay;a===$.relay&&await this.confirmOnlineStateOrThrow();let c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=(0,s.YmJ)(c),h={type:s.rVF,receiverPublicKey:c,senderPublicKey:l},d=[],f=[];for(let e of n){if(!await (0,s.c4l)({cacao:e,projectId:this.client.core.projectId})){i.setError(es.invalid_cacao);let e=(0,s.D6H)("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:e,encodeOpts:h}),Error(e.message)}i.addTrace(ei.cacaos_verified);let{p:t}=e,n=(0,s.hA9)(t.resources),o=[(0,s.DJo)(t.iss)],a=(0,s.NmC)(t.iss);if(n){let e=(0,s.Y31)(n),t=(0,s.ouN)(n);d.push(...e),o.push(...t)}for(let e of o)f.push(`${e}:${a}`)}let p=await this.client.core.crypto.generateSharedKey(l,c);if(i.addTrace(ei.create_authenticated_session_topic),d?.length>0){t={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:(0,s.gn4)(tJ),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:(0,s.E12)([...new Set(d)],[...new Set(f)]),transportType:a},i.addTrace(ei.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(e){throw i.setError(es.subscribe_authenticated_session_topic_failure),e}i.addTrace(ei.subscribe_authenticated_session_topic_success),await this.client.session.set(p,t),i.addTrace(ei.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(ei.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(e){throw i.setError(es.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}},this.rejectSessionAuthenticate=async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===$.relay&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=(0,s.YmJ)(i),c={type:s.rVF,receiverPublicKey:i,senderPublicKey:o};await this.sendError({id:t,topic:a,error:r,encodeOpts:c,rpcOpts:tZ.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,(0,s.D6H)("USER_DISCONNECTED"))},this.formatAuthMessage=e=>{this.isInitialized();let{request:t,iss:r}=e;return(0,s.wvx)(t,r)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)},this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:o=0}=e,{self:a}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,(0,s.D6H)("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(tG).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,(0,s.D6H)("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=tQ.idle),i&&this.client.events.emit("session_delete",{id:o,topic:r})},this.deleteProposal=async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(en.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,(0,s.D6H)("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")},this.deletePendingSessionRequest=async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=tQ.idle,this.client.events.emit("session_request_expire",{id:e}))},this.deletePendingAuthRequest=async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))},this.setProposal=async(e,t)=>{this.client.core.expirer.set(e,(0,s.gn4)(tZ.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)},this.setAuthRequest=async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=$.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})},this.setPendingSessionRequest=async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,o=n.request.expiryTimestamp||(0,s.gn4)(tZ.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})},this.sendRequest=async e=>{let t,n;let{topic:i,method:o,params:a,expiry:c,relayRpcId:l,clientRpcId:u,throwOnFailedPublish:h,appLink:d}=e,f=(0,S.formatJsonRpcRequest)(o,a,u),p=!!d;try{let e=p?s.zl_:s.$dT;t=await this.client.core.crypto.encode(i,f,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),e}if(tX.includes(o)){let e=(0,s.rjm)(JSON.stringify(f)),r=(0,s.rjm)(t);n=await this.client.core.verify.register({id:r,decryptedId:e})}let g=tZ[o].req;if(g.attestation=n,c&&(g.ttl=c),l&&(g.id=l),this.client.core.history.set(i,f),p){let e=(0,s.L9d)(d,i,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=tZ[o].req;c&&(e.ttl=c),l&&(e.id=l),h?(e.internal=re(t7({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,t,e)):this.client.core.relayer.publish(i,t,e).catch(e=>this.client.logger.error(e))}return f.id},this.sendResult=async e=>{let t,n;let{id:i,topic:o,result:a,throwOnFailedPublish:c,encodeOpts:l,appLink:u}=e,h=(0,S.formatJsonRpcResult)(i,a),d=u&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=d?s.zl_:s.$dT;t=await this.client.core.crypto.encode(o,h,re(t7({},l||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${o} failed`),e}try{n=await this.client.core.history.get(o,i)}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${o}, ${i}) failed`),e}if(d){let e=(0,s.L9d)(u,o,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=tZ[n.request.method].res;c?(e.internal=re(t7({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(o,t,e)):this.client.core.relayer.publish(o,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(h)},this.sendError=async e=>{let t,n;let{id:i,topic:o,error:a,encodeOpts:c,rpcOpts:l,appLink:u}=e,h=(0,S.formatJsonRpcError)(i,a),d=u&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=d?s.zl_:s.$dT;t=await this.client.core.crypto.encode(o,h,re(t7({},c||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${o} failed`),e}try{n=await this.client.core.history.get(o,i)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${o}, ${i}) failed`),e}if(d){let e=(0,s.L9d)(u,o,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=l||tZ[n.request.method].res;this.client.core.relayer.publish(o,t,e)}await this.client.core.history.resolve(h)},this.cleanup=async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;(0,s.BwD)(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{(0,s.BwD)(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===tQ.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=tQ.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=tQ.idle},this.processRequest=async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:s}=e,o=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=e=>{let{topic:t}=e,{message:r}=(0,s.kCb)("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)},this.shouldIgnorePairingRequest=e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:o,id:a}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});this.isValidConnect(t7({},r.params));let c=o.expiryTimestamp||(0,s.gn4)(tZ.wc_sessionPropose.req.ttl),l=t7({id:a,pairingTopic:t,expiryTimestamp:c},o);await this.setProposal(a,l);let u=await this.getVerifyContext({attestationId:n,hash:(0,s.rjm)(JSON.stringify(r)),encryptedId:i,metadata:l.proposer.metadata});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(et.proposal_listener_not_found)),e?.addTrace(ee.emit_session_proposal),this.client.events.emit("session_proposal",{id:a,params:l,verifyContext:u})}catch(e){await this.sendError({id:a,topic:t,error:e,rpcOpts:tZ.wc_sessionPropose.autoReject}),this.client.logger.error(e)}},this.onSessionProposeResponse=async(e,t,r)=>{let{id:n}=t;if((0,S.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let s=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});let a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});let c=await this.client.core.crypto.generateSharedKey(o,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:c});let l=await this.client.core.relayer.subscribe(c,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,S.isJsonRpcError)(t)){await this.client.proposal.delete(n,(0,s.D6H)("USER_DISCONNECTED"));let e=(0,s.E0T)("session_connect");if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit((0,s.E0T)("session_connect"),{error:t.error})}},this.onSessionSettleRequest=async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:o,namespaces:a,sessionProperties:c,sessionConfig:l}=t.params,u=re(t7(t7({topic:e,relay:r,expiry:o,namespaces:a,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},c&&{sessionProperties:c}),l&&{sessionConfig:l}),{transportType:$.relay}),h=(0,s.E0T)("session_connect");if(0===this.events.listenerCount(h))throw Error(`emitting ${h} without any listeners 997`);this.events.emit((0,s.E0T)("session_connect"),{session:u}),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{let{id:r}=t;(0,S.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,s.E0T)("session_approve",r),{})):(0,S.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,s.D6H)("USER_DISCONNECTED")),this.events.emit((0,s.E0T)("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=s.O6B.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.info(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:(0,s.D6H)("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(t7({topic:e},r));try{s.O6B.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0})}catch(e){throw s.O6B.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{let{id:r}=t,n=(0,s.E0T)("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,S.isJsonRpcResult)(t)?this.events.emit((0,s.E0T)("session_update",r),{}):(0,S.isJsonRpcError)(t)&&this.events.emit((0,s.E0T)("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,s.gn4)(tJ)),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{let{id:r}=t,n=(0,s.E0T)("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,S.isJsonRpcResult)(t)?this.events.emit((0,s.E0T)("session_extend",r),{}):(0,S.isJsonRpcError)(t)&&this.events.emit((0,s.E0T)("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{let{id:r}=t,n=(0,s.E0T)("session_ping",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);setTimeout(()=>{(0,S.isJsonRpcResult)(t)?this.events.emit((0,s.E0T)("session_ping",r),{}):(0,S.isJsonRpcError)(t)&&this.events.emit((0,s.E0T)("session_ping",r),{error:t.error})},500)},this.onSessionDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(t=>{this.client.core.relayer.once(L.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,s.D6H)("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}},this.onSessionRequest=async e=>{var t,r,n;let{topic:i,payload:o,attestation:a,encryptedId:c,transportType:l}=e,{id:u,params:h}=o;try{await this.isValidRequest(t7({topic:i},h));let e=this.client.session.get(i),o=await this.getVerifyContext({attestationId:a,hash:(0,s.rjm)(JSON.stringify((0,S.formatJsonRpcRequest)("wc_sessionRequest",h,u))),encryptedId:c,metadata:e.peer.metadata,transportType:l}),d={id:u,topic:i,params:h,verifyContext:o};await this.setPendingSessionRequest(d),l===$.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(d):(this.addSessionRequestToSessionRequestQueue(d),this.processSessionRequestQueue())}catch(e){await this.sendError({id:u,topic:i,error:e}),this.client.logger.error(e)}},this.onSessionRequestResponse=(e,t)=>{let{id:r}=t,n=(0,s.E0T)("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,S.isJsonRpcResult)(t)?this.events.emit((0,s.E0T)("session_request",r),{result:t.result}):(0,S.isJsonRpcError)(t)&&this.events.emit((0,s.E0T)("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=s.O6B.get(t);if(i&&this.isRequestOutOfSync(i,r)){this.client.logger.info(`Discarding out of sync request - ${r}`);return}this.isValidEmit(t7({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),s.O6B.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionAuthenticateResponse=(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,S.isJsonRpcResult)(t)?this.events.emit((0,s.E0T)("session_request",r),{result:t.result}):(0,S.isJsonRpcError)(t)&&this.events.emit((0,s.E0T)("session_request",r),{error:t.error})},this.onSessionAuthenticateRequest=async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:o,transportType:a}=e;try{let{requester:e,authPayload:c,expiryTimestamp:l}=n.params,u=await this.getVerifyContext({attestationId:i,hash:(0,s.rjm)(JSON.stringify(n)),encryptedId:o,metadata:e.metadata,transportType:a}),h={requester:e,pairingTopic:r,id:n.id,authPayload:c,verifyContext:u,expiryTimestamp:l};await this.setAuthRequest(n.id,{request:h,pairingTopic:r,transportType:a}),a===$.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:u})}catch(c){this.client.logger.error(c);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,a),o={type:s.rVF,receiverPublicKey:e,senderPublicKey:t};await this.sendError({id:n.id,topic:r,error:c,encodeOpts:o,rpcOpts:tZ.wc_sessionAuthenticate.autoReject,appLink:i})}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=tQ.idle,this.processSessionRequestQueue()},(0,_.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=e.request.id,n=(0,s.E0T)("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);this.events.emit((0,s.E0T)("session_request",e.request.id),{error:t})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===tQ.active){this.client.logger.info("session request queue is already active.");return}let e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=tQ.active,this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}},this.emitSessionRequest=e=>{this.client.events.emit("session_request",e)},this.onPairingCreated=e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,S.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id)})},this.isValidConnect=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,relays:o}=e;if((0,s.o8e)(t)||await this.isValidPairingTopic(t),!(0,s.PMr)(o,!0)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`connect() relays: ${o}`);throw Error(e)}(0,s.o8e)(r)||0===(0,s.L5o)(r)||this.validateNamespaces(r,"requiredNamespaces"),(0,s.o8e)(n)||0===(0,s.L5o)(n)||this.validateNamespaces(n,"optionalNamespaces"),(0,s.o8e)(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(e,t)=>{let r=(0,s.naP)(e,"connect()",t);if(r)throw Error(r.message)},this.isValidApprove=async e=>{if(!(0,s.EJd)(e))throw Error((0,s.kCb)("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let o=this.client.proposal.get(t),a=(0,s.ing)(r,"approve()");if(a)throw Error(a.message);let c=(0,s.rFo)(o.requiredNamespaces,r,"approve()");if(c)throw Error(c.message);if(!(0,s.M_r)(n,!0)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}(0,s.o8e)(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,s.H4H)(r)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidSessionSettleRequest=e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:n,expiry:i}=e;if(!(0,s.Z26)(t)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let o=(0,s.DdM)(r,"onSessionSettleRequest()");if(o)throw Error(o.message);let a=(0,s.ing)(n,"onSessionSettleRequest()");if(a)throw Error(a.message);if((0,s.BwD)(i)){let{message:e}=(0,s.kCb)("EXPIRED","onSessionSettleRequest()");throw Error(e)}},this.isValidUpdate=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=(0,s.ing)(r,"update()");if(i)throw Error(i.message);let o=(0,s.rFo)(n.requiredNamespaces,r,"update()");if(o)throw Error(o.message)},this.isValidExtend=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:n,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let{namespaces:o}=this.client.session.get(t);if(!(0,s.p8o)(o,n)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`request() chainId: ${n}`);throw Error(e)}if(!(0,s.hHR)(r)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!(0,s.alS)(o,n,r.method)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}if(i&&!(0,s.ONw)(i,tY)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${tY.min} and ${tY.max}`);throw Error(e)}},this.isValidRespond=async e=>{var t;if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,s.JTI)(n)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}},this.isValidPing=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:n}=e;await this.isValidSessionTopic(t);let{namespaces:i}=this.client.session.get(t);if(!(0,s.p8o)(i,n)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw Error(e)}if(!(0,s.nfW)(r)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}if(!(0,s.B95)(i,n,r.name)){let{message:e}=(0,s.kCb)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidDisconnect=async e=>{if(!(0,s.EJd)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidAuthenticate=e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!(0,s.M_r)(r,!1))throw Error("uri is required parameter");if(!(0,s.M_r)(n,!1))throw Error("domain is required parameter");if(!(0,s.M_r)(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>(0,s.DQe)(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:o}=(0,s.DQe)(t[0]);if("eip155"!==o)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||Y,validation:"UNKNOWN",origin:i.url||""}};try{if(s===$.link_mode){let e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o},this.validateSessionProps=(e,t)=>{Object.values(e).forEach(e=>{if(!(0,s.M_r)(e,!1)){let{message:r}=(0,s.kCb)("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw Error(r)}})},this.getPendingAuthRequest=e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0},this.addToRecentlyDeleted=(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=(0,s.kCb)("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}},this.isLinkModeEnabled=(e,t)=>{var n,i,s,o,a,c,l,u,h;return!!e&&t===$.link_mode&&(null==(i=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:i.linkMode)===!0&&(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)!==void 0&&(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)!==""&&(null==(l=e?.redirect)?void 0:l.universal)!==void 0&&(null==(u=e?.redirect)?void 0:u.universal)!==""&&(null==(h=e?.redirect)?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==r.g?void 0:r.g.Linking)},this.getAppLinkIfEnabled=(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0},this.handleLinkModeMessage=({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=(0,s.waw)(e,"topic")||"",r=decodeURIComponent((0,s.waw)(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:$.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})},this.registerLinkModeListeners=async()=>{var e;if((0,s.h9F)()||(0,s.b$m)()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==r.g?void 0:r.g.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}}isInitialized(){if(!this.initialized){let{message:e}=(0,s.kCb)("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(L.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(t1)?this.client.auth.authKeys.get(t1):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(t,r,{receiverPublicKey:o,encoding:i===$.link_mode?s.zl_:s.$dT});try{(0,S.isJsonRpcRequest)(a)?(this.client.core.history.set(t,a),this.onRelayEventRequest({topic:t,payload:a,attestation:n,transportType:i,encryptedId:(0,s.rjm)(r)})):(0,S.isJsonRpcResponse)(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:t,payload:a,transportType:i}),this.client.core.history.delete(t,a.id)):this.onRelayEventUnknownPayload({topic:t,payload:a,transportType:i})}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(Z.expired,async e=>{let{topic:t,id:r}=(0,s.iPz)(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,(0,s.kCb)("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,(0,s.kCb)("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(K.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(K.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!(0,s.M_r)(e,!1)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if((0,s.BwD)(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=(0,s.kCb)("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!(0,s.M_r)(e,!1)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if((0,s.BwD)(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=(0,s.kCb)("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if((0,s.M_r)(e,!1)){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if(!(0,s.Q01)(e)){let{message:t}=(0,s.kCb)("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=(0,s.kCb)("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if((0,s.BwD)(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=(0,s.kCb)("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class rr extends tw{constructor(e,t){super(e,t,"proposal",tV),this.core=e,this.logger=t}}class rn extends tw{constructor(e,t){super(e,t,"session",tV),this.core=e,this.logger=t}}class ri extends tw{constructor(e,t){super(e,t,"request",tV,e=>e.id),this.core=e,this.logger=t}}class rs extends tw{constructor(e,t){super(e,t,"authKeys",t0,()=>t1),this.core=e,this.logger=t}}class ro extends tw{constructor(e,t){super(e,t,"pairingTopics",t0),this.core=e,this.logger=t}}class ra extends tw{constructor(e,t){super(e,t,"requests",t0,e=>e.id),this.core=e,this.logger=t}}class rc{constructor(e,t){this.core=e,this.logger=t,this.authKeys=new rs(this.core,this.logger),this.pairingTopics=new ro(this.core,this.logger),this.requests=new ra(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class rl extends E{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=tH.name,this.events=new n.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.authenticate=async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}},this.formatAuthMessage=e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}},this.approveSessionAuthenticate=async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}},this.rejectSessionAuthenticate=async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||tH.name,this.metadata=e?.metadata||(0,s.DaH)(),this.signConfig=e?.signConfig;let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,c.gw)((0,c.jI)({level:e?.logger||tH.logger}));this.core=e?.core||new t$(e),this.logger=(0,c.Ep)(t,this.name),this.session=new rn(this.core,this.logger),this.proposal=new rr(this.core,this.logger),this.pendingRequest=new ri(this.core,this.logger),this.engine=new rt(this),this.auth=new rc(this.core,this.logger)}static async init(e){let t=new rl(e);return await t.initialize(),t}get context(){return(0,c.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var ru=r(5071);let rh="error",rd="wc@2:universal_provider:",rf="https://rpc.walletconnect.org/v1/",rp="generic",rg=`${rf}bundler`,ry="default_chain_changed";var rm="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},rb={exports:{}};!function(e,t){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=1/0,a=0/0,c=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",u="[object Array]",h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",m="[object Number]",b="[object Object]",v="[object Promise]",w="[object RegExp]",E="[object Set]",A="[object String]",_="[object Symbol]",P="[object WeakMap]",T="[object ArrayBuffer]",I="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",x="[object Int16Array]",R="[object Int32Array]",M="[object Uint8Array]",B="[object Uint8ClampedArray]",N="[object Uint16Array]",D="[object Uint32Array]",k=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,j=RegExp(F.source),z=RegExp(L.source),$=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,Z=RegExp(J.source),Y=/^\s+/,Q=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ee=/\{\n\/\* \[wrapped with (.+)\] \*/,et=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,en=/[()=,{}\[\]\/\s]/,ei=/\\(\\)?/g,es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eo=/\w*$/,ea=/^[-+]0x[0-9a-f]+$/i,ec=/^0b[01]+$/i,el=/^\[object .+?Constructor\]$/,eu=/^0o[0-7]+$/i,eh=/^(?:0|[1-9]\d*)$/,ed=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ef=/($^)/,ep=/['\n\r\u2028\u2029\\]/g,eg="\ud800-\udfff",ey="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",em="\\u2700-\\u27bf",eb="a-z\\xdf-\\xf6\\xf8-\\xff",ev="A-Z\\xc0-\\xd6\\xd8-\\xde",ew="\\ufe0e\\ufe0f",eE="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eA="[']",e_="["+eE+"]",eP="["+ey+"]",eT="["+eb+"]",eI="[^"+eg+eE+"\\d+"+em+eb+ev+"]",eC="\ud83c[\udffb-\udfff]",eS="[^"+eg+"]",eO="(?:\ud83c[\udde6-\uddff]){2}",ex="[\ud800-\udbff][\udc00-\udfff]",eR="["+ev+"]",eM="\\u200d",eB="(?:"+eT+"|"+eI+")",eN="(?:"+eA+"(?:d|ll|m|re|s|t|ve))?",eD="(?:"+eA+"(?:D|LL|M|RE|S|T|VE))?",ek="(?:"+eP+"|"+eC+")?",eW="["+ew+"]?",eU="(?:"+eM+"(?:"+[eS,eO,ex].join("|")+")"+eW+ek+")*",eF=eW+ek+eU,eL="(?:"+["["+em+"]",eO,ex].join("|")+")"+eF,ej="(?:"+[eS+eP+"?",eP,eO,ex,"["+eg+"]"].join("|")+")",ez=RegExp(eA,"g"),e$=RegExp(eP,"g"),eq=RegExp(eC+"(?="+eC+")|"+ej+eF,"g"),eV=RegExp([eR+"?"+eT+"+"+eN+"(?="+[e_,eR,"$"].join("|")+")","(?:"+eR+"|"+eI+")+"+eD+"(?="+[e_,eR+eB,"$"].join("|")+")",eR+"?"+eB+"+"+eN,eR+"+"+eD,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eL].join("|"),"g"),eH=RegExp("["+eM+eg+ey+ew+"]"),eG=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eK=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eJ=-1,eZ={};eZ[C]=eZ[S]=eZ[O]=eZ[x]=eZ[R]=eZ[M]=eZ[B]=eZ[N]=eZ[D]=!0,eZ[l]=eZ[u]=eZ[T]=eZ[h]=eZ[I]=eZ[d]=eZ[f]=eZ[p]=eZ[y]=eZ[m]=eZ[b]=eZ[w]=eZ[E]=eZ[A]=eZ[P]=!1;var eY={};eY[l]=eY[u]=eY[T]=eY[I]=eY[h]=eY[d]=eY[C]=eY[S]=eY[O]=eY[x]=eY[R]=eY[y]=eY[m]=eY[b]=eY[w]=eY[E]=eY[A]=eY[_]=eY[M]=eY[B]=eY[N]=eY[D]=!0,eY[f]=eY[p]=eY[P]=!1;var eQ={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eX=parseFloat,e0=parseInt,e1="object"==typeof rm&&rm&&rm.Object===Object&&rm,e2="object"==typeof self&&self&&self.Object===Object&&self,e3=e1||e2||Function("return this")(),e6=t&&!t.nodeType&&t,e4=e6&&e&&!e.nodeType&&e,e5=e4&&e4.exports===e6,e8=e5&&e1.process,e9=function(){try{return e4&&e4.require&&e4.require("util").types||e8&&e8.binding&&e8.binding("util")}catch{}}(),e7=e9&&e9.isArrayBuffer,te=e9&&e9.isDate,tt=e9&&e9.isMap,tr=e9&&e9.isRegExp,tn=e9&&e9.isSet,ti=e9&&e9.isTypedArray;function ts(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function to(e,t,r,n){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(n,o,r(o),e)}return n}function ta(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function tc(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function tl(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function tu(e,t){return!!(null==e?0:e.length)&&tw(e,t,0)>-1}function th(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function td(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function tf(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function tp(e,t,r,n){var i=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function tg(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function ty(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var tm=tP("length");function tb(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function tv(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return -1}function tw(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}(e,t,r):tv(e,tA,r)}function tE(e,t,r,n){for(var i=r-1,s=e.length;++i<s;)if(n(e[i],t))return i;return -1}function tA(e){return e!=e}function t_(e,t){var r=null==e?0:e.length;return r?tC(e,t)/r:a}function tP(e){return function(t){return null==t?r:t[e]}}function tT(e){return function(t){return null==e?r:e[t]}}function tI(e,t,r,n,i){return i(e,function(e,i,s){r=n?(n=!1,e):t(r,e,i,s)}),r}function tC(e,t){for(var n,i=-1,s=e.length;++i<s;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function tS(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function tO(e){return e&&e.slice(0,tV(e)+1).replace(Y,"")}function tx(e){return function(t){return e(t)}}function tR(e,t){return td(t,function(t){return e[t]})}function tM(e,t){return e.has(t)}function tB(e,t){for(var r=-1,n=e.length;++r<n&&tw(t,e[r],0)>-1;);return r}function tN(e,t){for(var r=e.length;r--&&tw(t,e[r],0)>-1;);return r}var tD=tT({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),tk=tT({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tW(e){return"\\"+eQ[e]}function tU(e){return eH.test(e)}function tF(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function tL(e,t){return function(r){return e(t(r))}}function tj(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];(a===t||a===s)&&(e[r]=s,o[i++]=r)}return o}function tz(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function t$(e){return tU(e)?function(e){for(var t=eq.lastIndex=0;eq.test(e);)++t;return t}(e):tm(e)}function tq(e){return tU(e)?e.match(eq)||[]:e.split("")}function tV(e){for(var t=e.length;t--&&Q.test(e.charAt(t)););return t}var tH=tT({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tG=function e(t){var Q,eg,ey,em,eb=(t=null==t?e3:tG.defaults(e3.Object(),t,tG.pick(e3,eK))).Array,ev=t.Date,ew=t.Error,eE=t.Function,eA=t.Math,e_=t.Object,eP=t.RegExp,eT=t.String,eI=t.TypeError,eC=eb.prototype,eS=eE.prototype,eO=e_.prototype,ex=t["__core-js_shared__"],eR=eS.toString,eM=eO.hasOwnProperty,eB=0,eN=(Q=/[^.]+$/.exec(ex&&ex.keys&&ex.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",eD=eO.toString,ek=eR.call(e_),eW=e3._,eU=eP("^"+eR.call(eM).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eF=e5?t.Buffer:r,eL=t.Symbol,ej=t.Uint8Array,eq=eF?eF.allocUnsafe:r,eH=tL(e_.getPrototypeOf,e_),eQ=e_.create,e1=eO.propertyIsEnumerable,e2=eC.splice,e6=eL?eL.isConcatSpreadable:r,e4=eL?eL.iterator:r,e8=eL?eL.toStringTag:r,e9=function(){try{var e=ip(e_,"defineProperty");return e({},"",{}),e}catch{}}(),tm=t.clearTimeout!==e3.clearTimeout&&t.clearTimeout,tT=ev&&ev.now!==e3.Date.now&&ev.now,tK=t.setTimeout!==e3.setTimeout&&t.setTimeout,tJ=eA.ceil,tZ=eA.floor,tY=e_.getOwnPropertySymbols,tQ=eF?eF.isBuffer:r,tX=t.isFinite,t0=eC.join,t1=tL(e_.keys,e_),t2=eA.max,t3=eA.min,t6=ev.now,t4=t.parseInt,t5=eA.random,t8=eC.reverse,t9=ip(t,"DataView"),t7=ip(t,"Map"),re=ip(t,"Promise"),rt=ip(t,"Set"),rr=ip(t,"WeakMap"),rn=ip(e_,"create"),ri=rr&&new rr,rs={},ro=iF(t9),ra=iF(t7),rc=iF(re),rl=iF(rt),ru=iF(rr),rh=eL?eL.prototype:r,rd=rh?rh.valueOf:r,rf=rh?rh.toString:r;function rp(e){if(sH(e)&&!sD(e)&&!(e instanceof rb)){if(e instanceof rm)return e;if(eM.call(e,"__wrapped__"))return iL(e)}return new rm(e)}var rg=function(){function e(){}return function(t){if(!sV(t))return{};if(eQ)return eQ(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function ry(){}function rm(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function rb(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function rv(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rw(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rE(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rA(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new rE;++t<r;)this.add(e[t])}function r_(e){var t=this.__data__=new rw(e);this.size=t.size}function rP(e,t){var r=sD(e),n=!r&&sN(e),i=!r&&!n&&sF(e),s=!r&&!n&&!i&&s0(e),o=r||n||i||s,a=o?tS(e.length,eT):[],c=a.length;for(var l in e)(t||eM.call(e,l))&&!(o&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||iE(l,c)))&&a.push(l);return a}function rT(e){var t=e.length;return t?e[nl(0,t-1)]:r}function rI(e,t,n){(n===r||sR(e[t],n))&&(n!==r||t in e)||rR(e,t,n)}function rC(e,t,n){var i=e[t];eM.call(e,t)&&sR(i,n)&&(n!==r||t in e)||rR(e,t,n)}function rS(e,t){for(var r=e.length;r--;)if(sR(e[r][0],t))return r;return -1}function rO(e,t,r,n){return rU(e,function(e,i,s){t(n,e,r(e),s)}),n}function rx(e,t){return e&&nj(t,od(t),e)}function rR(e,t,r){"__proto__"==t&&e9?e9(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function rM(e,t){for(var n=-1,i=t.length,s=eb(i),o=null==e;++n<i;)s[n]=o?r:oa(e,t[n]);return s}function rB(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function rN(e,t,n,i,s,o){var a,c=1&t,u=2&t,f=4&t;if(n&&(a=s?n(e,i,s,o):n(e)),a!==r)return a;if(!sV(e))return e;var v=sD(e);if(v){if(P=e.length,k=new e.constructor(P),P&&"string"==typeof e[0]&&eM.call(e,"index")&&(k.index=e.index,k.input=e.input),a=k,!c)return nL(e,a)}else{var P,k,W,U,F,L=im(e),j=L==p||L==g;if(sF(e))return nN(e,c);if(L==b||L==l||j&&!s){if(a=u||j?{}:iv(e),!c)return u?(W=(F=a)&&nj(e,of(e),F),nj(e,iy(e),W)):(U=rx(a,e),nj(e,ig(e),U))}else{if(!eY[L])return s?e:{};a=function(e,t,r){var n,i,s=e.constructor;switch(t){case T:return nD(e);case h:case d:return new s(+e);case I:return n=r?nD(e.buffer):e.buffer,new e.constructor(n,e.byteOffset,e.byteLength);case C:case S:case O:case x:case R:case M:case B:case N:case D:return nk(e,r);case y:return new s;case m:case A:return new s(e);case w:return(i=new e.constructor(e.source,eo.exec(e))).lastIndex=e.lastIndex,i;case E:return new s;case _:return rd?e_(rd.call(e)):{}}}(e,L,c)}}o||(o=new r_);var z=o.get(e);if(z)return z;o.set(e,a),sY(e)?e.forEach(function(r){a.add(rN(r,t,n,r,e,o))}):sG(e)&&e.forEach(function(r,i){a.set(i,rN(r,t,n,i,e,o))});var $=f?u?io:is:u?of:od,q=v?r:$(e);return ta(q||e,function(r,i){q&&(r=e[i=r]),rC(a,i,rN(r,t,n,i,e,o))}),a}function rD(e,t,n){var i=n.length;if(null==e)return!i;for(e=e_(e);i--;){var s=n[i],o=t[s],a=e[s];if(a===r&&!(s in e)||!o(a))return!1}return!0}function rk(e,t,i){if("function"!=typeof e)throw new eI(n);return iM(function(){e.apply(r,i)},t)}function rW(e,t,r,n){var i=-1,s=tu,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;r&&(t=td(t,tx(r))),n?(s=th,o=!1):t.length>=200&&(s=tM,o=!1,t=new rA(t));t:for(;++i<a;){var u=e[i],h=null==r?u:r(u);if(u=n||0!==u?u:0,o&&h==h){for(var d=l;d--;)if(t[d]===h)continue t;c.push(u)}else s(t,h,n)||c.push(u)}return c}rp.templateSettings={escape:$,evaluate:q,interpolate:V,variable:"",imports:{_:rp}},rp.prototype=ry.prototype,rp.prototype.constructor=rp,rm.prototype=rg(ry.prototype),rm.prototype.constructor=rm,rb.prototype=rg(ry.prototype),rb.prototype.constructor=rb,rv.prototype.clear=function(){this.__data__=rn?rn(null):{},this.size=0},rv.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},rv.prototype.get=function(e){var t=this.__data__;if(rn){var n=t[e];return n===i?r:n}return eM.call(t,e)?t[e]:r},rv.prototype.has=function(e){var t=this.__data__;return rn?t[e]!==r:eM.call(t,e)},rv.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rn&&t===r?i:t,this},rw.prototype.clear=function(){this.__data__=[],this.size=0},rw.prototype.delete=function(e){var t=this.__data__,r=rS(t,e);return!(r<0)&&(r==t.length-1?t.pop():e2.call(t,r,1),--this.size,!0)},rw.prototype.get=function(e){var t=this.__data__,n=rS(t,e);return n<0?r:t[n][1]},rw.prototype.has=function(e){return rS(this.__data__,e)>-1},rw.prototype.set=function(e,t){var r=this.__data__,n=rS(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},rE.prototype.clear=function(){this.size=0,this.__data__={hash:new rv,map:new(t7||rw),string:new rv}},rE.prototype.delete=function(e){var t=ih(this,e).delete(e);return this.size-=t?1:0,t},rE.prototype.get=function(e){return ih(this,e).get(e)},rE.prototype.has=function(e){return ih(this,e).has(e)},rE.prototype.set=function(e,t){var r=ih(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},rA.prototype.add=rA.prototype.push=function(e){return this.__data__.set(e,i),this},rA.prototype.has=function(e){return this.__data__.has(e)},r_.prototype.clear=function(){this.__data__=new rw,this.size=0},r_.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},r_.prototype.get=function(e){return this.__data__.get(e)},r_.prototype.has=function(e){return this.__data__.has(e)},r_.prototype.set=function(e,t){var r=this.__data__;if(r instanceof rw){var n=r.__data__;if(!t7||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rE(n)}return r.set(e,t),this.size=r.size,this};var rU=nq(rH),rF=nq(rG,!0);function rL(e,t){var r=!0;return rU(e,function(e,n,i){return r=!!t(e,n,i)}),r}function rj(e,t,n){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(c===r?a==a&&!sX(a):n(a,c)))var c=a,l=o}return l}function rz(e,t){var r=[];return rU(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function r$(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=iw),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?r$(a,t-1,r,n,i):tf(i,a):n||(i[i.length]=a)}return i}var rq=nV(),rV=nV(!0);function rH(e,t){return e&&rq(e,t,od)}function rG(e,t){return e&&rV(e,t,od)}function rK(e,t){return tl(t,function(t){return sz(e[t])})}function rJ(e,t){t=nR(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[iU(t[n++])];return n&&n==i?e:r}function rZ(e,t,r){var n=t(e);return sD(e)?n:tf(n,r(e))}function rY(e){return null==e?e===r?"[object Undefined]":"[object Null]":e8&&e8 in e_(e)?function(e){var t=eM.call(e,e8),n=e[e8];try{e[e8]=r;var i=!0}catch{}var s=eD.call(e);return i&&(t?e[e8]=n:delete e[e8]),s}(e):eD.call(e)}function rQ(e,t){return e>t}function rX(e,t){return null!=e&&eM.call(e,t)}function r0(e,t){return null!=e&&t in e_(e)}function r1(e,t,n){for(var i=n?th:tu,s=e[0].length,o=e.length,a=o,c=eb(o),l=1/0,u=[];a--;){var h=e[a];a&&t&&(h=td(h,tx(t))),l=t3(h.length,l),c[a]=!n&&(t||s>=120&&h.length>=120)?new rA(a&&h):r}h=e[0];var d=-1,f=c[0];t:for(;++d<s&&u.length<l;){var p=h[d],g=t?t(p):p;if(p=n||0!==p?p:0,!(f?tM(f,g):i(u,g,n))){for(a=o;--a;){var y=c[a];if(!(y?tM(y,g):i(e[a],g,n)))continue t}f&&f.push(g),u.push(p)}}return u}function r2(e,t,n){t=nR(t,e);var i=null==(e=iO(e,t))?e:e[iU(iY(t))];return null==i?r:ts(i,e,n)}function r3(e){return sH(e)&&rY(e)==l}function r6(e,t,n,i,s){return e===t||(null!=e&&null!=t&&(sH(e)||sH(t))?function(e,t,n,i,s,o){var a=sD(e),c=sD(t),p=a?u:im(e),g=c?u:im(t);p=p==l?b:p,g=g==l?b:g;var v=p==b,P=g==b,C=p==g;if(C&&sF(e)){if(!sF(t))return!1;a=!0,v=!1}if(C&&!v)return o||(o=new r_),a||s0(e)?ir(e,t,n,i,s,o):function(e,t,r,n,i,s,o){switch(r){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!s(new ej(e),new ej(t)));case h:case d:case m:return sR(+e,+t);case f:return e.name==t.name&&e.message==t.message;case w:case A:return e==t+"";case y:var a=tF;case E:var c=1&n;if(a||(a=tz),e.size!=t.size&&!c)break;var l=o.get(e);if(l)return l==t;n|=2,o.set(e,t);var u=ir(a(e),a(t),n,i,s,o);return o.delete(e),u;case _:if(rd)return rd.call(e)==rd.call(t)}return!1}(e,t,p,n,i,s,o);if(!(1&n)){var S=v&&eM.call(e,"__wrapped__"),O=P&&eM.call(t,"__wrapped__");if(S||O){var x=S?e.value():e,R=O?t.value():t;return o||(o=new r_),s(x,R,n,i,o)}}return!!C&&(o||(o=new r_),function(e,t,n,i,s,o){var a=1&n,c=is(e),l=c.length;if(l!=is(t).length&&!a)return!1;for(var u=l;u--;){var h=c[u];if(!(a?h in t:eM.call(t,h)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var g=a;++u<l;){var y=e[h=c[u]],m=t[h];if(i)var b=a?i(m,y,h,t,e,o):i(y,m,h,e,t,o);if(!(b===r?y===m||s(y,m,n,i,o):b)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var v=e.constructor,w=t.constructor;v!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,i,s,o))}(e,t,n,i,r6,s):e!=e&&t!=t)}function r4(e,t,n,i){var s=n.length,o=s,a=!i;if(null==e)return!o;for(e=e_(e);s--;){var c=n[s];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var l=(c=n[s])[0],u=e[l],h=c[1];if(a&&c[2]){if(u===r&&!(l in e))return!1}else{var d=new r_;if(i)var f=i(u,h,l,e,t,d);if(!(f===r?r6(h,u,3,i,d):f))return!1}}return!0}function r5(e){return!(!sV(e)||eN&&eN in e)&&(sz(e)?eU:el).test(iF(e))}function r8(e){return"function"==typeof e?e:null==e?oU:"object"==typeof e?sD(e)?nr(e[0],e[1]):nt(e):oG(e)}function r9(e){if(!iI(e))return t1(e);var t=[];for(var r in e_(e))eM.call(e,r)&&"constructor"!=r&&t.push(r);return t}function r7(e,t){return e<t}function ne(e,t){var r=-1,n=sW(e)?eb(e.length):[];return rU(e,function(e,i,s){n[++r]=t(e,i,s)}),n}function nt(e){var t=id(e);return 1==t.length&&t[0][2]?iC(t[0][0],t[0][1]):function(r){return r===e||r4(r,e,t)}}function nr(e,t){var n;return i_(e)&&(n=t)==n&&!sV(n)?iC(iU(e),t):function(n){var i=oa(n,e);return i===r&&i===t?oc(n,e):r6(t,i,3)}}function nn(e,t,n,i,s){e!==t&&rq(t,function(o,a){if(s||(s=new r_),sV(o))!function(e,t,n,i,s,o,a){var c=ix(e,n),l=ix(t,n),u=a.get(l);if(u){rI(e,n,u);return}var h=o?o(c,l,n+"",e,t,a):r,d=h===r;if(d){var f=sD(l),p=!f&&sF(l),g=!f&&!p&&s0(l);h=l,f||p||g?sD(c)?h=c:sU(c)?h=nL(c):p?(d=!1,h=nN(l,!0)):g?(d=!1,h=nk(l,!0)):h=[]:sJ(l)||sN(l)?(h=c,sN(c)?h=s9(c):(!sV(c)||sz(c))&&(h=iv(l))):d=!1}d&&(a.set(l,h),s(h,l,i,o,a),a.delete(l)),rI(e,n,h)}(e,t,a,n,nn,i,s);else{var c=i?i(ix(e,a),o,a+"",e,t,s):r;c===r&&(c=o),rI(e,a,c)}},of)}function ni(e,t){var n=e.length;if(n)return iE(t+=t<0?n:0,n)?e[t]:r}function ns(e,t,r){t=t.length?td(t,function(e){return sD(e)?function(t){return rJ(t,1===e.length?e[0]:e)}:e}):[oU];var n=-1;return t=td(t,tx(iu())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(ne(e,function(e,r,i){return{criteria:td(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,a=r.length;++n<o;){var c=nW(i[n],s[n]);if(c){if(n>=a)return c;return c*("desc"==r[n]?-1:1)}}return e.index-t.index}(e,t,r)})}function no(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],a=rJ(e,o);r(a,o)&&nd(s,nR(o,e),a)}return s}function na(e,t,r,n){var i=n?tE:tw,s=-1,o=t.length,a=e;for(e===t&&(t=nL(t)),r&&(a=td(e,tx(r)));++s<o;)for(var c=0,l=t[s],u=r?r(l):l;(c=i(a,u,c,n))>-1;)a!==e&&e2.call(a,c,1),e2.call(e,c,1);return e}function nc(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==s){var s=i;iE(i)?e2.call(e,i,1):n_(e,i)}}return e}function nl(e,t){return e+tZ(t5()*(t-e+1))}function nu(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do t%2&&(r+=e),(t=tZ(t/2))&&(e+=e);while(t);return r}function nh(e,t){return iB(iS(e,t,oU),e+"")}function nd(e,t,n,i){if(!sV(e))return e;t=nR(t,e);for(var s=-1,o=t.length,a=o-1,c=e;null!=c&&++s<o;){var l=iU(t[s]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(s!=a){var h=c[l];(u=i?i(h,l,c):r)===r&&(u=sV(h)?h:iE(t[s+1])?[]:{})}rC(c,l,u),c=c[l]}return e}var nf=ri?function(e,t){return ri.set(e,t),e}:oU,np=e9?function(e,t){return e9(e,"toString",{configurable:!0,enumerable:!1,value:oD(t),writable:!0})}:oU;function ng(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=eb(i);++n<i;)s[n]=e[n+t];return s}function ny(e,t){var r;return rU(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function nm(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var s=n+i>>>1,o=e[s];null!==o&&!sX(o)&&(r?o<=t:o<t)?n=s+1:i=s}return i}return nb(e,t,oU,r)}function nb(e,t,n,i){var s=0,o=null==e?0:e.length;if(0===o)return 0;t=n(t);for(var a=t!=t,c=null===t,l=sX(t),u=t===r;s<o;){var h=tZ((s+o)/2),d=n(e[h]),f=d!==r,p=null===d,g=d==d,y=sX(d);if(a)var m=i||g;else m=u?g&&(i||f):c?g&&f&&(i||!p):l?g&&f&&!p&&(i||!y):!p&&!y&&(i?d<=t:d<t);m?s=h+1:o=h}return t3(o,4294967294)}function nv(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var o=e[r],a=t?t(o):o;if(!r||!sR(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function nw(e){return"number"==typeof e?e:sX(e)?a:+e}function nE(e){if("string"==typeof e)return e;if(sD(e))return td(e,nE)+"";if(sX(e))return rf?rf.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}function nA(e,t,r){var n=-1,i=tu,s=e.length,o=!0,a=[],c=a;if(r)o=!1,i=th;else if(s>=200){var l=t?null:n5(e);if(l)return tz(l);o=!1,i=tM,c=new rA}else c=t?[]:a;t:for(;++n<s;){var u=e[n],h=t?t(u):u;if(u=r||0!==u?u:0,o&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;t&&c.push(h),a.push(u)}else i(c,h,r)||(c!==a&&c.push(h),a.push(u))}return a}function n_(e,t){return t=nR(t,e),null==(e=iO(e,t))||delete e[iU(iY(t))]}function nP(e,t,r,n){return nd(e,t,r(rJ(e,t)),n)}function nT(e,t,r,n){for(var i=e.length,s=n?i:-1;(n?s--:++s<i)&&t(e[s],s,e););return r?ng(e,n?0:s,n?s+1:i):ng(e,n?s+1:0,n?i:s)}function nI(e,t){var r=e;return r instanceof rb&&(r=r.value()),tp(t,function(e,t){return t.func.apply(t.thisArg,tf([e],t.args))},r)}function nC(e,t,r){var n=e.length;if(n<2)return n?nA(e[0]):[];for(var i=-1,s=eb(n);++i<n;)for(var o=e[i],a=-1;++a<n;)a!=i&&(s[i]=rW(s[i]||o,e[a],t,r));return nA(r$(s,1),t,r)}function nS(e,t,n){for(var i=-1,s=e.length,o=t.length,a={};++i<s;){var c=i<o?t[i]:r;n(a,e[i],c)}return a}function nO(e){return sU(e)?e:[]}function nx(e){return"function"==typeof e?e:oU}function nR(e,t){return sD(e)?e:i_(e,t)?[e]:iW(s7(e))}function nM(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ng(e,t,n)}var nB=tm||function(e){return e3.clearTimeout(e)};function nN(e,t){if(t)return e.slice();var r=e.length,n=eq?eq(r):new e.constructor(r);return e.copy(n),n}function nD(e){var t=new e.constructor(e.byteLength);return new ej(t).set(new ej(e)),t}function nk(e,t){var r=t?nD(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function nW(e,t){if(e!==t){var n=e!==r,i=null===e,s=e==e,o=sX(e),a=t!==r,c=null===t,l=t==t,u=sX(t);if(!c&&!u&&!o&&e>t||o&&a&&l&&!c&&!u||i&&a&&l||!n&&l||!s)return 1;if(!i&&!o&&!u&&e<t||u&&n&&s&&!i&&!o||c&&n&&s||!a&&s||!l)return -1}return 0}function nU(e,t,r,n){for(var i=-1,s=e.length,o=r.length,a=-1,c=t.length,l=t2(s-o,0),u=eb(c+l),h=!n;++a<c;)u[a]=t[a];for(;++i<o;)(h||i<s)&&(u[r[i]]=e[i]);for(;l--;)u[a++]=e[i++];return u}function nF(e,t,r,n){for(var i=-1,s=e.length,o=-1,a=r.length,c=-1,l=t.length,u=t2(s-a,0),h=eb(u+l),d=!n;++i<u;)h[i]=e[i];for(var f=i;++c<l;)h[f+c]=t[c];for(;++o<a;)(d||i<s)&&(h[f+r[o]]=e[i++]);return h}function nL(e,t){var r=-1,n=e.length;for(t||(t=eb(n));++r<n;)t[r]=e[r];return t}function nj(e,t,n,i){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var c=t[o],l=i?i(n[c],e[c],c,n,e):r;l===r&&(l=e[c]),s?rR(n,c,l):rC(n,c,l)}return n}function nz(e,t){return function(r,n){var i=sD(r)?to:rO,s=t?t():{};return i(r,e,iu(n,2),s)}}function n$(e){return nh(function(t,n){var i=-1,s=n.length,o=s>1?n[s-1]:r,a=s>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(s--,o):r,a&&iA(n[0],n[1],a)&&(o=s<3?r:o,s=1),t=e_(t);++i<s;){var c=n[i];c&&e(t,c,i,o)}return t})}function nq(e,t){return function(r,n){if(null==r)return r;if(!sW(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=e_(r);(t?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function nV(e){return function(t,r,n){for(var i=-1,s=e_(t),o=n(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===r(s[c],c,s))break}return t}}function nH(e){return function(t){var n=tU(t=s7(t))?tq(t):r,i=n?n[0]:t.charAt(0),s=n?nM(n,1).join(""):t.slice(1);return i[e]()+s}}function nG(e){return function(t){return tp(oM(oP(t).replace(ez,"")),e,"")}}function nK(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=rg(e.prototype),n=e.apply(r,t);return sV(n)?n:r}}function nJ(e){return function(t,n,i){var s=e_(t);if(!sW(t)){var o=iu(n,3);t=od(t),n=function(e){return o(s[e],e,s)}}var a=e(t,n,i);return a>-1?s[o?t[a]:a]:r}}function nZ(e){return ii(function(t){var i=t.length,s=i,o=rm.prototype.thru;for(e&&t.reverse();s--;){var a=t[s];if("function"!=typeof a)throw new eI(n);if(o&&!c&&"wrapper"==ic(a))var c=new rm([],!0)}for(s=c?s:i;++s<i;){var l=ic(a=t[s]),u="wrapper"==l?ia(a):r;c=u&&iP(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[ic(u[0])].apply(c,u[3]):1==a.length&&iP(a)?c[l]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&sD(r))return c.plant(r).value();for(var n=0,s=i?t[n].apply(this,e):r;++n<i;)s=t[n].call(this,s);return s}})}function nY(e,t,n,i,s,o,a,c,l,u){var h=128&t,d=1&t,f=2&t,p=24&t,g=512&t,y=f?r:nK(e);return function m(){for(var b=arguments.length,v=eb(b),w=b;w--;)v[w]=arguments[w];if(p)var E=il(m),A=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(v,E);if(i&&(v=nU(v,i,s,p)),o&&(v=nF(v,o,a,p)),b-=A,p&&b<u){var _=tj(v,E);return n6(e,t,nY,m.placeholder,n,v,_,c,l,u-b)}var P=d?n:this,T=f?P[e]:e;return b=v.length,c?v=function(e,t){for(var n=e.length,i=t3(t.length,n),s=nL(e);i--;){var o=t[i];e[i]=iE(o,n)?s[o]:r}return e}(v,c):g&&b>1&&v.reverse(),h&&l<b&&(v.length=l),this&&this!==e3&&this instanceof m&&(T=y||nK(T)),T.apply(P,v)}}function nQ(e,t){return function(r,n){var i,s;return i=t(n),s={},rH(r,function(t,r,n){e(s,i(t),r,n)}),s}}function nX(e,t){return function(n,i){var s;if(n===r&&i===r)return t;if(n!==r&&(s=n),i!==r){if(s===r)return i;"string"==typeof n||"string"==typeof i?(n=nE(n),i=nE(i)):(n=nw(n),i=nw(i)),s=e(n,i)}return s}}function n0(e){return ii(function(t){return t=td(t,tx(iu())),nh(function(r){var n=this;return e(t,function(e){return ts(e,n,r)})})})}function n1(e,t){var n=(t=t===r?" ":nE(t)).length;if(n<2)return n?nu(t,e):t;var i=nu(t,tJ(e/t$(t)));return tU(t)?nM(tq(i),0,e).join(""):i.slice(0,e)}function n2(e){return function(t,n,i){return i&&"number"!=typeof i&&iA(t,n,i)&&(n=i=r),t=s6(t),n===r?(n=t,t=0):n=s6(n),i=i===r?t<n?1:-1:s6(i),function(e,t,r,n){for(var i=-1,s=t2(tJ((t-e)/(r||1)),0),o=eb(s);s--;)o[n?s:++i]=e,e+=r;return o}(t,n,i,e)}}function n3(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=s8(t),r=s8(r)),e(t,r)}}function n6(e,t,n,i,s,o,a,c,l,u){var h=8&t,d=h?a:r,f=h?r:a,p=h?o:r,g=h?r:o;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var y=[e,t,s,p,d,g,f,c,l,u],m=n.apply(r,y);return iP(e)&&iR(m,y),m.placeholder=i,iN(m,e,t)}function n4(e){var t=eA[e];return function(e,r){if(e=s8(e),(r=null==r?0:t3(s4(r),292))&&tX(e)){var n=(s7(e)+"e").split("e");return+((n=(s7(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var n5=rt&&1/tz(new rt([,-0]))[1]==o?function(e){return new rt(e)}:o$;function n8(e){return function(t){var r,n,i=im(t);return i==y?tF(t):i==E?(r=-1,n=Array(t.size),t.forEach(function(e){n[++r]=[e,e]}),n):td(e(t),function(e){return[e,t[e]]})}}function n9(e,t,i,o,a,c,l,u){var h=2&t;if(!h&&"function"!=typeof e)throw new eI(n);var d=o?o.length:0;if(d||(t&=-97,o=a=r),l=l===r?l:t2(s4(l),0),u=u===r?u:s4(u),d-=a?a.length:0,64&t){var f=o,p=a;o=a=r}var g=h?r:ia(e),y=[e,t,i,o,a,f,p,c,l,u];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(o||a){1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?nU(l,c,t[4]):c,e[4]=l?tj(e[3],s):t[4]}(c=t[5])&&(l=e[5],e[5]=l?nF(l,c,t[6]):c,e[6]=l?tj(e[5],s):t[6]),(c=t[7])&&(e[7]=c),128&n&&(e[8]=null==e[8]?t[8]:t3(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(y,g),e=y[0],t=y[1],i=y[2],o=y[3],a=y[4],(u=y[9]=y[9]===r?h?0:e.length:t2(y[9]-d,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?(m=e,b=t,v=u,w=nK(m),M=function e(){for(var t=arguments.length,n=eb(t),i=t,s=il(e);i--;)n[i]=arguments[i];var o=t<3&&n[0]!==s&&n[t-1]!==s?[]:tj(n,s);return(t-=o.length)<v?n6(m,b,nY,e.placeholder,r,n,o,r,r,v-t):ts(this&&this!==e3&&this instanceof e?w:m,this,n)}):32!=t&&33!=t||a.length?M=nY.apply(r,y):(E=e,A=t,_=i,P=o,T=1&A,I=nK(E),M=function e(){for(var t=-1,r=arguments.length,n=-1,i=P.length,s=eb(i+r),o=this&&this!==e3&&this instanceof e?I:E;++n<i;)s[n]=P[n];for(;r--;)s[n++]=arguments[++t];return ts(o,T?_:this,s)});else var m,b,v,w,E,A,_,P,T,I,C,S,O,x,R,M=(C=e,S=t,O=i,x=1&S,R=nK(C),function e(){return(this&&this!==e3&&this instanceof e?R:C).apply(x?O:this,arguments)});return iN((g?nf:iR)(M,y),e,t)}function n7(e,t,n,i){return e===r||sR(e,eO[n])&&!eM.call(i,n)?t:e}function ie(e,t,n,i,s,o){return sV(e)&&sV(t)&&(o.set(t,e),nn(e,t,r,ie,o),o.delete(t)),e}function it(e){return sJ(e)?r:e}function ir(e,t,n,i,s,o){var a=1&n,c=e.length,l=t.length;if(c!=l&&!(a&&l>c))return!1;var u=o.get(e),h=o.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=2&n?new rA:r;for(o.set(e,t),o.set(t,e);++d<c;){var g=e[d],y=t[d];if(i)var m=a?i(y,g,d,t,e,o):i(g,y,d,e,t,o);if(m!==r){if(m)continue;f=!1;break}if(p){if(!ty(t,function(e,t){if(!tM(p,t)&&(g===e||s(g,e,n,i,o)))return p.push(t)})){f=!1;break}}else if(!(g===y||s(g,y,n,i,o))){f=!1;break}}return o.delete(e),o.delete(t),f}function ii(e){return iB(iS(e,r,iH),e+"")}function is(e){return rZ(e,od,ig)}function io(e){return rZ(e,of,iy)}var ia=ri?function(e){return ri.get(e)}:o$;function ic(e){for(var t=e.name+"",r=rs[t],n=eM.call(rs,t)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==e)return i.name}return t}function il(e){return(eM.call(rp,"placeholder")?rp:e).placeholder}function iu(){var e=rp.iteratee||oF;return e=e===oF?r8:e,arguments.length?e(arguments[0],arguments[1]):e}function ih(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function id(e){for(var t=od(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,i==i&&!sV(i)]}return t}function ip(e,t){var n=null==e?r:e[t];return r5(n)?n:r}var ig=tY?function(e){return null==e?[]:tl(tY(e=e_(e)),function(t){return e1.call(e,t)})}:oZ,iy=tY?function(e){for(var t=[];e;)tf(t,ig(e)),e=eH(e);return t}:oZ,im=rY;function ib(e,t,r){t=nR(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=iU(t[n]);if(!(s=null!=e&&r(e,o)))break;e=e[o]}return s||++n!=i?s:!!(i=null==e?0:e.length)&&sq(i)&&iE(o,i)&&(sD(e)||sN(e))}function iv(e){return"function"!=typeof e.constructor||iI(e)?{}:rg(eH(e))}function iw(e){return sD(e)||sN(e)||!!(e6&&e&&e[e6])}function iE(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&eh.test(e))&&e>-1&&e%1==0&&e<t}function iA(e,t,r){if(!sV(r))return!1;var n=typeof t;return("number"==n?!!(sW(r)&&iE(t,r.length)):"string"==n&&t in r)&&sR(r[t],e)}function i_(e,t){if(sD(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||sX(e))||G.test(e)||!H.test(e)||null!=t&&e in e_(t)}function iP(e){var t=ic(e),r=rp[t];if("function"!=typeof r||!(t in rb.prototype))return!1;if(e===r)return!0;var n=ia(r);return!!n&&e===n[0]}(t9&&im(new t9(new ArrayBuffer(1)))!=I||t7&&im(new t7)!=y||re&&im(re.resolve())!=v||rt&&im(new rt)!=E||rr&&im(new rr)!=P)&&(im=function(e){var t=rY(e),n=t==b?e.constructor:r,i=n?iF(n):"";if(i)switch(i){case ro:return I;case ra:return y;case rc:return v;case rl:return E;case ru:return P}return t});var iT=ex?sz:oY;function iI(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eO)}function iC(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in e_(n))}}function iS(e,t,n){return t=t2(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=t2(r.length-t,0),o=eb(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=eb(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),ts(e,this,a)}}function iO(e,t){return t.length<2?e:rJ(e,ng(t,0,-1))}function ix(e,t){if(!("constructor"===t&&"function"==typeof e[t])&&"__proto__"!=t)return e[t]}var iR=iD(nf),iM=tK||function(e,t){return e3.setTimeout(e,t)},iB=iD(np);function iN(e,t,r){var n,i,s=t+"";return iB(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(X,`{
/* [wrapped with `+t+`] */
`)}(s,(n=(i=s.match(ee))?i[1].split(et):[],ta(c,function(e){var t="_."+e[0];r&e[1]&&!tu(n,t)&&n.push(t)}),n.sort())))}function iD(e){var t=0,n=0;return function(){var i=t6(),s=16-(i-n);if(n=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function ik(e,t){var n=-1,i=e.length,s=i-1;for(t=t===r?i:t;++n<t;){var o=nl(n,s),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var iW=(ey=(eg=sT(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(K,function(e,r,n,i){t.push(n?i.replace(ei,"$1"):r||e)}),t},function(e){return 500===ey.size&&ey.clear(),e})).cache,eg);function iU(e){if("string"==typeof e||sX(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function iF(e){if(null!=e){try{return eR.call(e)}catch{}try{return e+""}catch{}}return""}function iL(e){if(e instanceof rb)return e.clone();var t=new rm(e.__wrapped__,e.__chain__);return t.__actions__=nL(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ij=nh(function(e,t){return sU(e)?rW(e,r$(t,1,sU,!0)):[]}),iz=nh(function(e,t){var n=iY(t);return sU(n)&&(n=r),sU(e)?rW(e,r$(t,1,sU,!0),iu(n,2)):[]}),i$=nh(function(e,t){var n=iY(t);return sU(n)&&(n=r),sU(e)?rW(e,r$(t,1,sU,!0),r,n):[]});function iq(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:s4(r);return i<0&&(i=t2(n+i,0)),tv(e,iu(t,3),i)}function iV(e,t,n){var i=null==e?0:e.length;if(!i)return -1;var s=i-1;return n!==r&&(s=s4(n),s=n<0?t2(i+s,0):t3(s,i-1)),tv(e,iu(t,3),s,!0)}function iH(e){return(null==e?0:e.length)?r$(e,1):[]}function iG(e){return e&&e.length?e[0]:r}var iK=nh(function(e){var t=td(e,nO);return t.length&&t[0]===e[0]?r1(t):[]}),iJ=nh(function(e){var t=iY(e),n=td(e,nO);return t===iY(n)?t=r:n.pop(),n.length&&n[0]===e[0]?r1(n,iu(t,2)):[]}),iZ=nh(function(e){var t=iY(e),n=td(e,nO);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?r1(n,r,t):[]});function iY(e){var t=null==e?0:e.length;return t?e[t-1]:r}var iQ=nh(iX);function iX(e,t){return e&&e.length&&t&&t.length?na(e,t):e}var i0=ii(function(e,t){var r=null==e?0:e.length,n=rM(e,t);return nc(e,td(t,function(e){return iE(e,r)?+e:e}).sort(nW)),n});function i1(e){return null==e?e:t8.call(e)}var i2=nh(function(e){return nA(r$(e,1,sU,!0))}),i3=nh(function(e){var t=iY(e);return sU(t)&&(t=r),nA(r$(e,1,sU,!0),iu(t,2))}),i6=nh(function(e){var t=iY(e);return t="function"==typeof t?t:r,nA(r$(e,1,sU,!0),r,t)});function i4(e){if(!(e&&e.length))return[];var t=0;return e=tl(e,function(e){if(sU(e))return t=t2(e.length,t),!0}),tS(t,function(t){return td(e,tP(t))})}function i5(e,t){if(!(e&&e.length))return[];var n=i4(e);return null==t?n:td(n,function(e){return ts(t,r,e)})}var i8=nh(function(e,t){return sU(e)?rW(e,t):[]}),i9=nh(function(e){return nC(tl(e,sU))}),i7=nh(function(e){var t=iY(e);return sU(t)&&(t=r),nC(tl(e,sU),iu(t,2))}),se=nh(function(e){var t=iY(e);return t="function"==typeof t?t:r,nC(tl(e,sU),r,t)}),st=nh(i4),sr=nh(function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,i5(e,n)});function sn(e){var t=rp(e);return t.__chain__=!0,t}function si(e,t){return t(e)}var ss=ii(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,s=function(t){return rM(t,e)};return!(t>1)&&!this.__actions__.length&&i instanceof rb&&iE(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:si,args:[s],thisArg:r}),new rm(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(s)}),so=nz(function(e,t,r){eM.call(e,r)?++e[r]:rR(e,r,1)}),sa=nJ(iq),sc=nJ(iV);function sl(e,t){return(sD(e)?ta:rU)(e,iu(t,3))}function su(e,t){return(sD(e)?function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}:rF)(e,iu(t,3))}var sh=nz(function(e,t,r){eM.call(e,r)?e[r].push(t):rR(e,r,[t])}),sd=nh(function(e,t,r){var n=-1,i="function"==typeof t,s=sW(e)?eb(e.length):[];return rU(e,function(e){s[++n]=i?ts(t,e,r):r2(e,t,r)}),s}),sf=nz(function(e,t,r){rR(e,r,t)});function sp(e,t){return(sD(e)?td:ne)(e,iu(t,3))}var sg=nz(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),sy=nh(function(e,t){if(null==e)return[];var r=t.length;return r>1&&iA(e,t[0],t[1])?t=[]:r>2&&iA(t[0],t[1],t[2])&&(t=[t[0]]),ns(e,r$(t,1),[])}),sm=tT||function(){return e3.Date.now()};function sb(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,n9(e,128,r,r,r,r,t)}function sv(e,t){var i;if("function"!=typeof t)throw new eI(n);return e=s4(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var sw=nh(function(e,t,r){var n=1;if(r.length){var i=tj(r,il(sw));n|=32}return n9(e,n,t,r,i)}),sE=nh(function(e,t,r){var n=3;if(r.length){var i=tj(r,il(sE));n|=32}return n9(t,n,e,r,i)});function sA(e,t,i){var s,o,a,c,l,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new eI(n);function g(t){var n=s,i=o;return s=o=r,h=t,c=e.apply(i,n)}function y(e){var n=e-u,i=e-h;return u===r||n>=t||n<0||f&&i>=a}function m(){var e,r,n,i=sm();if(y(i))return b(i);l=iM(m,(e=i-u,r=i-h,n=t-e,f?t3(n,a-r):n))}function b(e){return l=r,p&&s?g(e):(s=o=r,c)}function v(){var e,n=sm(),i=y(n);if(s=arguments,o=this,u=n,i){if(l===r)return h=e=u,l=iM(m,t),d?g(e):c;if(f)return nB(l),l=iM(m,t),g(u)}return l===r&&(l=iM(m,t)),c}return t=s8(t)||0,sV(i)&&(d=!!i.leading,a=(f="maxWait"in i)?t2(s8(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),v.cancel=function(){l!==r&&nB(l),h=0,s=u=o=l=r},v.flush=function(){return l===r?c:b(sm())},v}var s_=nh(function(e,t){return rk(e,1,t)}),sP=nh(function(e,t,r){return rk(e,s8(t)||0,r)});function sT(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eI(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(sT.Cache||rE),r}function sI(e){if("function"!=typeof e)throw new eI(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sT.Cache=rE;var sC=nh(function(e,t){var r=(t=1==t.length&&sD(t[0])?td(t[0],tx(iu())):td(r$(t,1),tx(iu()))).length;return nh(function(n){for(var i=-1,s=t3(n.length,r);++i<s;)n[i]=t[i].call(this,n[i]);return ts(e,this,n)})}),sS=nh(function(e,t){var n=tj(t,il(sS));return n9(e,32,r,t,n)}),sO=nh(function(e,t){var n=tj(t,il(sO));return n9(e,64,r,t,n)}),sx=ii(function(e,t){return n9(e,256,r,r,r,t)});function sR(e,t){return e===t||e!=e&&t!=t}var sM=n3(rQ),sB=n3(function(e,t){return e>=t}),sN=r3(function(){return arguments}())?r3:function(e){return sH(e)&&eM.call(e,"callee")&&!e1.call(e,"callee")},sD=eb.isArray,sk=e7?tx(e7):function(e){return sH(e)&&rY(e)==T};function sW(e){return null!=e&&sq(e.length)&&!sz(e)}function sU(e){return sH(e)&&sW(e)}var sF=tQ||oY,sL=te?tx(te):function(e){return sH(e)&&rY(e)==d};function sj(e){if(!sH(e))return!1;var t=rY(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sJ(e)}function sz(e){if(!sV(e))return!1;var t=rY(e);return t==p||t==g||"[object AsyncFunction]"==t||"[object Proxy]"==t}function s$(e){return"number"==typeof e&&e==s4(e)}function sq(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function sV(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function sH(e){return null!=e&&"object"==typeof e}var sG=tt?tx(tt):function(e){return sH(e)&&im(e)==y};function sK(e){return"number"==typeof e||sH(e)&&rY(e)==m}function sJ(e){if(!sH(e)||rY(e)!=b)return!1;var t=eH(e);if(null===t)return!0;var r=eM.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&eR.call(r)==ek}var sZ=tr?tx(tr):function(e){return sH(e)&&rY(e)==w},sY=tn?tx(tn):function(e){return sH(e)&&im(e)==E};function sQ(e){return"string"==typeof e||!sD(e)&&sH(e)&&rY(e)==A}function sX(e){return"symbol"==typeof e||sH(e)&&rY(e)==_}var s0=ti?tx(ti):function(e){return sH(e)&&sq(e.length)&&!!eZ[rY(e)]},s1=n3(r7),s2=n3(function(e,t){return e<=t});function s3(e){if(!e)return[];if(sW(e))return sQ(e)?tq(e):nL(e);if(e4&&e[e4])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[e4]());var t=im(e);return(t==y?tF:t==E?tz:oE)(e)}function s6(e){return e?(e=s8(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function s4(e){var t=s6(e),r=t%1;return t==t?r?t-r:t:0}function s5(e){return e?rB(s4(e),0,4294967295):0}function s8(e){if("number"==typeof e)return e;if(sX(e))return a;if(sV(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sV(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tO(e);var r=ec.test(e);return r||eu.test(e)?e0(e.slice(2),r?2:8):ea.test(e)?a:+e}function s9(e){return nj(e,of(e))}function s7(e){return null==e?"":nE(e)}var oe=n$(function(e,t){if(iI(t)||sW(t)){nj(t,od(t),e);return}for(var r in t)eM.call(t,r)&&rC(e,r,t[r])}),ot=n$(function(e,t){nj(t,of(t),e)}),or=n$(function(e,t,r,n){nj(t,of(t),e,n)}),on=n$(function(e,t,r,n){nj(t,od(t),e,n)}),oi=ii(rM),os=nh(function(e,t){e=e_(e);var n=-1,i=t.length,s=i>2?t[2]:r;for(s&&iA(t[0],t[1],s)&&(i=1);++n<i;)for(var o=t[n],a=of(o),c=-1,l=a.length;++c<l;){var u=a[c],h=e[u];(h===r||sR(h,eO[u])&&!eM.call(e,u))&&(e[u]=o[u])}return e}),oo=nh(function(e){return e.push(r,ie),ts(og,r,e)});function oa(e,t,n){var i=null==e?r:rJ(e,t);return i===r?n:i}function oc(e,t){return null!=e&&ib(e,t,r0)}var ol=nQ(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eD.call(t)),e[t]=r},oD(oU)),ou=nQ(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eD.call(t)),eM.call(e,t)?e[t].push(r):e[t]=[r]},iu),oh=nh(r2);function od(e){return sW(e)?rP(e):r9(e)}function of(e){return sW(e)?rP(e,!0):function(e){if(!sV(e))return function(e){var t=[];if(null!=e)for(var r in e_(e))t.push(r);return t}(e);var t=iI(e),r=[];for(var n in e)"constructor"==n&&(t||!eM.call(e,n))||r.push(n);return r}(e)}var op=n$(function(e,t,r){nn(e,t,r)}),og=n$(function(e,t,r,n){nn(e,t,r,n)}),oy=ii(function(e,t){var r={};if(null==e)return r;var n=!1;t=td(t,function(t){return t=nR(t,e),n||(n=t.length>1),t}),nj(e,io(e),r),n&&(r=rN(r,7,it));for(var i=t.length;i--;)n_(r,t[i]);return r}),om=ii(function(e,t){return null==e?{}:no(e,t,function(t,r){return oc(e,r)})});function ob(e,t){if(null==e)return{};var r=td(io(e),function(e){return[e]});return t=iu(t),no(e,r,function(e,r){return t(e,r[0])})}var ov=n8(od),ow=n8(of);function oE(e){return null==e?[]:tR(e,od(e))}var oA=nG(function(e,t,r){return t=t.toLowerCase(),e+(r?o_(t):t)});function o_(e){return oR(s7(e).toLowerCase())}function oP(e){return(e=s7(e))&&e.replace(ed,tD).replace(e$,"")}var oT=nG(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),oI=nG(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),oC=nH("toLowerCase"),oS=nG(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),oO=nG(function(e,t,r){return e+(r?" ":"")+oR(t)}),ox=nG(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),oR=nH("toUpperCase");function oM(e,t,n){var i;return e=s7(e),(t=n?r:t)===r?(i=e,eG.test(i))?e.match(eV)||[]:e.match(er)||[]:e.match(t)||[]}var oB=nh(function(e,t){try{return ts(e,r,t)}catch(e){return sj(e)?e:new ew(e)}}),oN=ii(function(e,t){return ta(t,function(t){rR(e,t=iU(t),sw(e[t],e))}),e});function oD(e){return function(){return e}}var ok=nZ(),oW=nZ(!0);function oU(e){return e}function oF(e){return r8("function"==typeof e?e:rN(e,1))}var oL=nh(function(e,t){return function(r){return r2(r,e,t)}}),oj=nh(function(e,t){return function(r){return r2(e,r,t)}});function oz(e,t,r){var n=od(t),i=rK(t,n);null!=r||sV(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=rK(t,od(t)));var s=!(sV(r)&&"chain"in r)||!!r.chain,o=sz(e);return ta(i,function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=nL(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,tf([this.value()],arguments))})}),e}function o$(){}var oq=n0(td),oV=n0(tc),oH=n0(ty);function oG(e){return i_(e)?tP(iU(e)):function(t){return rJ(t,e)}}var oK=n2(),oJ=n2(!0);function oZ(){return[]}function oY(){return!1}var oQ=nX(function(e,t){return e+t},0),oX=n4("ceil"),o0=nX(function(e,t){return e/t},1),o1=n4("floor"),o2=nX(function(e,t){return e*t},1),o3=n4("round"),o6=nX(function(e,t){return e-t},0);return rp.after=function(e,t){if("function"!=typeof t)throw new eI(n);return e=s4(e),function(){if(--e<1)return t.apply(this,arguments)}},rp.ary=sb,rp.assign=oe,rp.assignIn=ot,rp.assignInWith=or,rp.assignWith=on,rp.at=oi,rp.before=sv,rp.bind=sw,rp.bindAll=oN,rp.bindKey=sE,rp.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return sD(e)?e:[e]},rp.chain=sn,rp.chunk=function(e,t,n){t=(n?iA(e,t,n):t===r)?1:t2(s4(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=eb(tJ(i/t));s<i;)a[o++]=ng(e,s,s+=t);return a},rp.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i},rp.concat=function(){var e=arguments.length;if(!e)return[];for(var t=eb(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return tf(sD(r)?nL(r):[r],r$(t,1))},rp.cond=function(e){var t=null==e?0:e.length,r=iu();return e=t?td(e,function(e){if("function"!=typeof e[1])throw new eI(n);return[r(e[0]),e[1]]}):[],nh(function(r){for(var n=-1;++n<t;){var i=e[n];if(ts(i[0],this,r))return ts(i[1],this,r)}})},rp.conforms=function(e){var t,r;return r=od(t=rN(e,1)),function(e){return rD(e,t,r)}},rp.constant=oD,rp.countBy=so,rp.create=function(e,t){var r=rg(e);return null==t?r:rx(r,t)},rp.curry=function e(t,n,i){n=i?r:n;var s=n9(t,8,r,r,r,r,r,n);return s.placeholder=e.placeholder,s},rp.curryRight=function e(t,n,i){n=i?r:n;var s=n9(t,16,r,r,r,r,r,n);return s.placeholder=e.placeholder,s},rp.debounce=sA,rp.defaults=os,rp.defaultsDeep=oo,rp.defer=s_,rp.delay=sP,rp.difference=ij,rp.differenceBy=iz,rp.differenceWith=i$,rp.drop=function(e,t,n){var i=null==e?0:e.length;return i?ng(e,(t=n||t===r?1:s4(t))<0?0:t,i):[]},rp.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ng(e,0,(t=i-(t=n||t===r?1:s4(t)))<0?0:t):[]},rp.dropRightWhile=function(e,t){return e&&e.length?nT(e,iu(t,3),!0,!0):[]},rp.dropWhile=function(e,t){return e&&e.length?nT(e,iu(t,3),!0):[]},rp.fill=function(e,t,n,i){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&iA(e,t,n)&&(n=0,i=s),function(e,t,n,i){var s=e.length;for((n=s4(n))<0&&(n=-n>s?0:s+n),(i=i===r||i>s?s:s4(i))<0&&(i+=s),i=n>i?0:s5(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},rp.filter=function(e,t){return(sD(e)?tl:rz)(e,iu(t,3))},rp.flatMap=function(e,t){return r$(sp(e,t),1)},rp.flatMapDeep=function(e,t){return r$(sp(e,t),o)},rp.flatMapDepth=function(e,t,n){return n=n===r?1:s4(n),r$(sp(e,t),n)},rp.flatten=iH,rp.flattenDeep=function(e){return(null==e?0:e.length)?r$(e,o):[]},rp.flattenDepth=function(e,t){return(null==e?0:e.length)?r$(e,t=t===r?1:s4(t)):[]},rp.flip=function(e){return n9(e,512)},rp.flow=ok,rp.flowRight=oW,rp.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},rp.functions=function(e){return null==e?[]:rK(e,od(e))},rp.functionsIn=function(e){return null==e?[]:rK(e,of(e))},rp.groupBy=sh,rp.initial=function(e){return(null==e?0:e.length)?ng(e,0,-1):[]},rp.intersection=iK,rp.intersectionBy=iJ,rp.intersectionWith=iZ,rp.invert=ol,rp.invertBy=ou,rp.invokeMap=sd,rp.iteratee=oF,rp.keyBy=sf,rp.keys=od,rp.keysIn=of,rp.map=sp,rp.mapKeys=function(e,t){var r={};return t=iu(t,3),rH(e,function(e,n,i){rR(r,t(e,n,i),e)}),r},rp.mapValues=function(e,t){var r={};return t=iu(t,3),rH(e,function(e,n,i){rR(r,n,t(e,n,i))}),r},rp.matches=function(e){return nt(rN(e,1))},rp.matchesProperty=function(e,t){return nr(e,rN(t,1))},rp.memoize=sT,rp.merge=op,rp.mergeWith=og,rp.method=oL,rp.methodOf=oj,rp.mixin=oz,rp.negate=sI,rp.nthArg=function(e){return e=s4(e),nh(function(t){return ni(t,e)})},rp.omit=oy,rp.omitBy=function(e,t){return ob(e,sI(iu(t)))},rp.once=function(e){return sv(2,e)},rp.orderBy=function(e,t,n,i){return null==e?[]:(sD(t)||(t=null==t?[]:[t]),sD(n=i?r:n)||(n=null==n?[]:[n]),ns(e,t,n))},rp.over=oq,rp.overArgs=sC,rp.overEvery=oV,rp.overSome=oH,rp.partial=sS,rp.partialRight=sO,rp.partition=sg,rp.pick=om,rp.pickBy=ob,rp.property=oG,rp.propertyOf=function(e){return function(t){return null==e?r:rJ(e,t)}},rp.pull=iQ,rp.pullAll=iX,rp.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?na(e,t,iu(r,2)):e},rp.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?na(e,t,r,n):e},rp.pullAt=i0,rp.range=oK,rp.rangeRight=oJ,rp.rearg=sx,rp.reject=function(e,t){return(sD(e)?tl:rz)(e,sI(iu(t,3)))},rp.remove=function(e,t){var r=[];if(!(e&&e.length))return r;var n=-1,i=[],s=e.length;for(t=iu(t,3);++n<s;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return nc(e,i),r},rp.rest=function(e,t){if("function"!=typeof e)throw new eI(n);return nh(e,t=t===r?t:s4(t))},rp.reverse=i1,rp.sampleSize=function(e,t,n){return t=(n?iA(e,t,n):t===r)?1:s4(t),(sD(e)?function(e,t){return ik(nL(e),rB(t,0,e.length))}:function(e,t){var r=oE(e);return ik(r,rB(t,0,r.length))})(e,t)},rp.set=function(e,t,r){return null==e?e:nd(e,t,r)},rp.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:nd(e,t,n,i)},rp.shuffle=function(e){return(sD(e)?function(e){return ik(nL(e))}:function(e){return ik(oE(e))})(e)},rp.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&iA(e,t,n)?(t=0,n=i):(t=null==t?0:s4(t),n=n===r?i:s4(n)),ng(e,t,n)):[]},rp.sortBy=sy,rp.sortedUniq=function(e){return e&&e.length?nv(e):[]},rp.sortedUniqBy=function(e,t){return e&&e.length?nv(e,iu(t,2)):[]},rp.split=function(e,t,n){return n&&"number"!=typeof n&&iA(e,t,n)&&(t=n=r),(n=n===r?4294967295:n>>>0)?(e=s7(e))&&("string"==typeof t||null!=t&&!sZ(t))&&!(t=nE(t))&&tU(e)?nM(tq(e),0,n):e.split(t,n):[]},rp.spread=function(e,t){if("function"!=typeof e)throw new eI(n);return t=null==t?0:t2(s4(t),0),nh(function(r){var n=r[t],i=nM(r,0,t);return n&&tf(i,n),ts(e,this,i)})},rp.tail=function(e){var t=null==e?0:e.length;return t?ng(e,1,t):[]},rp.take=function(e,t,n){return e&&e.length?ng(e,0,(t=n||t===r?1:s4(t))<0?0:t):[]},rp.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ng(e,(t=i-(t=n||t===r?1:s4(t)))<0?0:t,i):[]},rp.takeRightWhile=function(e,t){return e&&e.length?nT(e,iu(t,3),!1,!0):[]},rp.takeWhile=function(e,t){return e&&e.length?nT(e,iu(t,3)):[]},rp.tap=function(e,t){return t(e),e},rp.throttle=function(e,t,r){var i=!0,s=!0;if("function"!=typeof e)throw new eI(n);return sV(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),sA(e,t,{leading:i,maxWait:t,trailing:s})},rp.thru=si,rp.toArray=s3,rp.toPairs=ov,rp.toPairsIn=ow,rp.toPath=function(e){return sD(e)?td(e,iU):sX(e)?[e]:nL(iW(s7(e)))},rp.toPlainObject=s9,rp.transform=function(e,t,r){var n=sD(e),i=n||sF(e)||s0(e);if(t=iu(t,4),null==r){var s=e&&e.constructor;r=i?n?new s:[]:sV(e)&&sz(s)?rg(eH(e)):{}}return(i?ta:rH)(e,function(e,n,i){return t(r,e,n,i)}),r},rp.unary=function(e){return sb(e,1)},rp.union=i2,rp.unionBy=i3,rp.unionWith=i6,rp.uniq=function(e){return e&&e.length?nA(e):[]},rp.uniqBy=function(e,t){return e&&e.length?nA(e,iu(t,2)):[]},rp.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?nA(e,r,t):[]},rp.unset=function(e,t){return null==e||n_(e,t)},rp.unzip=i4,rp.unzipWith=i5,rp.update=function(e,t,r){return null==e?e:nP(e,t,nx(r))},rp.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:nP(e,t,nx(n),i)},rp.values=oE,rp.valuesIn=function(e){return null==e?[]:tR(e,of(e))},rp.without=i8,rp.words=oM,rp.wrap=function(e,t){return sS(nx(t),e)},rp.xor=i9,rp.xorBy=i7,rp.xorWith=se,rp.zip=st,rp.zipObject=function(e,t){return nS(e||[],t||[],rC)},rp.zipObjectDeep=function(e,t){return nS(e||[],t||[],nd)},rp.zipWith=sr,rp.entries=ov,rp.entriesIn=ow,rp.extend=ot,rp.extendWith=or,oz(rp,rp),rp.add=oQ,rp.attempt=oB,rp.camelCase=oA,rp.capitalize=o_,rp.ceil=oX,rp.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=s8(n))==n?n:0),t!==r&&(t=(t=s8(t))==t?t:0),rB(s8(e),t,n)},rp.clone=function(e){return rN(e,4)},rp.cloneDeep=function(e){return rN(e,5)},rp.cloneDeepWith=function(e,t){return rN(e,5,t="function"==typeof t?t:r)},rp.cloneWith=function(e,t){return rN(e,4,t="function"==typeof t?t:r)},rp.conformsTo=function(e,t){return null==t||rD(e,t,od(t))},rp.deburr=oP,rp.defaultTo=function(e,t){return null==e||e!=e?t:e},rp.divide=o0,rp.endsWith=function(e,t,n){e=s7(e),t=nE(t);var i=e.length,s=n=n===r?i:rB(s4(n),0,i);return(n-=t.length)>=0&&e.slice(n,s)==t},rp.eq=sR,rp.escape=function(e){return(e=s7(e))&&z.test(e)?e.replace(L,tk):e},rp.escapeRegExp=function(e){return(e=s7(e))&&Z.test(e)?e.replace(J,"\\$&"):e},rp.every=function(e,t,n){var i=sD(e)?tc:rL;return n&&iA(e,t,n)&&(t=r),i(e,iu(t,3))},rp.find=sa,rp.findIndex=iq,rp.findKey=function(e,t){return tb(e,iu(t,3),rH)},rp.findLast=sc,rp.findLastIndex=iV,rp.findLastKey=function(e,t){return tb(e,iu(t,3),rG)},rp.floor=o1,rp.forEach=sl,rp.forEachRight=su,rp.forIn=function(e,t){return null==e?e:rq(e,iu(t,3),of)},rp.forInRight=function(e,t){return null==e?e:rV(e,iu(t,3),of)},rp.forOwn=function(e,t){return e&&rH(e,iu(t,3))},rp.forOwnRight=function(e,t){return e&&rG(e,iu(t,3))},rp.get=oa,rp.gt=sM,rp.gte=sB,rp.has=function(e,t){return null!=e&&ib(e,t,rX)},rp.hasIn=oc,rp.head=iG,rp.identity=oU,rp.includes=function(e,t,r,n){e=sW(e)?e:oE(e),r=r&&!n?s4(r):0;var i=e.length;return r<0&&(r=t2(i+r,0)),sQ(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&tw(e,t,r)>-1},rp.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:s4(r);return i<0&&(i=t2(n+i,0)),tw(e,t,i)},rp.inRange=function(e,t,n){var i,s,o;return t=s6(t),n===r?(n=t,t=0):n=s6(n),(i=e=s8(e))>=t3(s=t,o=n)&&i<t2(s,o)},rp.invoke=oh,rp.isArguments=sN,rp.isArray=sD,rp.isArrayBuffer=sk,rp.isArrayLike=sW,rp.isArrayLikeObject=sU,rp.isBoolean=function(e){return!0===e||!1===e||sH(e)&&rY(e)==h},rp.isBuffer=sF,rp.isDate=sL,rp.isElement=function(e){return sH(e)&&1===e.nodeType&&!sJ(e)},rp.isEmpty=function(e){if(null==e)return!0;if(sW(e)&&(sD(e)||"string"==typeof e||"function"==typeof e.splice||sF(e)||s0(e)||sN(e)))return!e.length;var t=im(e);if(t==y||t==E)return!e.size;if(iI(e))return!r9(e).length;for(var r in e)if(eM.call(e,r))return!1;return!0},rp.isEqual=function(e,t){return r6(e,t)},rp.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?r6(e,t,r,n):!!i},rp.isError=sj,rp.isFinite=function(e){return"number"==typeof e&&tX(e)},rp.isFunction=sz,rp.isInteger=s$,rp.isLength=sq,rp.isMap=sG,rp.isMatch=function(e,t){return e===t||r4(e,t,id(t))},rp.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,r4(e,t,id(t),n)},rp.isNaN=function(e){return sK(e)&&e!=+e},rp.isNative=function(e){if(iT(e))throw new ew("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return r5(e)},rp.isNil=function(e){return null==e},rp.isNull=function(e){return null===e},rp.isNumber=sK,rp.isObject=sV,rp.isObjectLike=sH,rp.isPlainObject=sJ,rp.isRegExp=sZ,rp.isSafeInteger=function(e){return s$(e)&&e>=-9007199254740991&&e<=9007199254740991},rp.isSet=sY,rp.isString=sQ,rp.isSymbol=sX,rp.isTypedArray=s0,rp.isUndefined=function(e){return e===r},rp.isWeakMap=function(e){return sH(e)&&im(e)==P},rp.isWeakSet=function(e){return sH(e)&&"[object WeakSet]"==rY(e)},rp.join=function(e,t){return null==e?"":t0.call(e,t)},rp.kebabCase=oT,rp.last=iY,rp.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return -1;var s=i;return n!==r&&(s=(s=s4(n))<0?t2(i+s,0):t3(s,i-1)),t==t?function(e,t,r){for(var n=r+1;n--&&e[n]!==t;);return n}(e,t,s):tv(e,tA,s,!0)},rp.lowerCase=oI,rp.lowerFirst=oC,rp.lt=s1,rp.lte=s2,rp.max=function(e){return e&&e.length?rj(e,oU,rQ):r},rp.maxBy=function(e,t){return e&&e.length?rj(e,iu(t,2),rQ):r},rp.mean=function(e){return t_(e,oU)},rp.meanBy=function(e,t){return t_(e,iu(t,2))},rp.min=function(e){return e&&e.length?rj(e,oU,r7):r},rp.minBy=function(e,t){return e&&e.length?rj(e,iu(t,2),r7):r},rp.stubArray=oZ,rp.stubFalse=oY,rp.stubObject=function(){return{}},rp.stubString=function(){return""},rp.stubTrue=function(){return!0},rp.multiply=o2,rp.nth=function(e,t){return e&&e.length?ni(e,s4(t)):r},rp.noConflict=function(){return e3._===this&&(e3._=eW),this},rp.noop=o$,rp.now=sm,rp.pad=function(e,t,r){e=s7(e);var n=(t=s4(t))?t$(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return n1(tZ(i),r)+e+n1(tJ(i),r)},rp.padEnd=function(e,t,r){e=s7(e);var n=(t=s4(t))?t$(e):0;return t&&n<t?e+n1(t-n,r):e},rp.padStart=function(e,t,r){e=s7(e);var n=(t=s4(t))?t$(e):0;return t&&n<t?n1(t-n,r)+e:e},rp.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),t4(s7(e).replace(Y,""),t||0)},rp.random=function(e,t,n){if(n&&"boolean"!=typeof n&&iA(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=s6(e),t===r?(t=e,e=0):t=s6(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var s=t5();return t3(e+s*(t-e+eX("1e-"+((s+"").length-1))),t)}return nl(e,t)},rp.reduce=function(e,t,r){var n=sD(e)?tp:tI,i=arguments.length<3;return n(e,iu(t,4),r,i,rU)},rp.reduceRight=function(e,t,r){var n=sD(e)?tg:tI,i=arguments.length<3;return n(e,iu(t,4),r,i,rF)},rp.repeat=function(e,t,n){return t=(n?iA(e,t,n):t===r)?1:s4(t),nu(s7(e),t)},rp.replace=function(){var e=arguments,t=s7(e[0]);return e.length<3?t:t.replace(e[1],e[2])},rp.result=function(e,t,n){t=nR(t,e);var i=-1,s=t.length;for(s||(s=1,e=r);++i<s;){var o=null==e?r:e[iU(t[i])];o===r&&(i=s,o=n),e=sz(o)?o.call(e):o}return e},rp.round=o3,rp.runInContext=e,rp.sample=function(e){return(sD(e)?rT:function(e){return rT(oE(e))})(e)},rp.size=function(e){if(null==e)return 0;if(sW(e))return sQ(e)?t$(e):e.length;var t=im(e);return t==y||t==E?e.size:r9(e).length},rp.snakeCase=oS,rp.some=function(e,t,n){var i=sD(e)?ty:ny;return n&&iA(e,t,n)&&(t=r),i(e,iu(t,3))},rp.sortedIndex=function(e,t){return nm(e,t)},rp.sortedIndexBy=function(e,t,r){return nb(e,t,iu(r,2))},rp.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=nm(e,t);if(n<r&&sR(e[n],t))return n}return -1},rp.sortedLastIndex=function(e,t){return nm(e,t,!0)},rp.sortedLastIndexBy=function(e,t,r){return nb(e,t,iu(r,2),!0)},rp.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=nm(e,t,!0)-1;if(sR(e[r],t))return r}return -1},rp.startCase=oO,rp.startsWith=function(e,t,r){return e=s7(e),r=null==r?0:rB(s4(r),0,e.length),t=nE(t),e.slice(r,r+t.length)==t},rp.subtract=o6,rp.sum=function(e){return e&&e.length?tC(e,oU):0},rp.sumBy=function(e,t){return e&&e.length?tC(e,iu(t,2)):0},rp.template=function(e,t,n){var i=rp.templateSettings;n&&iA(e,t,n)&&(t=r),e=s7(e),t=or({},t,i,n7);var s,o,a=or({},t.imports,i.imports,n7),c=od(a),l=tR(a,c),u=0,h=t.interpolate||ef,d="__p += '",f=eP((t.escape||ef).source+"|"+h.source+"|"+(h===V?es:ef).source+"|"+(t.evaluate||ef).source+"|$","g"),p="//# sourceURL="+(eM.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eJ+"]")+`
`;e.replace(f,function(t,r,n,i,a,c){return n||(n=i),d+=e.slice(u,c).replace(ep,tW),r&&(s=!0,d+=`' +
__e(`+r+`) +
'`),a&&(o=!0,d+=`';
`+a+`;
__p += '`),n&&(d+=`' +
((__t = (`+n+`)) == null ? '' : __t) +
'`),u=c+t.length,t}),d+=`';
`;var g=eM.call(t,"variable")&&t.variable;if(g){if(en.test(g))throw new ew("Invalid `variable` option passed into `_.template`")}else d=`with (obj) {
`+d+`
}
`;d=(o?d.replace(k,""):d).replace(W,"$1").replace(U,"$1;"),d="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var y=oB(function(){return eE(c,p+"return "+d).apply(r,l)});if(y.source=d,sj(y))throw y;return y},rp.times=function(e,t){if((e=s4(e))<1||e>9007199254740991)return[];var r=4294967295,n=t3(e,4294967295);t=iu(t),e-=4294967295;for(var i=tS(n,t);++r<e;)t(r);return i},rp.toFinite=s6,rp.toInteger=s4,rp.toLength=s5,rp.toLower=function(e){return s7(e).toLowerCase()},rp.toNumber=s8,rp.toSafeInteger=function(e){return e?rB(s4(e),-9007199254740991,9007199254740991):0===e?e:0},rp.toString=s7,rp.toUpper=function(e){return s7(e).toUpperCase()},rp.trim=function(e,t,n){if((e=s7(e))&&(n||t===r))return tO(e);if(!e||!(t=nE(t)))return e;var i=tq(e),s=tq(t),o=tB(i,s),a=tN(i,s)+1;return nM(i,o,a).join("")},rp.trimEnd=function(e,t,n){if((e=s7(e))&&(n||t===r))return e.slice(0,tV(e)+1);if(!e||!(t=nE(t)))return e;var i=tq(e),s=tN(i,tq(t))+1;return nM(i,0,s).join("")},rp.trimStart=function(e,t,n){if((e=s7(e))&&(n||t===r))return e.replace(Y,"");if(!e||!(t=nE(t)))return e;var i=tq(e),s=tB(i,tq(t));return nM(i,s).join("")},rp.truncate=function(e,t){var n=30,i="...";if(sV(t)){var s="separator"in t?t.separator:s;n="length"in t?s4(t.length):n,i="omission"in t?nE(t.omission):i}var o=(e=s7(e)).length;if(tU(e)){var a=tq(e);o=a.length}if(n>=o)return e;var c=n-t$(i);if(c<1)return i;var l=a?nM(a,0,c).join(""):e.slice(0,c);if(s===r)return l+i;if(a&&(c+=l.length-c),sZ(s)){if(e.slice(c).search(s)){var u,h=l;for(s.global||(s=eP(s.source,s7(eo.exec(s))+"g")),s.lastIndex=0;u=s.exec(h);)var d=u.index;l=l.slice(0,d===r?c:d)}}else if(e.indexOf(nE(s),c)!=c){var f=l.lastIndexOf(s);f>-1&&(l=l.slice(0,f))}return l+i},rp.unescape=function(e){return(e=s7(e))&&j.test(e)?e.replace(F,tH):e},rp.uniqueId=function(e){var t=++eB;return s7(e)+t},rp.upperCase=ox,rp.upperFirst=oR,rp.each=sl,rp.eachRight=su,rp.first=iG,oz(rp,(em={},rH(rp,function(e,t){eM.call(rp.prototype,t)||(em[t]=e)}),em),{chain:!1}),rp.VERSION="4.17.21",ta(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){rp[e].placeholder=rp}),ta(["drop","take"],function(e,t){rb.prototype[e]=function(n){n=n===r?1:t2(s4(n),0);var i=this.__filtered__&&!t?new rb(this):this.clone();return i.__filtered__?i.__takeCount__=t3(n,i.__takeCount__):i.__views__.push({size:t3(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},rb.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),ta(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;rb.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:iu(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),ta(["head","last"],function(e,t){var r="take"+(t?"Right":"");rb.prototype[e]=function(){return this[r](1).value()[0]}}),ta(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");rb.prototype[e]=function(){return this.__filtered__?new rb(this):this[r](1)}}),rb.prototype.compact=function(){return this.filter(oU)},rb.prototype.find=function(e){return this.filter(e).head()},rb.prototype.findLast=function(e){return this.reverse().find(e)},rb.prototype.invokeMap=nh(function(e,t){return"function"==typeof e?new rb(this):this.map(function(r){return r2(r,e,t)})}),rb.prototype.reject=function(e){return this.filter(sI(iu(e)))},rb.prototype.slice=function(e,t){e=s4(e);var n=this;return n.__filtered__&&(e>0||t<0)?new rb(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=s4(t))<0?n.dropRight(-t):n.take(t-e)),n)},rb.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},rb.prototype.toArray=function(){return this.take(4294967295)},rH(rb.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=rp[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);s&&(rp.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,c=t instanceof rb,l=a[0],u=c||sD(t),h=function(e){var t=s.apply(rp,tf([e],a));return i&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=c&&!f;if(!o&&u){t=g?t:new rb(this);var y=e.apply(t,a);return y.__actions__.push({func:si,args:[h],thisArg:r}),new rm(y,d)}return p&&g?e.apply(this,a):(y=this.thru(h),p?i?y.value()[0]:y.value():y)})}),ta(["pop","push","shift","sort","splice","unshift"],function(e){var t=eC[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);rp.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(sD(i)?i:[],e)}return this[r](function(r){return t.apply(sD(r)?r:[],e)})}}),rH(rb.prototype,function(e,t){var r=rp[t];if(r){var n=r.name+"";eM.call(rs,n)||(rs[n]=[]),rs[n].push({name:t,func:r})}}),rs[nY(r,2).name]=[{name:"wrapper",func:r}],rb.prototype.clone=function(){var e=new rb(this.__wrapped__);return e.__actions__=nL(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nL(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nL(this.__views__),e},rb.prototype.reverse=function(){if(this.__filtered__){var e=new rb(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},rb.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=sD(e),n=t<0,i=r?e.length:0,s=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=t3(t,e+o);break;case"takeRight":e=t2(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,l=n?a:o-1,u=this.__iteratees__,h=u.length,d=0,f=t3(c,this.__takeCount__);if(!r||!n&&i==c&&f==c)return nI(e,this.__actions__);var p=[];t:for(;c--&&d<f;){l+=t;for(var g=-1,y=e[l];++g<h;){var m=u[g],b=m.iteratee,v=m.type,w=b(y);if(2==v)y=w;else if(!w){if(1==v)continue t;break t}}p[d++]=y}return p},rp.prototype.at=ss,rp.prototype.chain=function(){return sn(this)},rp.prototype.commit=function(){return new rm(this.value(),this.__chain__)},rp.prototype.next=function(){this.__values__===r&&(this.__values__=s3(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}},rp.prototype.plant=function(e){for(var t,n=this;n instanceof ry;){var i=iL(n);i.__index__=0,i.__values__=r,t?s.__wrapped__=i:t=i;var s=i;n=n.__wrapped__}return s.__wrapped__=e,t},rp.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof rb){var t=e;return this.__actions__.length&&(t=new rb(this)),(t=t.reverse()).__actions__.push({func:si,args:[i1],thisArg:r}),new rm(t,this.__chain__)}return this.thru(i1)},rp.prototype.toJSON=rp.prototype.valueOf=rp.prototype.value=function(){return nI(this.__wrapped__,this.__actions__)},rp.prototype.first=rp.prototype.head,e4&&(rp.prototype[e4]=function(){return this}),rp}();e4?((e4.exports=tG)._=tG,e6._=tG):e3._=tG}).call(rm)}(rb,rb.exports);var rv=Object.defineProperty,rw=Object.defineProperties,rE=Object.getOwnPropertyDescriptors,rA=Object.getOwnPropertySymbols,r_=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable,rT=(e,t,r)=>t in e?rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rI=(e,t)=>{for(var r in t||(t={}))r_.call(t,r)&&rT(e,r,t[r]);if(rA)for(var r of rA(t))rP.call(t,r)&&rT(e,r,t[r]);return e},rC=(e,t)=>rw(e,rE(t));function rS(e,t,r){var n;let i=(0,s.DQe)(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${rf}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function rO(e){return e.includes(":")?e.split(":")[1]:e}function rx(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function rR(e={},t={}){let r=rM(e),n=rM(t);return rb.exports.merge(r,n)}function rM(e){var t,r,n,i;let o={};if(!(0,s.L5o)(e))return o;for(let[a,c]of Object.entries(e)){let e=(0,s.gpE)(a)?[a]:c.chains,l=c.methods||[],u=c.events||[],h=c.rpcMap||{},d=(0,s.Maj)(a);o[d]=rC(rI(rI({},o[d]),c),{chains:(0,s.eGA)(e,null==(t=o[d])?void 0:t.chains),methods:(0,s.eGA)(l,null==(r=o[d])?void 0:r.methods),events:(0,s.eGA)(u,null==(n=o[d])?void 0:n.events),rpcMap:rI(rI({},h),null==(i=o[d])?void 0:i.rpcMap)})}return o}function rB(e){return e.includes(":")?e.split(":")[2]:e}function rN(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],o=n.accounts||[],a=(0,s.gpE)(r)?[r]:n.chains?n.chains:rx(n.accounts);t[r]={chains:a,methods:e,events:i,accounts:o}}return t}function rD(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let rk={},rW=e=>rk[e],rU=(e,t)=>{rk[e]=t};class rF{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ry,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=rO(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.Z(r,rW("disableProviderPing")))}}var rL=Object.defineProperty,rj=Object.defineProperties,rz=Object.getOwnPropertyDescriptors,r$=Object.getOwnPropertySymbols,rq=Object.prototype.hasOwnProperty,rV=Object.prototype.propertyIsEnumerable,rH=(e,t,r)=>t in e?rL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rG=(e,t)=>{for(var r in t||(t={}))rq.call(t,r)&&rH(e,r,t[r]);if(r$)for(var r of r$(t))rV.call(t,r)&&rH(e,r,t[r]);return e},rK=(e,t)=>rj(e,rz(t));class rJ{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(ry,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||rS(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.k(r,rW("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(rO(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n;let i=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0];if(!i)throw Error("Missing address parameter in `wallet_getCapabilities` request");let s=this.client.session.get(e.topic),o=(null==(n=s?.sessionProperties)?void 0:n.capabilities)||{};if(null!=o&&o[i])return o?.[i];let a=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:rK(rG({},s.sessionProperties||{}),{capabilities:rK(rG({},o||{}),{[i]:a})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return a}async getCallStatus(e){var t,r;let n=this.client.session.get(e.topic),i=null==(t=n.sessionProperties)?void 0:t.bundler_name;if(i){let t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let s=null==(r=n.sessionProperties)?void 0:r.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,S.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${rg}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}class rZ{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ry,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=rO(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.Z(r,rW("disableProviderPing")))}}class rY{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ry,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=rO(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.Z(r,rW("disableProviderPing")))}}class rQ{constructor(e){this.name="algorand",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let r=t||rS(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(ry,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new C.r(new ru.Z(r,rW("disableProviderPing")))}}class rX{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ry,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),n=rO(t);e[n]=this.createHttpProvider(n,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.Z(r,rW("disableProviderPing")))}}class r0{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ry,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=rO(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.Z(r,rW("disableProviderPing")))}}class r1{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ry,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=rO(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.Z(r,rW("disableProviderPing")))}}class r2{constructor(e){this.name="near",this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||rS(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ry,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace);return typeof r>"u"?void 0:new C.r(new ru.Z(r,rW("disableProviderPing")))}}class r3{constructor(e){this.name=rp,this.namespace=e.namespace,this.events=rW("events"),this.client=rW("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ry,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{let t=(0,s.DQe)(e);r[`${t.namespace}:${t.reference}`]=this.createHttpProvider(e)}),r}getHttpProvider(e){let t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||rS(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new C.r(new ru.Z(r,rW("disableProviderPing")))}}var r6=Object.defineProperty,r4=Object.defineProperties,r5=Object.getOwnPropertyDescriptors,r8=Object.getOwnPropertySymbols,r9=Object.prototype.hasOwnProperty,r7=Object.prototype.propertyIsEnumerable,ne=(e,t,r)=>t in e?r6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nt=(e,t)=>{for(var r in t||(t={}))r9.call(t,r)&&ne(e,r,t[r]);if(r8)for(var r of r8(t))r7.call(t,r)&&ne(e,r,t[r]);return e},nr=(e,t)=>r4(e,r5(t));class nn{constructor(e){this.events=new(i()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,c.gw)((0,c.jI)({level:e?.logger||rh})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new nn(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:nt({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,(0,S.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:(0,s.D6H)("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=rN(this.session.namespaces);this.namespaces=rR(this.namespaces,e),this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await n().then(e=>{this.session=e;let t=rN(e.namespaces);this.namespaces=rR(this.namespaces,t),this.persist("namespaces",this.namespaces)}).catch(e=>{if(e.message!==tK)throw e;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e),i=this.getProvider(r);i.name===rp?i.setDefaultChain(`${r}:${n}`,t):i.setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if((0,s.qt8)(t)){for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await rl.init({core:this.providerOpts.core,logger:this.providerOpts.logger||rh,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>(0,s.Maj)(e)))];rU("client",this.client),rU("events",this.events),rU("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session),r=rx(t),n=nr(nt({},rR(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new rJ({namespace:n});break;case"algorand":this.rpcProviders[e]=new rQ({namespace:n});break;case"solana":this.rpcProviders[e]=new rZ({namespace:n});break;case"cosmos":this.rpcProviders[e]=new rY({namespace:n});break;case"polkadot":this.rpcProviders[e]=new rF({namespace:n});break;case"cip34":this.rpcProviders[e]=new rX({namespace:n});break;case"elrond":this.rpcProviders[e]=new r0({namespace:n});break;case"multiversx":this.rpcProviders[e]=new r1({namespace:n});break;case"near":this.rpcProviders[e]=new r2({namespace:n});break;default:this.rpcProviders[rp]?this.rpcProviders[rp].updateNamespace(n):this.rpcProviders[rp]=new r3({namespace:n})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:r}=t;if("accountsChanged"===r.name){let e=r.data;e&&(0,s.qt8)(e)&&this.events.emit("accountsChanged",e.map(rB))}else if("chainChanged"===r.name){let e=t.chainId,r=t.event.data,n=(0,s.Maj)(e),i=rD(e)!==rD(r)?`${n}:${rD(r)}`:e;this.onChainChanged(i)}else this.events.emit(r.name,r.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r;let{namespaces:n}=t,i=null==(r=this.client)?void 0:r.session.get(e);this.session=nr(nt({},i),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",nr(nt({},(0,s.D6H)("USER_DISCONNECTED")),{data:e.topic}))}),this.on(ry,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[rp]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:r,sessionProperties:n}=e;t&&Object.keys(t).length&&(this.namespaces=t),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.persist("namespaces",t),this.persist("optionalNamespaces",r)}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>(0,s.Maj)(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=(0,s.Maj)(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){if(!this.namespaces)return;let[r,n]=this.validateChain(e);n&&(t||this.getProvider(r).setDefaultChain(n),this.namespaces[r]?this.namespaces[r].defaultChain=n:this.namespaces[`${r}:${n}`]?this.namespaces[`${r}:${n}`].defaultChain=n:this.namespaces[`${r}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${rd}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${rd}/${e}`)}}let ni=["eth_sendTransaction","personal_sign"],ns=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],no=["chainChanged","accountsChanged"],na=["chainChanged","accountsChanged","message","disconnect","connect"];var nc=Object.defineProperty,nl=Object.defineProperties,nu=Object.getOwnPropertyDescriptors,nh=Object.getOwnPropertySymbols,nd=Object.prototype.hasOwnProperty,nf=Object.prototype.propertyIsEnumerable,np=(e,t,r)=>t in e?nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ng=(e,t)=>{for(var r in t||(t={}))nd.call(t,r)&&np(e,r,t[r]);if(nh)for(var r of nh(t))nf.call(t,r)&&np(e,r,t[r]);return e},ny=(e,t)=>nl(e,nu(t));function nm(e){return Number(e[0].split(":")[1])}function nb(e){return`0x${e.toString(16)}`}class nv{constructor(){this.events=new n.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){let t=new nv;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:r}=function(e){let{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:o,optionalEvents:a,rpcMap:c}=e;if(!(0,s.qt8)(t))throw Error("Invalid chains");let l={chains:t,methods:n||ni,events:o||no,rpcMap:ng({},t.length?{[nm(t)]:c[nm(t)]}:{})},u=o?.filter(e=>!no.includes(e)),h=n?.filter(e=>!ni.includes(e));if(!r&&!a&&!i&&!(null!=u&&u.length)&&!(null!=h&&h.length))return{required:t.length?l:void 0};let d={chains:[...new Set(u?.length&&h?.length||!r?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(null!=i&&i.length?i:ns))],events:[...new Set(l.events.concat(null!=a&&a.length?a:na))],rpcMap:c};return{required:t.length?l:void 0,optional:r.length?d:void 0}}(this.rpc);try{let n=await new Promise(async(n,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),i(Error("Connection request reset. Please try again.")))})),await this.signer.connect(ny(ng({namespaces:ng({},t&&{[this.namespace]:t})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:e?.pairingTopic})).then(e=>{n(e)}).catch(e=>{i(Error(e.message))})});if(!n)return;let i=(0,s.guN)(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:nb(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async authenticate(e,t){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{let r=await new Promise(async(r,n)=>{var i;this.rpc.showQrModal&&(null==(i=this.modal)||i.subscribeModal(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),n(Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(ny(ng({},e),{chains:this.rpc.chains}),t).then(e=>{r(e)}).catch(e=>{n(Error(e.message))})}),n=r.session;if(n){let e=(0,s.guN)(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:nb(this.chainId)})}return r}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",nb(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",ny(ng({},(0,s.D6H)("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,r;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(r=this.modal)||r.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",nb(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,n]=e.split(":");return{chainId:`${t}:${r}`,address:n}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let n=null!=(t=e?.chains)?t:[],i=null!=(r=e?.optionalChains)?r:[],s=n.concat(i);if(!s.length)throw Error("No chains specified in either `chains` or `optionalChains`");let o=n.length?e?.methods||ni:[],a=n.length?e?.events||no:[],c=e?.optionalMethods||[],l=e?.optionalEvents||[],u=e?.rpcMap||this.buildRpcMap(s,e.projectId),h=e?.qrModalOptions||void 0;return{chains:n?.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:u,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?nm(this.rpc.chains):nm(this.rpc.optionalChains),this.signer=await nn.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let{WalletConnectModal:t}=await Promise.resolve().then(r.bind(r,44978));e=t}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(ng({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:n}=e;t&&(0,s.qt8)(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})),r&&(0,s.qt8)(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}},93514:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});class n{}},96756:function(e,t,r){"use strict";r.d(t,{C$:function(){return l},Lx:function(){return c}});var n=r(55445),i=r(40537),s=r(93514);class o extends s.q{constructor(e){super()}}let a=i.FIVE_SECONDS,c={pulse:"heartbeat_pulse"};class l extends o{constructor(e){super(e),this.events=new n.EventEmitter,this.interval=a,this.interval=e?.interval||a}static async init(e){let t=new l(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(c.pulse)}}},5071:function(e,t,r){"use strict";r.d(t,{Z:function(){return b},k:function(){return b}});var n=r(55445),i=r(80751),s=r.n(i),o=r(80577),a=r(5276),c=Object.defineProperty,l=Object.defineProperties,u=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&p(e,r,t[r]);if(h)for(var r of h(t))f.call(t,r)&&p(e,r,t[r]);return e},y=(e,t)=>l(e,u(t));let m={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class b{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new n.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t=(0,o.u)(e),r=await (await s()(this.url,y(g({},m),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!(0,a.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=(0,o.u)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,y(g({},m),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,o.D)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,a.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,a.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},38979:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var n=r(55445),i=r(5276);class s extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{(0,i.isJsonRpcError)(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},44265:function(e,t,r){"use strict";r.d(t,{CA:function(){return i},JV:function(){return a},O4:function(){return n},dQ:function(){return s},xK:function(){return o}});let n="INTERNAL_ERROR",i="SERVER_ERROR",s=[-32700,-32600,-32601,-32602,-32603],o={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[n]:{code:-32603,message:"Internal error"},[i]:{code:-32e3,message:"Server error"}},a=i},23497:function(e,t,r){"use strict";var n=r(13303);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return n.formatJsonRpcError}}),r.o(n,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return n.formatJsonRpcRequest}}),r.o(n,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return n.formatJsonRpcResult}}),r.o(n,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return n.getBigIntRpcId}}),r.o(n,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return n.isHttpUrl}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}}),r.o(n,"payloadId")&&r.d(t,{payloadId:function(){return n.payloadId}})},28418:function(e,t,r){"use strict";r.d(t,{CX:function(){return a},L2:function(){return o},by:function(){return s},i5:function(){return i}});var n=r(44265);function i(e){return n.dQ.includes(e)}function s(e){return Object.keys(n.xK).includes(e)?n.xK[e]:n.xK[n.JV]}function o(e){return Object.values(n.xK).find(t=>t.code===e)||n.xK[n.JV]}function a(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}},74947:function(e,t,r){"use strict";r.d(t,{CS:function(){return o},RI:function(){return l},o0:function(){return s},sT:function(){return a},tm:function(){return c}});var n=r(28418),i=r(44265);function s(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function o(e=6){return BigInt(s(e))}function a(e,t,r){return{id:r||s(),jsonrpc:"2.0",method:e,params:t}}function c(e,t){return{id:e,jsonrpc:"2.0",result:t}}function l(e,t,r){var s;return{id:e,jsonrpc:"2.0",error:void 0===(s=t)?(0,n.by)(i.O4):("string"==typeof s&&(s=Object.assign(Object.assign({},(0,n.by)(i.CA)),{message:s})),void 0!==r&&(s.data=r),(0,n.i5)(s.code)&&(s=(0,n.L2)(s.code)),s)}}},5276:function(e,t,r){"use strict";r.d(t,{IJsonRpcProvider:function(){return o.x0},formatJsonRpcError:function(){return s.RI},formatJsonRpcRequest:function(){return s.sT},formatJsonRpcResult:function(){return s.tm},getBigIntRpcId:function(){return s.CS},isHttpUrl:function(){return a.jK},isJsonRpcError:function(){return c.jg},isJsonRpcRequest:function(){return c.DW},isJsonRpcResponse:function(){return c.u},isJsonRpcResult:function(){return c.k4},isLocalhostUrl:function(){return a.JF},isWsUrl:function(){return a.UZ},parseConnectionError:function(){return n.CX},payloadId:function(){return s.o0}}),r(44265);var n=r(28418),i=r(23497);r.o(i,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),r.o(i,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),r.o(i,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),r.o(i,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),r.o(i,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),r.o(i,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),r.o(i,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),r.o(i,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),r.o(i,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),r.o(i,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),r.o(i,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),r.o(i,"isReactNative")&&r.d(t,{isReactNative:function(){return i.isReactNative}}),r.o(i,"isWsUrl")&&r.d(t,{isWsUrl:function(){return i.isWsUrl}}),r.o(i,"payloadId")&&r.d(t,{payloadId:function(){return i.payloadId}});var s=r(74947),o=r(75826),a=r(20276),c=r(65505)},75826:function(e,t,r){"use strict";r.d(t,{x0:function(){return s}});class n{}class i extends n{constructor(){super()}}class s extends i{constructor(e){super()}}},20276:function(e,t,r){"use strict";function n(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function i(e){return n(e,"^https?:")}function s(e){return n(e,"^wss?:")}function o(e){return RegExp("wss?://localhost(:d{2,5})?").test(e)}r.d(t,{JF:function(){return o},UZ:function(){return s},jK:function(){return i}})},65505:function(e,t,r){"use strict";function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return n(e)&&"method"in e}function s(e){return n(e)&&(o(e)||a(e))}function o(e){return"result"in e}function a(e){return"error"in e}r.d(t,{DW:function(){return i},jg:function(){return a},k4:function(){return o},u:function(){return s}})},75646:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(55445),i=r(80577),s=r(5276);let o=()=>"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,a=e=>e.split("?")[0],c="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(55223);class l{constructor(e){if(this.url=e,this.events=new n.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(Error("Connection already closed"));return}this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.u)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let n=new URLSearchParams(e).get("origin"),i=(0,s.isReactNative)()?{headers:{origin:n}}:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},a=new c(e,[],i);o()?a.onerror=e=>{r(this.emitError(e.error))}:a.on("error",e=>{r(this.emitError(e))}),a.onopen=()=>{this.onOpen(a),t(a)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,i.D)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,s.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,s.parseConnectionError)(e,a(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${a(this.url)}`));return this.events.emit("register_error",t),t}}},47846:function(e,t,r){"use strict";let n;r.d(t,{Z:function(){return M}});let i=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,o=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function a(e,t){if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);return}return t}function c(e,t={}){if("string"!=typeof e)return e;let r=e.trim();if('"'===e[0]&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){let e=r.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!o.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(i.test(e)||s.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,a)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}var l=r(82957).lW;function u(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function h(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return h(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}function d(){if(void 0===l)throw TypeError("[unstorage] Buffer is not supported!")}let f="base64:";function p(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function g(e){return(e=p(e))?e+":":""}let y=()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function m(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function b(e){"function"==typeof e.dispose&&await u(e.dispose)}function v(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function w(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=v(r);return(e,r)=>n.then(n=>r(n.transaction(t,e).objectStore(t)))}function E(){return n||(n=w("keyval-store","keyval")),n}function A(e,t=E()){return t("readonly",t=>v(t.get(e)))}var _=r(80577),P=(e={})=>{let t;let r=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>r+e;return e.dbName&&e.storeName&&(t=w(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await A(n(e),t)>"u"),getItem:async e=>await A(n(e),t)??null,setItem:(e,r)=>(function(e,t,r=E()){return r("readwrite",r=>(r.put(t,e),v(r.transaction)))})(n(e),r,t),removeItem:e=>(function(e,t=E()){return t("readwrite",t=>(t.delete(e),v(t.transaction)))})(n(e),t),getKeys:()=>(function(e=E()){return e("readonly",e=>{var t;if(e.getAllKeys)return v(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},v(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=E()){return e("readwrite",e=>(e.clear(),v(e.transaction)))})(t)}};class T{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||y()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},n=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),i=(e,r)=>{if(t.watching)for(let n of(r=p(r),t.watchListeners))n(e,r)},s=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await m(t.mounts[e],i,e)},o=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},a=(e,t,n)=>{let i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let n of e){let e="string"==typeof n,i=p(e?n:n.key),o=e?void 0:n.value,a=e||!n.options?t:{...t,...n.options},c=r(i);s(c).items.push({key:i,value:o,relativeKey:c.relativeKey,options:a})}return Promise.all([...i.values()].map(e=>n(e))).then(e=>e.flat())},v={hasItem(e,t={}){let{relativeKey:n,driver:i}=r(e=p(e));return u(i.hasItem,n,t)},getItem(e,t={}){let{relativeKey:n,driver:i}=r(e=p(e));return u(i.getItem,n,t).then(e=>c(e))},getItems:(e,t)=>a(e,t,e=>e.driver.getItems?u(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return p(e.join(":"))}(e.base,t.key),value:c(t.value)}))):Promise.all(e.items.map(t=>u(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:c(e)}))))),getItemRaw(e,t={}){let{relativeKey:n,driver:i}=r(e=p(e));return i.getItemRaw?u(i.getItemRaw,n,t):u(i.getItem,n,t).then(e=>"string"==typeof e&&e.startsWith(f)?(d(),l.from(e.slice(f.length),"base64")):e)},async setItem(e,t,n={}){if(void 0===t)return v.removeItem(e);let{relativeKey:s,driver:o}=r(e=p(e));o.setItem&&(await u(o.setItem,s,h(t),n),o.watch||i("update",e))},async setItems(e,t){await a(e,t,async e=>{if(e.driver.setItems)return u(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:h(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>u(e.driver.setItem,t.relativeKey,h(t.value),t.options)))})},async setItemRaw(e,t,n={}){if(void 0===t)return v.removeItem(e,n);let{relativeKey:s,driver:o}=r(e=p(e));if(o.setItemRaw)await u(o.setItemRaw,s,t,n);else{if(!o.setItem)return;await u(o.setItem,s,"string"==typeof t?t:(d(),f+l.from(t).toString("base64")),n)}o.watch||i("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:n,driver:s}=r(e=p(e));s.removeItem&&(await u(s.removeItem,n,t),(t.removeMeta||t.removeMata)&&await u(s.removeItem,n+"$",t),s.watch||i("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:n,driver:i}=r(e=p(e)),s=Object.create(null);if(i.getMeta&&Object.assign(s,await u(i.getMeta,n,t)),!t.nativeOnly){let e=await u(i.getItem,n+"$",t).then(e=>c(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=n(e=g(e),!0),i=[],s=[];for(let e of r){for(let r of(await u(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+p(r);i.some(e=>t.startsWith(e))||s.push(t)}i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}return e?s.filter(t=>t.startsWith(e)&&"$"!==t[t.length-1]):s.filter(e=>"$"!==e[e.length-1])},async clear(e,t={}){e=g(e),await Promise.all(n(e,!1).map(async e=>e.driver.clear?u(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>b(e)))},watch:async e=>(await s(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await o()}),async unwatch(){t.watchListeners=[],await o()},mount(e,r){if((e=g(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(m(r,i,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),v},async unmount(e,r=!0){(e=g(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e](),delete t.unwatch[e]),r&&await b(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=p(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>n(e=p(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>v.getKeys(e,t),get:(e,t={})=>v.getItem(e,t),set:(e,t,r={})=>v.setItem(e,t,r),has:(e,t={})=>v.hasItem(e,t),del:(e,t={})=>v.removeItem(e,t),remove:(e,t={})=>v.removeItem(e,t)};return v}({driver:P({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,_.u)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var I="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},C={exports:{}};function S(e){var t;return[e[0],(0,_.D)(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof I&&I.localStorage?C.exports=I.localStorage:"u">typeof window&&window.localStorage?C.exports=window.localStorage:C.exports=new e}();class O{constructor(){this.localStorage=C.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(S)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,_.D)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,_.u)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let x=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1){r(t);return}let s=await e.getKeys();if(!s.length){r(t);return}let o=[];for(;s.length;){let r=s.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),o.push(r)}}await t.setItem(n,1),r(t),R(e,o)},R=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class M{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new O;this.storage=e;try{let t=new T;x(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},15133:function(e,t,r){"use strict";r.d(t,{Ep:function(){return P},Fd:function(){return _},Rt:function(){return T},gw:function(){return i.a},jI:function(){return A}});var n=r(97435),i=r.n(n),s=r(80577);let o={level:"info"},a="custom_context";class c{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class l{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new c(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}class u{constructor(e,t=1024e3){this.level=e??"error",this.levelValue=n.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new l(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===n.levels.values.error?console.error(e):t===n.levels.values.warn?console.warn(e):t===n.levels.values.debug?console.debug(e):t===n.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,s.u)({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new l(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push((0,s.u)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class h{constructor(e,t=1024e3){this.baseChunkLogger=new u(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}class d{constructor(e,t=1024e3){this.baseChunkLogger=new u(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var f=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&v(e,r,t[r]);if(y)for(var r of y(t))b.call(t,r)&&v(e,r,t[r]);return e},E=(e,t)=>p(e,g(t));function A(e){return E(w({},e),{level:e?.level||o.level})}function _(e,t=a){return typeof e.bindings>"u"?function(e,t=a){return e[t]||""}(e,t):e.bindings().context||""}function P(e,t,r=a){let n=function(e,t,r=a){let n=_(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=a){return e[r]=t,e}(e.child({context:n}),n,r)}function T(e){return"u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(e){var t,r;let n=new h(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(E(w({},e.opts),{level:"trace",browser:E(w({},null==(r=e.opts)?void 0:r.browser),{write:e=>n.write(e)})})),chunkLoggerController:n}}(e):function(e){var t;let r=new d(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(E(w({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}},21086:function(e,t,r){"use strict";r.d(t,{iO:function(){return n}});let n={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},94921:function(e,t,r){"use strict";r.d(t,{decodeJWT:function(){return m},encodeIss:function(){return y},generateKeyPair:function(){return b},signJWT:function(){return v}});var n=r(48280),i=r(78539),s=r(40537);let o="base64url",a="utf8",c="utf8",l="base58btc";var u=r(8578),h=r(71243),d=r(93870),f=r(80577);function p(e){return(0,f.D)((0,h.B)((0,d.m)(e,o),a))}function g(e){return(0,h.B)((0,d.m)((0,f.u)(e),a),o)}function y(e){let t=(0,d.m)("K36",l);return["did","key","z"+(0,h.B)((0,u.z)([t,e]),l)].join(":")}function m(e){var t;let r=e.split("."),n=p(r[0]);return{header:n,payload:p(r[1]),signature:(t=r[2],(0,d.m)(t,o)),data:(0,d.m)(r.slice(0,2).join("."),c)}}function b(e=(0,i.randomBytes)(32)){return n._w(e)}async function v(e,t,r,i,a=(0,s.fromMiliseconds)(Date.now())){var l,u,f;let p={alg:"EdDSA",typ:"JWT"},m={iss:y(i.publicKey),sub:e,aud:t,iat:a,exp:a+r},b=(l={header:p,payload:m},(0,d.m)([g(l.header),g(l.payload)].join("."),c));return[g((u={header:p,payload:m,signature:n.Xx(i.secretKey,b)}).header),g(u.payload),(f=u.signature,(0,h.B)(f,o))].join(".")}r(48544)},48544:function(){},80577:function(e,t,r){"use strict";r.d(t,{D:function(){return s},u:function(){return o}});let n=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),i=e=>JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t);function s(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return i(e)}catch(t){return e}}function o(e){return"string"==typeof e?e:n(e)||""}},70213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(62494);n.__exportStar(r(12658),t),n.__exportStar(r(75127),t)},12658:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},75127:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},40537:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(62494);n.__exportStar(r(78627),t),n.__exportStar(r(59854),t),n.__exportStar(r(3205),t),n.__exportStar(r(70213),t)},3205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(62494).__exportStar(r(71146),t)},71146:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},68353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(70213);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},86029:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},78627:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(62494);n.__exportStar(r(86029),t),n.__exportStar(r(68353),t)},59854:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},62494:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return s},__asyncDelegator:function(){return w},__asyncGenerator:function(){return v},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return u},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return I},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return f},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return P},__importStar:function(){return _},__makeTemplateObject:function(){return A},__metadata:function(){return l},__param:function(){return c},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,l):u(s[0][2],r)}catch(e){u(s[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},65208:function(e,t,r){"use strict";r.d(t,{Z:function(){return i7}});var n=r(55445),i=r.n(n),s=r(96756),o=r(47846),a=r(15133),c=r(93514);class l extends c.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class u extends c.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class h{constructor(e,t){this.logger=e,this.core=t}}class d extends c.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class f extends c.q{constructor(e){super()}}class p{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class g extends c.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class y extends c.q{constructor(e,t){super(),this.core=e,this.logger=t}}class m{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class b{constructor(e,t){this.projectId=e,this.logger=t}}class v{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}class w{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class E{constructor(e){this.client=e}}var A=r(40537),_=r(80577),P=r(94921),T=r(65383),I=r(76454),C=r(3897),S=r(88017),O=r(8810),x=r(25650),R=r(61728);function M(e){return"string"==typeof e&&(e=(0,R.Y0)(e)),(0,x.w)((0,O.zo)([(0,R.Y0)("\x19Ethereum Signed Message:\n"),(0,R.Y0)(String(e.length)),e]))}var B=r(29917),N=r(50972),D=r(9014),k=r(78539),W=r(43094),U=r(11153),F=r(47783),L=r(61984),j=r(21086),z=r(25566),$=r(82957).lW;function q(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function V(e,t){return e.includes(":")?[e]:t.chains||[]}var H=Object.defineProperty,G=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Z=(e,t,r)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Y=(e,t)=>{for(var r in t||(t={}))K.call(t,r)&&Z(e,r,t[r]);if(G)for(var r of G(t))J.call(t,r)&&Z(e,r,t[r]);return e};let Q={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function X(){return"u">typeof z&&"u">typeof z.versions&&"u">typeof z.versions.node}function ee(){return!(0,I.getDocument)()&&!!(0,I.getNavigator)()&&"ReactNative"===navigator.product}function et(){return!X()&&!!(0,I.getNavigator)()&&!!(0,I.getDocument)()}function er(){return ee()?Q.reactNative:X()?Q.node:et()?Q.browser:Q.unknown}function en(){return(0,C.D)()||{name:"",description:"",url:"",icons:[""]}}function ei(e,t,n){let i=function(){if(er()===Q.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}let e=(0,T.qY)();if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;let t=er();return t===Q.browser?[t,(null==(e=(0,I.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",n].join("-"),i,s].join("/")}function es(e,t){return e.filter(e=>t.includes(e)).length===e.length}function eo(e){return Object.fromEntries(e.entries())}function ea(e){return new Map(Object.entries(e))}function ec(e=A.FIVE_MINUTES,t){let r,n,i;let s=(0,A.toMiliseconds)(e||A.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,o)=>{i=setTimeout(()=>{o(Error(t))},s),r=e,n=o})}}function el(e,t,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(s)})}function eu(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function eh(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function ed(e,t){return(0,A.fromMiliseconds)((t||Date.now())+(0,A.toMiliseconds)(e))}function ef(e){return Date.now()>=(0,A.toMiliseconds)(e)}function ep(e,t){return`${e}${t?`:${t}`:""}`}function eg(e=[],t=[]){return[...new Set([...e,...t])]}async function ey({id:e,topic:t,wcDeepLink:n}){var i;try{if(!n)return;let s="string"==typeof n?JSON.parse(n):n,o=s?.href;if("string"!=typeof o)return;let a=function(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${t}${function(e,t=!1){let r=$.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(o,e,t),c=er();if(c===Q.browser){if(!(null!=(i=(0,I.getDocument)())&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"u">typeof window&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)?"_blank":"_self","noreferrer noopener")}else c===Q.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(a)}catch(e){console.error(e)}}async function em(e,t){let r="";try{if(et()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function eb(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function ev(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function ew(){return"u">typeof z&&"true"===z.env.IS_VITEST}function eE(e){return $.from(e,"base64").toString("utf-8")}async function eA(e,t,r,n,i,s){switch(r.t){case"eip191":var o;return o=r.s,(0,B.RJ)(M(t),o).toLowerCase()===e.toLowerCase();case"eip1271":return await e_(e,t,r.s,n,i,s);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function e_(e,t,r,n,i,s){let o=q(n);if(!o.namespace||!o.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let o="0x1626ba7e",a=r.substring(2),c=M(t).substring(2),l=await fetch(`${s||"https://rpc.walletconnect.org/v1"}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:o+c+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000041"+a},"latest"]})}),{result:u}=await l.json();return!!u&&u.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}var eP=Object.defineProperty,eT=Object.defineProperties,eI=Object.getOwnPropertyDescriptors,eC=Object.getOwnPropertySymbols,eS=Object.prototype.hasOwnProperty,eO=Object.prototype.propertyIsEnumerable,ex=(e,t,r)=>t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eR=(e,t)=>{for(var r in t||(t={}))eS.call(t,r)&&ex(e,r,t[r]);if(eC)for(var r of eC(t))eO.call(t,r)&&ex(e,r,t[r]);return e},eM=(e,t)=>eT(e,eI(t));let eB=e=>e?.split(":"),eN=e=>{let t=e&&eB(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]},eD=e=>{let t=e&&eB(e);if(t)return t[2]+":"+t[3]},ek=e=>{let t=e&&eB(e);if(t)return t.pop()};async function eW(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=eU(i,i.iss),o=ek(i.iss);return await eA(o,s,n,eD(i.iss),r)}let eU=(e,t)=>{let r=`${e.domain} wants you to sign in with your Ethereum account:`,n=ek(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0,s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${eN(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,d=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,p=eq(e.resources);return p&&(i=function(e="",t){eF(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let s={};r.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});let o=Object.keys(s).map(t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`));n.push(o.join(", ").replace(".,","."))});let s=n.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}(i,ej(p))),[r,n,"",i,"",s,o,a,c,l,u,h,d,f].filter(e=>null!=e).join(`
`)};function eF(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function eL(e){return eF(e),`urn:recap:${$.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function ej(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse($.from(t,"base64").toString("utf-8")));return eF(r),r}function ez(e){var t;let r=ej(e);eF(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function e$(e){let t=ej(e);eF(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function eq(e){if(!e)return;let t=e?.[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}let eV="base10",eH="base16",eG="base64pad",eK="base64url",eJ="utf8";function eZ(){let e=(0,k.randomBytes)(32);return(0,F.BB)(e,eH)}function eY(e){let t=(0,W.vp)((0,F.mL)(e,eH));return(0,F.BB)(t,eH)}function eQ(e){let t=(0,W.vp)((0,F.mL)(e,eJ));return(0,F.BB)(t,eH)}function eX(e){return(0,F.mL)(`${e}`,eV)}function e0(e){return Number((0,F.BB)(e,eV))}function e1(e){let{encoding:t=eG}=e;if(2===e0(e.type))return(0,F.BB)((0,F.zo)([e.type,e.sealed]),t);if(1===e0(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,F.BB)((0,F.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return(0,F.BB)((0,F.zo)([e.type,e.iv,e.sealed]),t)}function e2(e){let{encoded:t,encoding:r=eG}=e,n=(0,F.mL)(t,r),i=n.slice(0,1);if(1===e0(i)){let e=n.slice(1,33),t=n.slice(33,45);return{type:i,sealed:n.slice(45),iv:t,senderPublicKey:e}}if(2===e0(i))return{type:i,sealed:n.slice(1),iv:(0,k.randomBytes)(12)};let s=n.slice(1,13);return{type:i,sealed:n.slice(13),iv:s}}function e3(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function e6(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function e4(e){return e?.relay||{protocol:"irn"}}function e5(e){let t=j.iO[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var e8=Object.defineProperty,e9=Object.defineProperties,e7=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable,tn=(e,t,r)=>t in e?e8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ti=(e,t)=>{for(var r in t||(t={}))tt.call(t,r)&&tn(e,r,t[r]);if(te)for(var r of te(t))tr.call(t,r)&&tn(e,r,t[r]);return e},ts=(e,t)=>e9(e,e7(t));function to(e){var t;if(!e.includes("wc:")){let t=eE(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),s=e.substring(r+1,n).split("@"),o="u">typeof n?e.substring(n):"",a=S.parse(o),c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:i,topic:(t=s[0]).startsWith("//")?t.substring(2):t,version:parseInt(s[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),s=e[t];r[i]=s}}),r}(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function ta(e){return`${e.protocol}:${e.topic}@${e.version}?`+S.stringify(ti(ts(ti({symKey:e.symKey},function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function tc(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function tl(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function tu(e){return e.includes(":")}function th(e){return tu(e)?e.split(":")[0]:e}function td(e,t){let r=function(e){let t={};return e?.forEach(e=>{let[r,n]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[]}),t[r].accounts.push(e),t[r].chains.push(`${r}:${n}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(let[t,n]of Object.entries(r))n.methods?n.methods=eg(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let tf={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tp={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function tg(e,t){let{message:r,code:n}=tp[e];return{message:t?`${r} ${t}`:r,code:n}}function ty(e,t){let{message:r,code:n}=tf[e];return{message:t?`${r} ${t}`:r,code:n}}function tm(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function tb(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function tv(e){return typeof e>"u"}function tw(e,t){return!!(t&&tv(e))||"string"==typeof e&&!!e.trim().length}function tE(e,t){return!!(t&&tv(e))||"number"==typeof e&&!isNaN(e)}function tA(e){return!!(tw(e,!1)&&e.includes(":"))&&2===e.split(":").length}function t_(e){let t=!0;return tm(e)?e.length&&(t=e.every(e=>tw(e,!1))):t=!1,t}function tP(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let s=(n=`${t}, namespace`,i=null,t_(e?.methods)?t_(e?.events)||(i=ty("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=ty("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);s&&(r=s)}),r}function tT(e,t){let r=null;if(e&&tb(e)){let n;let i=tP(e,t);i&&(r=i);let s=(n=null,Object.values(e).forEach(e=>{var r,i;let s;if(n)return;let o=(r=e?.accounts,i=`${t} namespace`,s=null,tm(r)?r.forEach(e=>{s||function(e){if(tw(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&tA(e)}}return!1}(e)||(s=ty("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):s=ty("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s);o&&(n=o)}),n);s&&(r=s)}else r=tg("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function tI(e){return tw(e.protocol,!0)}function tC(e){return"u">typeof e}function tS(e,t){return!(!tA(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...tl(e.accounts))}),t})(e).includes(t))}function tO(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),s=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=tl(e[r].accounts);n?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),c=tx(Object.keys(e)),l=tx(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(n=tg("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),es(o,a)||(n=tg("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=tl(t[e].accounts);i.includes(e)||(n=tg("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${i.toString()}`))}),o.forEach(e=>{n||(es(i[e].methods,s[e].methods)?es(i[e].events,s[e].events)||(n=tg("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=tg("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),n}function tx(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function tR(){let e=er();return new Promise(t=>{switch(e){case Q.browser:t(et()&&navigator?.onLine);break;case Q.reactNative:t(tM());break;case Q.node:default:t(!0)}})}async function tM(){if(ee()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo){let e=await (null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}let tB={};class tN{static get(e){return tB[e]}static set(e,t){tB[e]=t}static delete(e){delete tB[e]}}var tD=r(38979),tk=r(5276),tW=r(75646),tU=r(15586),tF=r.n(tU);let tL="core",tj=`wc@2:${tL}:`,tz={logger:"error"},t$={database:":memory:"},tq="client_ed25519_seed",tV=A.ONE_DAY,tH=A.SIX_HOURS,tG="wss://relay.walletconnect.org",tK={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},tJ={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},tZ="2.17.2",tY={link_mode:"link_mode",relay:"relay"},tQ="WALLETCONNECT_LINK_MODE_APPS",tX={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},t0=1e3*A.FIVE_SECONDS,t1={wc_pairingDelete:{req:{ttl:A.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:A.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:A.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:A.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:A.ONE_DAY,prompt:!1,tag:0},res:{ttl:A.ONE_DAY,prompt:!1,tag:0}}},t2={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},t3={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},t6={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},t4="https://verify.walletconnect.org",t5=`${t4}/v3`,t8=["https://verify.walletconnect.com",t4],t9={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal"},t7={no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_listener_not_found:"proposal_listener_not_found"},re={session_approve_started:"session_approve_started",session_namespaces_validation_success:"session_namespaces_validation_success",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},rt={no_internet_connection:"no_internet_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},rr={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},rn={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var ri=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let rs=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},ro=e=>new TextEncoder().encode(e),ra=e=>new TextDecoder().decode(e);class rc{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rl{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return rh(this,e)}}class ru{constructor(e){this.decoders=e}or(e){return rh(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let rh=(e,t)=>new ru({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class rd{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new rc(e,t,r),this.decoder=new rl(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let rf=({name:e,prefix:t,encode:r,decode:n})=>new rd(e,t,r,n),rp=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=ri(r,t);return rf({prefix:e,name:t,encode:n,decode:e=>rs(i(e))})},rg=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,l=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o},ry=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},rm=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>rf({prefix:t,name:e,encode:e=>ry(e,n,r),decode:t=>rg(t,n,r,e)});var rb=Object.freeze({__proto__:null,identity:rf({prefix:"\0",name:"identity",encode:e=>ra(e),decode:e=>ro(e)})}),rv=Object.freeze({__proto__:null,base2:rm({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),rw=Object.freeze({__proto__:null,base8:rm({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),rE=Object.freeze({__proto__:null,base10:rp({prefix:"9",name:"base10",alphabet:"0123456789"})}),rA=Object.freeze({__proto__:null,base16:rm({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:rm({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let r_=rm({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rP=rm({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rT=rm({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rI=rm({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rC=rm({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rS=rm({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var rO=Object.freeze({__proto__:null,base32:r_,base32upper:rP,base32pad:rT,base32padupper:rI,base32hex:rC,base32hexupper:rS,base32hexpad:rm({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:rm({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:rm({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),rx=Object.freeze({__proto__:null,base36:rp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:rp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),rR=Object.freeze({__proto__:null,base58btc:rp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:rp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let rM=rm({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var rB=Object.freeze({__proto__:null,base64:rM,base64pad:rm({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:rm({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:rm({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let rN=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),rD=rN.reduce((e,t,r)=>(e[r]=t,e),[]),rk=rN.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var rW=Object.freeze({__proto__:null,base256emoji:rf({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=rD[t],"")},decode:function(e){let t=[];for(let r of e){let e=rk[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function rU(e,t){var r,n=0,t=t||0,i=0,s=t,o=e.length;do{if(s>=o)throw rU.bytes=0,RangeError("Could not decode varint");r=e[s++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return rU.bytes=s-t,n}var rF=function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};let rL=(e,t,r=0)=>(rF(e,t,r),t),rj=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,rz=(e,t)=>{let r=t.byteLength,n=rj(e),i=n+rj(r),s=new Uint8Array(i+r);return rL(e,s,0),rL(r,s,n),s.set(t,i),new r$(e,r,t,s)};class r${constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let rq=({name:e,code:t,encode:r})=>new rV(e,t,r);class rV{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?rz(this.code,t):t.then(e=>rz(this.code,e))}throw Error("Unknown type, must be binary type")}}let rH=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var rG=Object.freeze({__proto__:null,sha256:rq({name:"sha2-256",code:18,encode:rH("SHA-256")}),sha512:rq({name:"sha2-512",code:19,encode:rH("SHA-512")})}),rK=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:rs,digest:e=>rz(0,rs(e))}});new TextEncoder,new TextDecoder;let rJ={...rb,...rv,...rw,...rE,...rA,...rO,...rx,...rR,...rB,...rW};function rZ(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...rG,...rK});let rY=rZ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rQ=rZ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),rX={utf8:rY,"utf-8":rY,hex:rJ.base16,latin1:rQ,ascii:rQ,binary:rQ,...rJ};class r0{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=tj,this.init=async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=tg("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=(0,a.Ep)(t,this.name)}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,eo(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?ea(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}}class r1{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.randomSessionIdentifier=eZ(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();let e=await this.getClientSeed(),t=P.generateKeyPair(e);return P.encodeIss(t.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let e=function(){let e=U.Au();return{privateKey:(0,F.BB)(e.secretKey,eH),publicKey:(0,F.BB)(e.publicKey,eH)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();let t=await this.getClientSeed(),r=P.generateKeyPair(t),n=this.randomSessionIdentifier;return await P.signJWT(n,e,tV,r)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=U.gi((0,F.mL)(e,eH),(0,F.mL)(t,eH),!0),n=new D.t(W.mE,r).expand(32);return(0,F.BB)(n,eH)}(this.getPrivateKey(e),t);return this.setSymKey(n,r)},this.setSymKey=async(e,t)=>{this.isInitialized();let r=t||eY(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();let n=e3(r),i=(0,_.u)(t);if(2===n.type)return function(e,t){let r=eX(2),n=(0,k.randomBytes)(12);return e1({type:r,sealed:(0,F.mL)(e,eJ),iv:n,encoding:t})}(i,r?.encoding);if(e6(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let s=this.getSymKey(e),{type:o,senderPublicKey:a}=n;return function(e){let t=eX("u">typeof e.type?e.type:0);if(1===e0(t)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?(0,F.mL)(e.senderPublicKey,eH):void 0,n="u">typeof e.iv?(0,F.mL)(e.iv,eH):(0,k.randomBytes)(12);return e1({type:t,sealed:new N.OK((0,F.mL)(e.symKey,eH)).seal(n,(0,F.mL)(e.message,eJ)),iv:n,senderPublicKey:r,encoding:e.encoding})}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:r?.encoding})},this.decode=async(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=e2({encoded:e,encoding:t?.encoding});return e3({type:e0(r.type),senderPublicKey:"u">typeof r.senderPublicKey?(0,F.BB)(r.senderPublicKey,eH):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(2===n.type){let e=function(e,t){let{sealed:r}=e2({encoded:e,encoding:t});return(0,F.BB)(r,eJ)}(t,r?.encoding);return(0,_.D)(e)}if(e6(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=function(e){let t=new N.OK((0,F.mL)(e.symKey,eH)),{sealed:r,iv:n}=e2({encoded:e.encoded,encoding:e?.encoding}),i=t.open(n,r);if(null===i)throw Error("Failed to decrypt");return(0,F.BB)(i,eJ)}({symKey:n,encoded:t,encoding:r?.encoding});return(0,_.D)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}},this.getPayloadType=(e,t=eG)=>e0(e2({encoded:e,encoding:t}).type),this.getPayloadSenderPublicKey=(e,t=eG)=>{let r=e2({encoded:e,encoding:t});return r.senderPublicKey?(0,F.BB)(r.senderPublicKey,eH):void 0},this.core=e,this.logger=(0,a.Ep)(t,this.name),this.keychain=r||new r0(this.core,this.logger)}get context(){return(0,a.Fd)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tq)}catch{e=eZ(),await this.keychain.set(tq,e)}return function(e,t="utf8"){let r=rX[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}}class r2 extends h{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=tj,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();let r=eQ(t),n=this.messages.get(e);return typeof n>"u"&&(n={}),"u">typeof n[r]||(n[r]=t,this.messages.set(e,n),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[eQ(t)]),this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=(0,a.Ep)(e,this.name),this.core=t}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,eo(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?ea(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}}class r3 extends d{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new n.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,A.toMiliseconds)(A.ONE_MINUTE),this.failedPublishTimeout=(0,A.toMiliseconds)(A.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let i=r?.ttl||tH,s=e4(r),o=r?.prompt||!1,a=r?.tag||0,c=r?.id||(0,tk.getBigIntRpcId)().toString(),l={topic:e,message:t,opts:{ttl:i,relay:s,prompt:o,tag:a,id:c,attestation:r?.attestation}},u=`Failed to publish payload, please try again. id:${c} tag:${a}`,h=Date.now(),d,f=1;try{for(;void 0===d;){if(Date.now()-h>this.publishTimeout)throw Error(u);this.logger.trace({id:c,attempts:f},`publisher.publish - attempt ${f}`),d=await await el(this.rpcPublish(e,t,i,s,o,a,c,r?.attestation).catch(e=>this.logger.warn(e)),this.publishTimeout,u),f++,d||await new Promise(e=>setTimeout(e,this.failedPublishTimeout))}this.relayer.events.emit(tK.publish,l),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:c,topic:e,message:t,opts:r}})}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(n=r?.internal)&&n.throwOnFailedPublish)throw e;this.queue.set(c,l)}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=(0,a.Ep)(t,this.name),this.registerEventListeners()}get context(){return(0,a.Fd)(this.logger)}rpcPublish(e,t,r,n,i,s,o,a){var c,l,u,h;let d={method:e5(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:s,attestation:a},id:o};return tv(null==(c=d.params)?void 0:c.prompt)&&(null==(l=d.params)||delete l.prompt),tv(null==(u=d.params)?void 0:u.tag)&&(null==(h=d.params)||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:r,opts:n}=e;await this.publish(t,r,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(s.Lx.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(tK.connection_stalled);return}this.checkQueue()}),this.relayer.on(tK.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class r6{constructor(){this.map=new Map,this.set=(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var r4=Object.defineProperty,r5=Object.defineProperties,r8=Object.getOwnPropertyDescriptors,r9=Object.getOwnPropertySymbols,r7=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,nt=(e,t,r)=>t in e?r4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nr=(e,t)=>{for(var r in t||(t={}))r7.call(t,r)&&nt(e,r,t[r]);if(r9)for(var r of r9(t))ne.call(t,r)&&nt(e,r,t[r]);return e},nn=(e,t)=>r5(e,r8(t));class ni extends g{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new r6,this.events=new n.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=tj,this.subscribeTimeout=(0,A.toMiliseconds)(A.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=e4(t),n={topic:e,relay:r,transportType:t?.transportType};this.pending.set(e,n);let i=await this.rpcSubscribe(e,r,t);return"string"==typeof i&&(this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),i}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>{if(this.topics.includes(e))return!0;let t=`${this.pendingSubscriptionWatchLabel}_${e}`;return await new Promise((r,n)=>{let i=new A.Watch;i.start(t);let s=setInterval(()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(s),i.stop(t),r(!0)),i.elapsed(t)>=t0&&(clearInterval(s),i.stop(t),n(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,a.Ep)(t,this.name),this.clientId=""}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=e4(r);await this.rpcUnsubscribe(e,t,n);let i=ty("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n;r?.transportType===tY.relay&&await this.restartToComplete();let i={method:e5(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let s=null==(n=r?.internal)?void 0:n.throwOnFailedPublish;try{let t=eQ(e+this.clientId);if(r?.transportType===tY.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(e=>this.logger.warn(e))},(0,A.toMiliseconds)(A.ONE_SECOND)),t;let n=await el(this.relayer.request(i).catch(e=>this.logger.warn(e)),this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&s)throw Error(`Subscribing to ${e} failed, please try again`);return n?t:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(tK.connection_stalled),s)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:e5(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{return await await el(this.relayer.request(t).catch(e=>this.logger.warn(e)),this.subscribeTimeout)}catch{this.relayer.events.emit(tK.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:e5(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await el(this.relayer.request(r).catch(e=>this.logger.warn(e)),this.subscribeTimeout)}catch{this.relayer.events.emit(tK.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let n={method:e5(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,nn(nr({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,nr({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,nr({},t)),this.topicMap.set(t.topic,e),this.events.emit(tX.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=tg("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(tX.deleted,nn(nr({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(tX.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(e),await this.batchSubscribe(e)}}this.events.emit(tX.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=tg("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);tm(t)&&this.onBatchSubscribe(t.map((t,r)=>nn(nr({},e[r]),{id:t})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(t.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(s.Lx.pulse,async()=>{await this.checkPending()}),this.events.on(tX.created,async e=>{let t=tX.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(tX.deleted,async e=>{let t=tX.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(){this.relayer.connected||this.relayer.connecting||await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var ns=Object.defineProperty,no=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,nc=Object.prototype.propertyIsEnumerable,nl=(e,t,r)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nu=(e,t)=>{for(var r in t||(t={}))na.call(t,r)&&nl(e,r,t[r]);if(no)for(var r of no(t))nc.call(t,r)&&nl(e,r,t[r]);return e};class nh extends f{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new n.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,A.toMiliseconds)(A.THIRTY_SECONDS+A.ONE_SECOND),this.request=async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||(0,tk.getBigIntRpcId)().toString();await this.toEstablishConnection();try{let i=this.provider.request(e);this.requestsInFlight.set(n,{promise:i,request:e}),this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - attempt to publish...");let s=await new Promise(async(e,t)=>{let r=()=>{t(Error(`relayer.request - publish interrupted, id: ${n}`))};this.provider.on(tJ.disconnect,r);let s=await i;this.provider.off(tJ.disconnect,r),e(s)});return this.logger.trace({id:n,method:e.method,topic:null==(r=e.params)?void 0:r.topic},"relayer.request - published"),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}finally{this.requestsInFlight.delete(n)}},this.resetPingTimeout=()=>{if(X())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r;null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)||r.terminate()},this.heartBeatTimeout)}catch(e){this.logger.warn(e)}},this.onPayloadHandler=e=>{this.onProviderPayload(e),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(tK.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(tK.error,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(tJ.payload,this.onPayloadHandler),this.provider.on(tJ.connect,this.onConnectHandler),this.provider.on(tJ.disconnect,this.onDisconnectHandler),this.provider.on(tJ.error,this.onProviderErrorHandler)},this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,a.Ep)(e.logger,this.name):(0,a.gw)((0,a.jI)({level:e.logger||"error"})),this.messages=new r2(this.logger,e.core),this.subscriber=new ni(this,this.logger),this.publisher=new r3(this,this.logger),this.relayUrl=e?.relayUrl||tG,this.projectId=e.projectId,this.bundleId=function(){var e;try{return ee()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Application)?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return(0,a.Fd)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:tY.relay})}async subscribe(e,t){var r,n,i;this.isInitialized(),t?.transportType==="relay"&&await this.toEstablishConnection();let s=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),o=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",a,c=t=>{t.topic===e&&(this.subscriber.off(tX.created,c),a())};return await Promise.all([new Promise(e=>{a=e,this.subscriber.on(tX.created,c)}),new Promise(async(r,n)=>{o=await this.subscriber.subscribe(e,nu({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&n(e)})||o,r()})]),o}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await el(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(e,t)=>{let r=()=>{this.provider.off(tJ.disconnect,r),t(Error("Connection interrupted while trying to subscribe"))};this.provider.on(tJ.disconnect,r),await el(this.provider.connect(),(0,A.toMiliseconds)(A.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(e=>{this.logger.error(e),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){if(this.logger.error(e),this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(e.message))throw e}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await tR())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.trace(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=ed(A.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(tK.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,t,r,n,i;if(X())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e)}}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new tD.r(new tW.Z(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){var c,l;let u;let h=r.split("?"),d=ei(e,t,n),f=(c=h[1]||"",l={auth:i,ua:d,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},u=Y(Y({},u=S.parse(c)),l),c=S.stringify(u));return h[0]+"?"+f}({sdkVersion:tZ,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.debug(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,tk.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:s}=t.data,o={topic:r,message:n,publishedAt:i,transportType:tY.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(nu({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,tk.isJsonRpcResponse)(e)&&this.events.emit(tK.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(tK.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=(0,tk.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(tJ.payload,this.onPayloadHandler),this.provider.off(tJ.connect,this.onConnectHandler),this.provider.off(tJ.disconnect,this.onDisconnectHandler),this.provider.off(tJ.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await tR();!function(e){switch(er()){case Q.browser:!ee()&&et()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)));break;case Q.reactNative:ee()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener(t=>e(t?.isConnected));case Q.node:}}(async t=>{e!==t&&(e=t,t?await this.restartTransport().catch(e=>this.logger.error(e)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(tK.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},(0,A.toMiliseconds)(.1))))}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),this.connected||(this.connectionAttemptInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var nd=Object.defineProperty,nf=Object.getOwnPropertySymbols,np=Object.prototype.hasOwnProperty,ng=Object.prototype.propertyIsEnumerable,ny=(e,t,r)=>t in e?nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nm=(e,t)=>{for(var r in t||(t={}))np.call(t,r)&&ny(e,r,t[r]);if(nf)for(var r of nf(t))ng.call(t,r)&&ny(e,r,t[r]);return e};class nb extends p{constructor(e,t,r,n=tj,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=tj,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{var t;this.getKey&&null!==e&&!tv(e)?this.map.set(this.getKey(e),e):(null==(t=e?.proposer)?void 0:t.publicKey)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>tF()(t[r],e[r]))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=nm(nm({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())},this.logger=(0,a.Ep)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=tg("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=tg("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=tg("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}}class nv{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(i()),this.initialized=!1,this.storagePrefix=tj,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async e=>{this.isInitialized();let t=eZ(),r=await this.core.crypto.setSymKey(t),n=ed(A.FIVE_MINUTES),i={protocol:"irn"},s={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},o=ta({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(t2.create,s),this.core.expirer.set(r,n),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:e?.transportType}),{topic:r,uri:o}},this.pair=async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[t9.pairing_started]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:s,expiryTimestamp:o,methods:a}=to(e.uri);if(r.props.properties.topic=n,r.addTrace(t9.pairing_uri_validation_success),r.addTrace(t9.pairing_uri_not_expired),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace(t9.existing_pairing),t.active)throw r.setError(t7.active_pairing_already_exists),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace(t9.pairing_not_expired)}let c=o||ed(A.FIVE_MINUTES),l={topic:n,relay:s,expiry:c,active:!1,methods:a};this.core.expirer.set(n,c),await this.pairings.set(n,l),r.addTrace(t9.store_new_pairing),e.activatePairing&&await this.activate({topic:n}),this.events.emit(t2.create,l),r.addTrace(t9.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace(t9.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(t7.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:s})}catch(e){throw r.setError(t7.subscribe_pairing_topic_failure),e}return r.addTrace(t9.subscribe_pairing_topic_success),l},this.activate=async({topic:e})=>{this.isInitialized();let t=ed(A.THIRTY_DAYS);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=ec();this.events.once(ep("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",ty("USER_DISCONNECTED")),await this.deletePairing(t))},this.formatUriFromPairing=e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,s=this.core.crypto.keychain.get(t);return ta({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:n,methods:i})},this.sendRequest=async(e,t,r)=>{let n=(0,tk.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),s=t1[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id},this.sendResult=async(e,t,r)=>{let n=(0,tk.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),s=t1[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)},this.sendError=async(e,t,r)=>{let n=(0,tk.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),s=await this.core.history.get(t,e),o=t1[s.request.method]?t1[s.request.method].res:t1.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,ty("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{let e=this.pairings.getAll().filter(e=>ef(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))},this.onRelayEventRequest=e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(t2.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,tk.isJsonRpcResult)(t)?this.events.emit(ep("pairing_ping",r),{}):(0,tk.isJsonRpcError)(t)&&this.events.emit(ep("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(t2.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=ty("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(ty("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=(e,t)=>{var r;if(!tC(e)){let{message:r}=tg("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(t7.malformed_pairing_uri),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(tw(e,!1)){if(t(e))return!0;let r=eE(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=tg("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(t7.malformed_pairing_uri),Error(r)}let n=to(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=tg("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(t7.malformed_pairing_uri),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=tg("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(t7.malformed_pairing_uri),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,A.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError(t7.pairing_expired);let{message:e}=tg("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}},this.isValidPing=async e=>{if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!tw(e,!1)){let{message:t}=tg("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=tg("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(ef(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=tg("EXPIRED",`pairing topic: ${e}`);throw Error(t)}},this.core=e,this.logger=(0,a.Ep)(t,this.name),this.pairings=new nb(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,a.Fd)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(tK.message,async e=>{let{topic:t,message:r,transportType:n}=e;if(!this.pairings.keys.includes(t)||n===tY.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;let i=await this.core.crypto.decode(t,r);try{(0,tk.isJsonRpcRequest)(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):(0,tk.isJsonRpcResponse)(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(t6.expired,async e=>{let{topic:t}=eh(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(t2.expire,{topic:t}))})}}class nw extends u{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new n.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=tj,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:ed(A.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(t3.created,n)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,tk.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(t3.updated,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(t3.deleted,r))}),this.persist()},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,a.Ep)(t,this.name)}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,tk.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=tg("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(t3.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=tg("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(t3.created,e=>{let t=t3.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(t3.updated,e=>{let t=t3.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(t3.deleted,e=>{let t=t3.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(s.Lx.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,A.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(t3.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}}class nE extends y{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new n.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=tj,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}},this.set=(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(t6.created,{target:r,expiration:n})},this.get=e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(t6.deleted,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,a.Ep)(t,this.name)}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return eu("topic",e);if("number"==typeof e)return eu("id",e);let{message:t}=tg("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(t6.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=tg("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=tg("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,A.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(t6.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(s.Lx.pulse,()=>this.checkExpirations()),this.events.on(t6.created,e=>{let t=t6.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(t6.expired,e=>{let t=t6.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(t6.deleted,e=>{let t=t6.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}}class nA extends m{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,this.name="verify-api",this.verifyUrlV3=t5,this.storagePrefix=tj,this.version=2,this.init=async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,A.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async e=>{if(!et()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,I.getDocument)(),t=this.startAbortTimer(5*A.ONE_SECOND),n=await new Promise((n,s)=>{let o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);let a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});let c=i=>{if(i.data&&"string"==typeof i.data)try{let s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,P.decodeJWT)(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),n(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",n),n}catch(e){this.logger.warn(e)}return""},this.resolve=async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t){this.logger.debug("resolve: attestationId is empty, skipping");return}if(t){if((0,P.decodeJWT)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e){if(!e.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return e}}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)},this.fetchAttestation=async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*A.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0},this.getVerifyUrl=e=>{let t=e||t4;return t8.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${t4}`),t=t4),t},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(A.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}},this.persistPublicKey=async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e},this.validateAttestation=(e,t)=>{let r=function(e,t){let[r,n,i]=e.split("."),s=$.from(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}(i),"base64");if(64!==s.length)throw Error("Invalid signature length");let o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new W.mE().update($.from(c)).digest(),u=new L.ec("p256").keyFromPublic({x:$.from(t.x,"base64").toString("hex"),y:$.from(t.y,"base64").toString("hex")},"hex"),h=$.from(l).toString("hex");if(!u.verify(h,{r:o,s:a}))throw Error("Invalid signature");return(0,P.decodeJWT)(e).payload}(e,t.publicKey),n={hasExpired:(0,A.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}},this.logger=(0,a.Ep)(t,this.name),this.abortController=new AbortController,this.isDevEnv=ew(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,a.Fd)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,A.toMiliseconds)(e))}}class n_ extends b{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})},this.logger=(0,a.Ep)(t,this.context)}}var nP=Object.defineProperty,nT=Object.getOwnPropertySymbols,nI=Object.prototype.hasOwnProperty,nC=Object.prototype.propertyIsEnumerable,nS=(e,t,r)=>t in e?nP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nO=(e,t)=>{for(var r in t||(t={}))nI.call(t,r)&&nS(e,r,t[r]);if(nT)for(var r of nT(t))nC.call(t,r)&&nS(e,r,t[r]);return e};class nx extends v{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,this.context="event-client",this.storagePrefix=tj,this.storageVersion=.1,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!ew())try{let e={eventId:ev(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:ei(this.core.relayer.protocol,this.core.relayer.version,tZ)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}},this.createEvent=e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,s=ev(),o=this.core.projectId||"",a=nO({eventId:s,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,a),this.shouldPersist=!0),a},this.getEvent=e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return nO(nO({},n),this.setMethods(n.eventId))},this.deleteEvent=e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(s.Lx.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,A.fromMiliseconds)(Date.now())-(0,A.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})},this.setMethods=e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}),this.addTrace=(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)},this.setError=(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,nO(nO({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}},this.sendEvent=async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${tZ}${t}`,{method:"POST",body:JSON.stringify(e)})},this.getAppDomain=()=>en().url,this.logger=(0,a.Ep)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var nR=Object.defineProperty,nM=Object.getOwnPropertySymbols,nB=Object.prototype.hasOwnProperty,nN=Object.prototype.propertyIsEnumerable,nD=(e,t,r)=>t in e?nR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nk=(e,t)=>{for(var r in t||(t={}))nB.call(t,r)&&nD(e,r,t[r]);if(nM)for(var r of nM(t))nN.call(t,r)&&nD(e,r,t[r]);return e};class nW extends l{constructor(e){var t;super(e),this.protocol="wc",this.version=2,this.name=tL,this.events=new n.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.dispatchEnvelope=({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:tY.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})},this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||tG,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let r=(0,a.jI)({level:"string"==typeof e?.logger&&e.logger?e.logger:tz.logger}),{logger:i,chunkLoggerController:c}=(0,a.Rt)({opts:r,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=c,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,a.Ep)(i,this.name),this.heartbeat=new s.C$,this.crypto=new r1(this,this.logger,e?.keychain),this.history=new nw(this,this.logger),this.expirer=new nE(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new o.Z(nk(nk({},t$),e?.storageOptions)),this.relayer=new nh({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new nv(this,this.logger),this.verify=new nA(this,this.logger,this.storage),this.echoClient=new n_(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new nx(this,this.logger,e?.telemetryEnabled)}static async init(e){let t=new nW(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,a.Fd)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(tQ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(tQ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}let nU="client",nF=`wc@2:${nU}:`,nL={name:nU,logger:"error"},nj="WALLETCONNECT_DEEPLINK_CHOICE",nz="Proposal expired",n$=A.SEVEN_DAYS,nq={wc_sessionPropose:{req:{ttl:A.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:A.ONE_DAY,prompt:!1,tag:1104},res:{ttl:A.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:A.ONE_DAY,prompt:!1,tag:1106},res:{ttl:A.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:A.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:A.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:A.ONE_DAY,prompt:!1,tag:1112},res:{ttl:A.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:A.ONE_DAY,prompt:!1,tag:1114},res:{ttl:A.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:A.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:A.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:A.FIVE_MINUTES,prompt:!1,tag:1119}}},nV={min:A.FIVE_MINUTES,max:A.SEVEN_DAYS},nH={idle:"IDLE",active:"ACTIVE"},nG=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],nK="wc@1.5:auth:",nJ=`${nK}:PUB_KEY`;var nZ=Object.defineProperty,nY=Object.defineProperties,nQ=Object.getOwnPropertyDescriptors,nX=Object.getOwnPropertySymbols,n0=Object.prototype.hasOwnProperty,n1=Object.prototype.propertyIsEnumerable,n2=(e,t,r)=>t in e?nZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n3=(e,t)=>{for(var r in t||(t={}))n0.call(t,r)&&n2(e,r,t[r]);if(nX)for(var r of nX(t))n1.call(t,r)&&n2(e,r,t[r]);return e},n6=(e,t)=>nY(e,nQ(t));class n4 extends E{constructor(e){super(e),this.name="engine",this.events=new(i()),this.initialized=!1,this.requestQueue={state:nH.idle,queue:[]},this.sessionRequestQueue={state:nH.idle,queue:[]},this.requestQueueDelay=A.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(nq)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,A.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=n6(n3({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,relays:o}=t,a=r,c,l=!1;try{a&&(l=this.client.core.pairing.pairings.get(a).active)}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${a}) failed`),e}if(!a||!l){let{topic:e,uri:t}=await this.client.core.pairing.create();a=e,c=t}if(!a){let{message:e}=tg("NO_MATCHING_KEY",`connect() pairing topic: ${a}`);throw Error(e)}let u=await this.client.core.crypto.generateKeyPair(),h=nq.wc_sessionPropose.req.ttl||A.FIVE_MINUTES,d=ed(h),f=n3({requiredNamespaces:n,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:u,metadata:this.client.metadata},expiryTimestamp:d,pairingTopic:a},s&&{sessionProperties:s}),{reject:p,resolve:g,done:y}=ec(h,nz);this.events.once(ep("session_connect"),async({error:e,session:t})=>{if(e)p(e);else if(t){t.self.publicKey=u;let e=n6(n3({},t),{pairingTopic:f.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,transportType:tY.relay});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),a&&await this.client.core.pairing.updateMetadata({topic:a,metadata:t.peer.metadata}),this.cleanupDuplicatePairings(e),g(e)}});let m=await this.sendRequest({topic:a,method:"wc_sessionPropose",params:f,throwOnFailedPublish:!0});return await this.setProposal(m,n3({id:m},f)),{uri:c,approval:y}},this.pair=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}},this.approve=async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[re.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(rt.no_internet_connection),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(rt.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(rt.session_approve_namespace_validation_failure),e}let{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,sessionConfig:l}=e,u=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:h,proposer:d,requiredNamespaces:f,optionalNamespaces:p}=u,g=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});g||(g=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:re.session_approve_started,properties:{topic:h,trace:[re.session_approve_started,re.session_namespaces_validation_success]}}));let y=await this.client.core.crypto.generateKeyPair(),m=d.publicKey,b=await this.client.core.crypto.generateSharedKey(y,m),v=n3(n3({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:y,metadata:this.client.metadata},expiry:ed(n$)},c&&{sessionProperties:c}),l&&{sessionConfig:l}),w=tY.relay;g.addTrace(re.subscribing_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:w})}catch(e){throw g.setError(rt.subscribe_session_topic_failure),e}g.addTrace(re.subscribe_session_topic_success);let E=n6(n3({},v),{topic:b,requiredNamespaces:f,optionalNamespaces:p,pairingTopic:h,acknowledged:!1,self:v.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:y,transportType:tY.relay});await this.client.session.set(b,E),g.addTrace(re.store_session);try{g.addTrace(re.publishing_session_settle),await this.sendRequest({topic:b,method:"wc_sessionSettle",params:v,throwOnFailedPublish:!0}).catch(e=>{throw g?.setError(rt.session_settle_publish_failure),e}),g.addTrace(re.session_settle_publish_success),g.addTrace(re.publishing_session_approve),await this.sendResult({id:s,topic:h,result:{relay:{protocol:o??"irn"},responderPublicKey:y},throwOnFailedPublish:!0}).catch(e=>{throw g?.setError(rt.session_approve_publish_failure),e}),g.addTrace(re.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(b,ty("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),e}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:d.metadata}),await this.client.proposal.delete(s,ty("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(b,ed(n$)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}},this.reject=async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&(await this.sendError({id:r,topic:t,error:n,rpcOpts:nq.wc_sessionPropose.reject}),await this.client.proposal.delete(r,ty("USER_DISCONNECTED")))},this.update=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:s}=ec(),o=(0,tk.payloadId)(),a=(0,tk.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once(ep("session_update",o),({error:e})=>{e?s(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)}),{acknowledged:n}},this.extend=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,tk.payloadId)(),{done:n,resolve:i,reject:s}=ec();return this.events.once(ep("session_extend",r),({error:e})=>{e?s(e):i()}),await this.setExpiry(t,ed(n$)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:n}},this.request=async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=nq.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(n);s?.transportType===tY.relay&&await this.confirmOnlineStateOrThrow();let o=(0,tk.payloadId)(),a=(0,tk.getBigIntRpcId)().toString(),{done:c,resolve:l,reject:u}=ec(i,"Request expired. Please try again.");this.events.once(ep("session_request",o),({error:e,result:t})=>{e?u(e):l(t)});let h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);return h?(await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:"wc_sessionRequest",params:{request:n6(n3({},r),{expiryTimestamp:ed(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),await c()):await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:"wc_sessionRequest",params:{request:n6(n3({},r),{expiryTimestamp:ed(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(!(null!=(t=s.sessionConfig)&&t.disableDeepLink)){let e=await em(this.client.core.storage,nj);await ey({id:o,topic:n,wcDeepLink:e})}e()}),c()]).then(e=>e[2])},this.respond=async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r,i=this.client.session.get(t);i.transportType===tY.relay&&await this.confirmOnlineStateOrThrow();let s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);(0,tk.isJsonRpcResult)(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:s}):(0,tk.isJsonRpcError)(r)&&await this.sendError({id:n,topic:t,error:r.error,appLink:s}),this.cleanupAfterResponse(e)},this.ping=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,tk.payloadId)(),r=(0,tk.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:s}=ec();this.events.once(ep("session_ping",e),({error:e})=>{e?s(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=(0,tk.getBigIntRpcId)().toString();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i})},this.disconnect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:ty("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=tg("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),s=!0;return!!es(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:o}=e.namespaces[t],a=tl(n),c=r[t];es(V(t,c),a)&&es(c.methods,i)&&es(c.events,o)||(s=!1)}),s)})(t,e))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(e,t)=>{var r,n,i;let s;this.isInitialized(),this.isValidAuthenticate(e);let o=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),a=o?tY.link_mode:tY.relay;a===tY.relay&&await this.confirmOnlineStateOrThrow();let{chains:c,statement:l="",uri:u,domain:h,nonce:d,type:f,exp:p,nbf:g,methods:y=[],expiry:m}=e,b=[...e.resources||[]],{topic:v,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:w}});let E=await this.client.core.crypto.generateKeyPair(),A=eY(E);if(await Promise.all([this.client.auth.authKeys.set(nJ,{responseTopic:A,publicKey:E}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:v})]),await this.client.core.relayer.subscribe(A,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${v}`),y.length>0){let{namespace:e}=q(c[0]),t=eL(function(e,t,r,n={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,n)}}}(e,"request",y));eq(b)&&(n=t,i=b.pop(),t=eL(function(e,t){eF(e),eF(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),n={att:{}};return r.forEach(r=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[r])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[r])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;n.att[r]=eM(eR({},n.att[r]),{[i]:(null==(s=e.att[r])?void 0:s[i])||(null==(o=t.att[r])?void 0:o[i])})})}),n}(ej(n),ej(i)))),b.push(t)}let _=m&&m>nq.wc_sessionAuthenticate.req.ttl?m:nq.wc_sessionAuthenticate.req.ttl,P={authPayload:{type:f??"caip122",chains:c,statement:l,aud:u,domain:h,version:"1",nonce:d,iat:new Date().toISOString(),exp:p,nbf:g,resources:b},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:ed(_)},T={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:c,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:ed(nq.wc_sessionPropose.req.ttl)},{done:I,resolve:C,reject:S}=ec(_,"Request expired"),O=async({error:e,session:t})=>{if(this.events.off(ep("session_request",R),x),e)S(e);else if(t){t.self.publicKey=E,await this.client.session.set(t.topic,t),await this.setExpiry(t.topic,t.expiry),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:t.peer.metadata});let e=this.client.session.get(t.topic);await this.deleteProposal(M),C({session:e})}},x=async e=>{var r,n,i;let s;if(await this.deletePendingAuthRequest(R,{message:"fulfilled",code:0}),e.error){let t=ty("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(ep("session_connect"),O),S(e.error.message))}await this.deleteProposal(M),this.events.off(ep("session_connect"),O);let{cacaos:o,responder:c}=e.result,l=[],u=[];for(let e of o){await eW({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),S(ty("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=eq(t.resources),n=[eD(t.iss)],i=ek(t.iss);if(r){let e=ez(r),t=e$(r);l.push(...e),n.push(...t)}for(let e of n)u.push(`${e}:${i}`)}let h=await this.client.core.crypto.generateSharedKey(E,c.publicKey);l.length>0&&(s={topic:h,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:c,controller:c.publicKey,expiry:ed(n$),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:td([...new Set(l)],[...new Set(u)]),transportType:a},await this.client.core.relayer.subscribe(h,{transportType:a}),await this.client.session.set(h,s),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:c.metadata}),s=this.client.session.get(h)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=c.metadata.redirect)&&n.linkMode&&null!=(i=c.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.session.update(h,{transportType:tY.link_mode})),C({auths:o,session:s})},R=(0,tk.payloadId)(),M=(0,tk.payloadId)();this.events.once(ep("session_connect"),O),this.events.once(ep("session_request",R),x);try{if(o){let e=(0,tk.formatJsonRpcRequest)("wc_sessionAuthenticate",P,R);this.client.core.history.set(v,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:eK});s=tc(t,v,r)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:P,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:R}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:T,expiry:nq.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M})])}catch(e){throw this.events.off(ep("session_connect"),O),this.events.off(ep("session_request",R),x),e}return await this.setProposal(M,n3({id:M},T)),await this.setAuthRequest(R,{request:n6(n3({},P),{verifyContext:{}}),pairingTopic:v,transportType:a}),{uri:s??w,response:I}},this.approveSessionAuthenticate=async e=>{let t;let{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[rr.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw i.setError(rn.no_internet_connection),e}let s=this.getPendingAuthRequest(r);if(!s)throw i.setError(rn.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${r}`);let o=s.transportType||tY.relay;o===tY.relay&&await this.confirmOnlineStateOrThrow();let a=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),l=eY(a),u={type:1,receiverPublicKey:a,senderPublicKey:c},h=[],d=[];for(let e of n){if(!await eW({cacao:e,projectId:this.client.core.projectId})){i.setError(rn.invalid_cacao);let e=ty("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:l,error:e,encodeOpts:u}),Error(e.message)}i.addTrace(rr.cacaos_verified);let{p:t}=e,n=eq(t.resources),s=[eD(t.iss)],o=ek(t.iss);if(n){let e=ez(n),t=e$(n);h.push(...e),s.push(...t)}for(let e of s)d.push(`${e}:${o}`)}let f=await this.client.core.crypto.generateSharedKey(c,a);if(i.addTrace(rr.create_authenticated_session_topic),h?.length>0){t={topic:f,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:a,metadata:s.requester.metadata},controller:a,expiry:ed(n$),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:td([...new Set(h)],[...new Set(d)]),transportType:o},i.addTrace(rr.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(f,{transportType:o})}catch(e){throw i.setError(rn.subscribe_authenticated_session_topic_failure),e}i.addTrace(rr.subscribe_authenticated_session_topic_success),await this.client.session.set(f,t),i.addTrace(rr.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}i.addTrace(rr.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:r,result:{cacaos:n,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,o)})}catch(e){throw i.setError(rn.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}},this.rejectSessionAuthenticate=async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===tY.relay&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=eY(i);await this.sendError({id:t,topic:o,error:r,encodeOpts:{type:1,receiverPublicKey:i,senderPublicKey:s},rpcOpts:nq.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,ty("USER_DISCONNECTED"))},this.formatAuthMessage=e=>{this.isInitialized();let{request:t,iss:r}=e;return eU(t,r)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)},this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,ty("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(nj).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,ty("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=nH.idle),i&&this.client.events.emit("session_delete",{id:s,topic:r})},this.deleteProposal=async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(rt.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,ty("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")},this.deletePendingSessionRequest=async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=nH.idle,this.client.events.emit("session_request_expire",{id:e}))},this.deletePendingAuthRequest=async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))},this.setProposal=async(e,t)=>{this.client.core.expirer.set(e,ed(nq.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)},this.setAuthRequest=async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=tY.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})},this.setPendingSessionRequest=async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,s=n.request.expiryTimestamp||ed(nq.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})},this.sendRequest=async e=>{let t,n;let{topic:i,method:s,params:o,expiry:a,relayRpcId:c,clientRpcId:l,throwOnFailedPublish:u,appLink:h}=e,d=(0,tk.formatJsonRpcRequest)(s,o,l),f=!!h;try{let e=f?eK:eG;t=await this.client.core.crypto.encode(i,d,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),e}if(nG.includes(s)){let e=eQ(JSON.stringify(d)),r=eQ(t);n=await this.client.core.verify.register({id:r,decryptedId:e})}let p=nq[s].req;if(p.attestation=n,a&&(p.ttl=a),c&&(p.id=c),this.client.core.history.set(i,d),f){let e=tc(h,i,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=nq[s].req;a&&(e.ttl=a),c&&(e.id=c),u?(e.internal=n6(n3({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,t,e)):this.client.core.relayer.publish(i,t,e).catch(e=>this.client.logger.error(e))}return d.id},this.sendResult=async e=>{let t,n;let{id:i,topic:s,result:o,throwOnFailedPublish:a,encodeOpts:c,appLink:l}=e,u=(0,tk.formatJsonRpcResult)(i,o),h=l&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=h?eK:eG;t=await this.client.core.crypto.encode(s,u,n6(n3({},c||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),e}try{n=await this.client.core.history.get(s,i)}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${i}) failed`),e}if(h){let e=tc(l,s,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=nq[n.request.method].res;a?(e.internal=n6(n3({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,t,e)):this.client.core.relayer.publish(s,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(u)},this.sendError=async e=>{let t,n;let{id:i,topic:s,error:o,encodeOpts:a,rpcOpts:c,appLink:l}=e,u=(0,tk.formatJsonRpcError)(i,o),h=l&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=h?eK:eG;t=await this.client.core.crypto.encode(s,u,n6(n3({},a||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),e}try{n=await this.client.core.history.get(s,i)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${s}, ${i}) failed`),e}if(h){let e=tc(l,s,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=c||nq[n.request.method].res;this.client.core.relayer.publish(s,t,e)}await this.client.core.history.resolve(u)},this.cleanup=async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;ef(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{ef(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===nH.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=nH.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=nH.idle},this.processRequest=async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:s}=e,o=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=e=>{let{topic:t}=e,{message:r}=tg("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)},this.shouldIgnorePairingRequest=e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:s,id:o}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});this.isValidConnect(n3({},r.params));let a=s.expiryTimestamp||ed(nq.wc_sessionPropose.req.ttl),c=n3({id:o,pairingTopic:t,expiryTimestamp:a},s);await this.setProposal(o,c);let l=await this.getVerifyContext({attestationId:n,hash:eQ(JSON.stringify(r)),encryptedId:i,metadata:c.proposer.metadata});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(t7.proposal_listener_not_found)),e?.addTrace(t9.emit_session_proposal),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(e){await this.sendError({id:o,topic:t,error:e,rpcOpts:nq.wc_sessionPropose.autoReject}),this.client.logger.error(e)}},this.onSessionProposeResponse=async(e,t,r)=>{let{id:n}=t;if((0,tk.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let s=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});let a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});let c=await this.client.core.crypto.generateSharedKey(o,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:c});let l=await this.client.core.relayer.subscribe(c,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,tk.isJsonRpcError)(t)){await this.client.proposal.delete(n,ty("USER_DISCONNECTED"));let e=ep("session_connect");if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(ep("session_connect"),{error:t.error})}},this.onSessionSettleRequest=async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:s,namespaces:o,sessionProperties:a,sessionConfig:c}=t.params,l=n6(n3(n3({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{sessionConfig:c}),{transportType:tY.relay}),u=ep("session_connect");if(0===this.events.listenerCount(u))throw Error(`emitting ${u} without any listeners 997`);this.events.emit(ep("session_connect"),{session:l}),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{let{id:r}=t;(0,tk.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(ep("session_approve",r),{})):(0,tk.isJsonRpcError)(t)&&(await this.client.session.delete(e,ty("USER_DISCONNECTED")),this.events.emit(ep("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=tN.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.info(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:ty("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(n3({topic:e},r));try{tN.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0})}catch(e){throw tN.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{let{id:r}=t,n=ep("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,tk.isJsonRpcResult)(t)?this.events.emit(ep("session_update",r),{}):(0,tk.isJsonRpcError)(t)&&this.events.emit(ep("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,ed(n$)),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{let{id:r}=t,n=ep("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,tk.isJsonRpcResult)(t)?this.events.emit(ep("session_extend",r),{}):(0,tk.isJsonRpcError)(t)&&this.events.emit(ep("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{let{id:r}=t,n=ep("session_ping",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);setTimeout(()=>{(0,tk.isJsonRpcResult)(t)?this.events.emit(ep("session_ping",r),{}):(0,tk.isJsonRpcError)(t)&&this.events.emit(ep("session_ping",r),{error:t.error})},500)},this.onSessionDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(t=>{this.client.core.relayer.once(tK.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:ty("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}},this.onSessionRequest=async e=>{var t,r,n;let{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(n3({topic:i},u));let e=this.client.session.get(i),s=await this.getVerifyContext({attestationId:o,hash:eQ(JSON.stringify((0,tk.formatJsonRpcRequest)("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c}),h={id:l,topic:i,params:u,verifyContext:s};await this.setPendingSessionRequest(h),c===tY.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(h):(this.addSessionRequestToSessionRequestQueue(h),this.processSessionRequestQueue())}catch(e){await this.sendError({id:l,topic:i,error:e}),this.client.logger.error(e)}},this.onSessionRequestResponse=(e,t)=>{let{id:r}=t,n=ep("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,tk.isJsonRpcResult)(t)?this.events.emit(ep("session_request",r),{result:t.result}):(0,tk.isJsonRpcError)(t)&&this.events.emit(ep("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=tN.get(t);if(i&&this.isRequestOutOfSync(i,r)){this.client.logger.info(`Discarding out of sync request - ${r}`);return}this.isValidEmit(n3({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),tN.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}},this.onSessionAuthenticateResponse=(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,tk.isJsonRpcResult)(t)?this.events.emit(ep("session_request",r),{result:t.result}):(0,tk.isJsonRpcError)(t)&&this.events.emit(ep("session_request",r),{error:t.error})},this.onSessionAuthenticateRequest=async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:s,transportType:o}=e;try{let{requester:e,authPayload:a,expiryTimestamp:c}=n.params,l=await this.getVerifyContext({attestationId:i,hash:eQ(JSON.stringify(n)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:r,id:n.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(n.id,{request:u,pairingTopic:r,transportType:o}),o===tY.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:l})}catch(s){this.client.logger.error(s);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,o);await this.sendError({id:n.id,topic:r,error:s,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:nq.wc_sessionAuthenticate.autoReject,appLink:i})}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=nH.idle,this.processSessionRequestQueue()},(0,A.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=ep("session_request",e.request.id);if(0===this.events.listenerCount(r))throw Error(`emitting ${r} without any listeners`);this.events.emit(ep("session_request",e.request.id),{error:t})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===nH.active){this.client.logger.info("session request queue is already active.");return}let e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=nH.active,this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}},this.emitSessionRequest=e=>{this.client.events.emit("session_request",e)},this.onPairingCreated=e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,tk.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id)})},this.isValidConnect=async e=>{let t;if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,relays:o}=e;if(tv(r)||await this.isValidPairingTopic(r),t=!1,o?o&&tm(o)&&o.length&&o.forEach(e=>{t=tI(e)}):t=!0,!t){let{message:e}=tg("MISSING_OR_INVALID",`connect() relays: ${o}`);throw Error(e)}tv(n)||0===tb(n)||this.validateNamespaces(n,"requiredNamespaces"),tv(i)||0===tb(i)||this.validateNamespaces(i,"optionalNamespaces"),tv(s)||this.validateSessionProps(s,"sessionProperties")},this.validateNamespaces=(e,t)=>{let r=function(e,t,r){let n=null;if(e&&tb(e)){let i;let s=tP(e,t);s&&(n=s);let o=(i=null,Object.entries(e).forEach(([e,n])=>{var s,o;let a;if(i)return;let c=(s=V(e,n),o=`${t} ${r}`,a=null,tm(s)&&s.length?s.forEach(e=>{a||tA(e)||(a=ty("UNSUPPORTED_CHAINS",`${o}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):tA(e)||(a=ty("UNSUPPORTED_CHAINS",`${o}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a);c&&(i=c)}),i);o&&(n=o)}else n=tg("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)},this.isValidApprove=async e=>{if(!tC(e))throw Error(tg("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let s=this.client.proposal.get(t),o=tT(r,"approve()");if(o)throw Error(o.message);let a=tO(s.requiredNamespaces,r,"approve()");if(a)throw Error(a.message);if(!tw(n,!0)){let{message:e}=tg("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}tv(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async e=>{if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!r||"object"!=typeof r||!r.code||!tE(r.code,!1)||!r.message||!tw(r.message,!1)){let{message:e}=tg("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidSessionSettleRequest=e=>{let t;if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:r,controller:n,namespaces:i,expiry:s}=e;if(!tI(r)){let{message:e}=tg("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let o=(t=null,tw(n?.publicKey,!1)||(t=tg("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),t);if(o)throw Error(o.message);let a=tT(i,"onSessionSettleRequest()");if(a)throw Error(a.message);if(ef(s)){let{message:e}=tg("EXPIRED","onSessionSettleRequest()");throw Error(e)}},this.isValidUpdate=async e=>{if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=tT(r,"update()");if(i)throw Error(i.message);let s=tO(n.requiredNamespaces,r,"update()");if(s)throw Error(s.message)},this.isValidExtend=async e=>{if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{var t;if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:r,request:n,chainId:i,expiry:s}=e;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);let{namespaces:o}=this.client.session.get(r);if(!tS(o,i)){let{message:e}=tg("MISSING_OR_INVALID",`request() chainId: ${i}`);throw Error(e)}if(tv(n)||!tw(n.method,!1)){let{message:e}=tg("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw Error(e)}if(!(tw(t=n.method,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{tl(e.accounts).includes(t)&&r.push(...e.methods)}),r})(o,i).includes(t))){let{message:e}=tg("MISSING_OR_INVALID",`request() method: ${n.method}`);throw Error(e)}if(s&&(!tE(s,!1)||!(s<=nV.max)||!(s>=nV.min))){let{message:e}=tg("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${nV.min} and ${nV.max}`);throw Error(e)}},this.isValidRespond=async e=>{var t;if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(tv(n)||tv(n.result)&&tv(n.error)||!tE(n.id,!1)||!tw(n.jsonrpc,!1)){let{message:e}=tg("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}},this.isValidPing=async e=>{if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{var t;if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:r,event:n,chainId:i}=e;await this.isValidSessionTopic(r);let{namespaces:s}=this.client.session.get(r);if(!tS(s,i)){let{message:e}=tg("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(e)}if(tv(n)||!tw(n.name,!1)){let{message:e}=tg("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw Error(e)}if(!(tw(t=n.name,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{tl(e.accounts).includes(t)&&r.push(...e.events)}),r})(s,i).includes(t))){let{message:e}=tg("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw Error(e)}},this.isValidDisconnect=async e=>{if(!tC(e)){let{message:t}=tg("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidAuthenticate=e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!tw(r,!1))throw Error("uri is required parameter");if(!tw(n,!1))throw Error("domain is required parameter");if(!tw(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>q(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:s}=q(t[0]);if("eip155"!==s)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||t4,validation:"UNKNOWN",origin:i.url||""}};try{if(s===tY.link_mode){let e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o},this.validateSessionProps=(e,t)=>{Object.values(e).forEach(e=>{if(!tw(e,!1)){let{message:r}=tg("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw Error(r)}})},this.getPendingAuthRequest=e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0},this.addToRecentlyDeleted=(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=tg("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}},this.isLinkModeEnabled=(e,t)=>{var n,i,s,o,a,c,l,u,h;return!!e&&t===tY.link_mode&&(null==(i=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:i.linkMode)===!0&&(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)!==void 0&&(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)!==""&&(null==(l=e?.redirect)?void 0:l.universal)!==void 0&&(null==(u=e?.redirect)?void 0:u.universal)!==""&&(null==(h=e?.redirect)?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==r.g?void 0:r.g.Linking)},this.getAppLinkIfEnabled=(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0},this.handleLinkModeMessage=({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=eb(e,"topic")||"",r=decodeURIComponent(eb(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:tY.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})},this.registerLinkModeListeners=async()=>{var e;if(ew()||ee()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==r.g?void 0:r.g.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}}isInitialized(){if(!this.initialized){let{message:e}=tg("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(tK.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(nJ)?this.client.auth.authKeys.get(nJ):{responseTopic:void 0,publicKey:void 0},o=await this.client.core.crypto.decode(t,r,{receiverPublicKey:s,encoding:i===tY.link_mode?eK:eG});try{(0,tk.isJsonRpcRequest)(o)?(this.client.core.history.set(t,o),this.onRelayEventRequest({topic:t,payload:o,attestation:n,transportType:i,encryptedId:eQ(r)})):(0,tk.isJsonRpcResponse)(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:t,payload:o,transportType:i}),this.client.core.history.delete(t,o.id)):this.onRelayEventUnknownPayload({topic:t,payload:o,transportType:i})}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(t6.expired,async e=>{let{topic:t,id:r}=eh(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,tg("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,tg("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(t2.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(t2.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!tw(e,!1)){let{message:t}=tg("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=tg("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(ef(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=tg("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!tw(e,!1)){let{message:t}=tg("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=tg("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(ef(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=tg("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=tg("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(tw(e,!1)){let{message:t}=tg("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=tg("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=tg("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=tg("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(ef(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=tg("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class n5 extends nb{constructor(e,t){super(e,t,"proposal",nF),this.core=e,this.logger=t}}class n8 extends nb{constructor(e,t){super(e,t,"session",nF),this.core=e,this.logger=t}}class n9 extends nb{constructor(e,t){super(e,t,"request",nF,e=>e.id),this.core=e,this.logger=t}}class n7 extends nb{constructor(e,t){super(e,t,"authKeys",nK,()=>nJ),this.core=e,this.logger=t}}class ie extends nb{constructor(e,t){super(e,t,"pairingTopics",nK),this.core=e,this.logger=t}}class it extends nb{constructor(e,t){super(e,t,"requests",nK,e=>e.id),this.core=e,this.logger=t}}class ir{constructor(e,t){this.core=e,this.logger=t,this.authKeys=new n7(this.core,this.logger),this.pairingTopics=new ie(this.core,this.logger),this.requests=new it(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class ii extends w{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=nL.name,this.events=new n.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.authenticate=async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}},this.formatAuthMessage=e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}},this.approveSessionAuthenticate=async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}},this.rejectSessionAuthenticate=async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||nL.name,this.metadata=e?.metadata||en(),this.signConfig=e?.signConfig;let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,a.gw)((0,a.jI)({level:e?.logger||nL.logger}));this.core=e?.core||new nW(e),this.logger=(0,a.Ep)(t,this.name),this.session=new n8(this.core,this.logger),this.proposal=new n5(this.core,this.logger),this.pendingRequest=new n9(this.core,this.logger),this.engine=new n4(this),this.auth=new ir(this.core,this.logger)}static async init(e){let t=new ii(e);return await t.initialize(),t}get context(){return(0,a.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var is=r(8946),io=r(5071);let ia="error",ic="wc@2:universal_provider:",il="https://rpc.walletconnect.org/v1/",iu="generic",ih=`${il}bundler`,id="default_chain_changed";var ip=Object.defineProperty,ig=Object.defineProperties,iy=Object.getOwnPropertyDescriptors,im=Object.getOwnPropertySymbols,ib=Object.prototype.hasOwnProperty,iv=Object.prototype.propertyIsEnumerable,iw=(e,t,r)=>t in e?ip(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iE=(e,t)=>{for(var r in t||(t={}))ib.call(t,r)&&iw(e,r,t[r]);if(im)for(var r of im(t))iv.call(t,r)&&iw(e,r,t[r]);return e},iA=(e,t)=>ig(e,iy(t));function i_(e,t,r){var n;let i=q(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${il}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function iP(e){return e.includes(":")?e.split(":")[1]:e}function iT(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function iI(e={},t={}){let r=iC(e),n=iC(t);return(0,is.merge)(r,n)}function iC(e){var t,r,n,i;let s={};if(!tb(e))return s;for(let[o,a]of Object.entries(e)){let e=tu(o)?[o]:a.chains,c=a.methods||[],l=a.events||[],u=a.rpcMap||{},h=th(o);s[h]=iA(iE(iE({},s[h]),a),{chains:eg(e,null==(t=s[h])?void 0:t.chains),methods:eg(c,null==(r=s[h])?void 0:r.methods),events:eg(l,null==(n=s[h])?void 0:n.events),rpcMap:iE(iE({},u),null==(i=s[h])?void 0:i.rpcMap)})}return s}function iS(e){return e.includes(":")?e.split(":")[2]:e}function iO(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],s=n.accounts||[],o=tu(r)?[r]:n.chains?n.chains:iT(n.accounts);t[r]={chains:o,methods:e,events:i,accounts:s}}return t}function ix(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let iR={},iM=e=>iR[e],iB=(e,t)=>{iR[e]=t};class iN{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(id,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=iP(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.Z(r,iM("disableProviderPing")))}}var iD=Object.defineProperty,ik=Object.defineProperties,iW=Object.getOwnPropertyDescriptors,iU=Object.getOwnPropertySymbols,iF=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,ij=(e,t,r)=>t in e?iD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iz=(e,t)=>{for(var r in t||(t={}))iF.call(t,r)&&ij(e,r,t[r]);if(iU)for(var r of iU(t))iL.call(t,r)&&ij(e,r,t[r]);return e},i$=(e,t)=>ik(e,iW(t));class iq{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(id,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||i_(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.k(r,iM("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(iP(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n;let i=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0];if(!i)throw Error("Missing address parameter in `wallet_getCapabilities` request");let s=this.client.session.get(e.topic),o=(null==(n=s?.sessionProperties)?void 0:n.capabilities)||{};if(null!=o&&o[i])return o?.[i];let a=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:i$(iz({},s.sessionProperties||{}),{capabilities:i$(iz({},o||{}),{[i]:a})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return a}async getCallStatus(e){var t,r;let n=this.client.session.get(e.topic),i=null==(t=n.sessionProperties)?void 0:t.bundler_name;if(i){let t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let s=null==(r=n.sessionProperties)?void 0:r.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,tk.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${ih}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}class iV{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(id,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=iP(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.Z(r,iM("disableProviderPing")))}}class iH{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(id,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=iP(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.Z(r,iM("disableProviderPing")))}}class iG{constructor(e){this.name="algorand",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let r=t||i_(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(id,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new tD.r(new io.Z(r,iM("disableProviderPing")))}}class iK{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(id,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),n=iP(t);e[n]=this.createHttpProvider(n,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.Z(r,iM("disableProviderPing")))}}class iJ{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(id,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=iP(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.Z(r,iM("disableProviderPing")))}}class iZ{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(id,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=iP(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.Z(r,iM("disableProviderPing")))}}class iY{constructor(e){this.name="near",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||i_(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(id,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace);return typeof r>"u"?void 0:new tD.r(new io.Z(r,iM("disableProviderPing")))}}class iQ{constructor(e){this.name="tezos",this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||i_(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(id,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace);return typeof r>"u"?void 0:new tD.r(new io.Z(r))}}class iX{constructor(e){this.name=iu,this.namespace=e.namespace,this.events=iM("events"),this.client=iM("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(id,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{let t=q(e);r[`${t.namespace}:${t.reference}`]=this.createHttpProvider(e)}),r}getHttpProvider(e){let t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||i_(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new tD.r(new io.Z(r,iM("disableProviderPing")))}}var i0=Object.defineProperty,i1=Object.defineProperties,i2=Object.getOwnPropertyDescriptors,i3=Object.getOwnPropertySymbols,i6=Object.prototype.hasOwnProperty,i4=Object.prototype.propertyIsEnumerable,i5=(e,t,r)=>t in e?i0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i8=(e,t)=>{for(var r in t||(t={}))i6.call(t,r)&&i5(e,r,t[r]);if(i3)for(var r of i3(t))i4.call(t,r)&&i5(e,r,t[r]);return e},i9=(e,t)=>i1(e,i2(t));class i7{constructor(e){this.events=new(i()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,a.gw)((0,a.jI)({level:e?.logger||ia})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new i7(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:i8({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,(0,tk.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:ty("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=iO(this.session.namespaces);this.namespaces=iI(this.namespaces,e),this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await n().then(e=>{this.session=e;let t=iO(e.namespaces);this.namespaces=iI(this.namespaces,t),this.persist("namespaces",this.namespaces)}).catch(e=>{if(e.message!==nz)throw e;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e),i=this.getProvider(r);i.name===iu?i.setDefaultChain(`${r}:${n}`,t):i.setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(tm(t)){for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await ii.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ia,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>th(e)))];iB("client",this.client),iB("events",this.events),iB("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session),r=iT(t),n=i9(i8({},iI(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new iq({namespace:n});break;case"algorand":this.rpcProviders[e]=new iG({namespace:n});break;case"solana":this.rpcProviders[e]=new iV({namespace:n});break;case"cosmos":this.rpcProviders[e]=new iH({namespace:n});break;case"polkadot":this.rpcProviders[e]=new iN({namespace:n});break;case"cip34":this.rpcProviders[e]=new iK({namespace:n});break;case"elrond":this.rpcProviders[e]=new iJ({namespace:n});break;case"multiversx":this.rpcProviders[e]=new iZ({namespace:n});break;case"near":this.rpcProviders[e]=new iY({namespace:n});break;case"tezos":this.rpcProviders[e]=new iQ({namespace:n});break;default:this.rpcProviders[iu]?this.rpcProviders[iu].updateNamespace(n):this.rpcProviders[iu]=new iX({namespace:n})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:r}=t;if("accountsChanged"===r.name){let e=r.data;e&&tm(e)&&this.events.emit("accountsChanged",e.map(iS))}else if("chainChanged"===r.name){let e=t.chainId,r=t.event.data,n=th(e),i=ix(e)!==ix(r)?`${n}:${ix(r)}`:e;this.onChainChanged(i)}else this.events.emit(r.name,r.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r;let{namespaces:n}=t,i=null==(r=this.client)?void 0:r.session.get(e);this.session=i9(i8({},i),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",i9(i8({},ty("USER_DISCONNECTED")),{data:e.topic}))}),this.on(id,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[iu]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:r,sessionProperties:n}=e;t&&Object.keys(t).length&&(this.namespaces=t),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.persist("namespaces",t),this.persist("optionalNamespaces",r)}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>th(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=th(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){if(!this.namespaces)return;let[r,n]=this.validateChain(e);n&&(t||this.getProvider(r).setDefaultChain(n),this.namespaces[r]?this.namespaces[r].defaultChain=n:this.namespaces[`${r}:${n}`]?this.namespaces[`${r}:${n}`].defaultChain=n:this.namespaces[`${r}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${ic}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${ic}/${e}`)}}},76454:function(e,t){"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},3897:function(e,t,r){"use strict";t.D=void 0;let n=r(76454);t.D=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let s=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),o=i("description","og:description","twitter:description","keywords");return{description:o,url:t.origin,icons:function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e){if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop(),r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}}return n}(),name:s}}},59196:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=c(e),o=s[0],a=s[1],l=new i((o+a)*3/4-a),u=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(function(e,t,n){for(var i,s=[],o=t;o<n;o+=3)s.push(r[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},62113:function(e){"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var i=t.charAt(n);if(void 0!==r[i])throw TypeError(i+" is ambiguous");r[i]=n}function s(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=s(t)^n>>5}for(r=0,t=s(t);r<e.length;++r){var i=e.charCodeAt(r);t=s(t)^31&i}return t}function a(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var a=(e=n).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var c=e.slice(0,a),l=e.slice(a+1);if(l.length<6)return"Data too short";var u=o(c);if("string"==typeof u)return u;for(var h=[],d=0;d<l.length;++d){var f=l.charAt(d),p=r[f];if(void 0===p)return"Unknown character "+f;u=s(u)^p,d+6>=l.length||h.push(p)}return 1!==u?"Invalid checksum for "+e:{prefix:c,words:h}}function c(e,t,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],c=0;c<e.length;++c)for(i=i<<t|e[c],s+=t;s>=r;)a.push(i>>(s-=r)&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=t)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=a.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=a.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw TypeError("Exceeds length limit");var i=o(e=e.toLowerCase());if("string"==typeof i)throw Error(i);for(var a=e+"1",c=0;c<r.length;++c){var l=r[c];if(l>>5!=0)throw Error("Non 5-bit word");i=s(i)^l,a+=t.charAt(l)}for(c=0;c<6;++c)i=s(i);for(i^=1,c=0;c<6;++c){var u=i>>(5-c)*5&31;a+=t.charAt(u)}return a},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}}},44373:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{h="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(46601).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function a(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function c(e,t,r,i){for(var s=0,o=0,a=Math.min(e.length,r),c=t;c<a;c++){var l=e.charCodeAt(c)-48;s*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&o<i,"Invalid character"),s+=o}return s}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return 0>e.cmp(t)?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===r)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=a(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=a(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,l=0,u=r;u<a;u+=n)l=c(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var h=1;for(l=c(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){l(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(e){s.prototype.inspect=u}else s.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h,d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r._strip()}s.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=((a<<i|s)&16777215).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],u=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var g=h.modrn(u).toString(e);r=(h=h.idivn(u)).isZero()?g+r:d[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},h&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(h,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=e.allocUnsafe?e.allocUnsafe(s):new e(s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(n=(0|t.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&n;for(;0!==s&&o<t.length;o++)s=(n=(0|t.words[o])+s)>>26,this.words[o]=67108863&n;if(0===s&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,s,o=e.words,a=t.words,c=r.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,y=0|o[2],m=8191&y,b=y>>>13,v=0|o[3],w=8191&v,E=v>>>13,A=0|o[4],_=8191&A,P=A>>>13,T=0|o[5],I=8191&T,C=T>>>13,S=0|o[6],O=8191&S,x=S>>>13,R=0|o[7],M=8191&R,B=R>>>13,N=0|o[8],D=8191&N,k=N>>>13,W=0|o[9],U=8191&W,F=W>>>13,L=0|a[0],j=8191&L,z=L>>>13,$=0|a[1],q=8191&$,V=$>>>13,H=0|a[2],G=8191&H,K=H>>>13,J=0|a[3],Z=8191&J,Y=J>>>13,Q=0|a[4],X=8191&Q,ee=Q>>>13,et=0|a[5],er=8191&et,en=et>>>13,ei=0|a[6],es=8191&ei,eo=ei>>>13,ea=0|a[7],ec=8191&ea,el=ea>>>13,eu=0|a[8],eh=8191&eu,ed=eu>>>13,ef=0|a[9],ep=8191&ef,eg=ef>>>13;r.negative=e.negative^t.negative,r.length=19;var ey=(l+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var em=(l+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,V)|0)+(i>>>13)|0)+(em>>>26)|0,em&=67108863,n=Math.imul(m,j),i=(i=Math.imul(m,z))+Math.imul(b,j)|0,s=Math.imul(b,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,s=s+Math.imul(g,V)|0;var eb=(l+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(E,j)|0,s=Math.imul(E,z),n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(b,q)|0,s=s+Math.imul(b,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,K)|0;var ev=(l+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,Y)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(P,j)|0,s=Math.imul(P,z),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(E,q)|0,s=s+Math.imul(E,V)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,Y)|0;var ew=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,z))+Math.imul(C,j)|0,s=Math.imul(C,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,K)|0,n=n+Math.imul(m,Z)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Y)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,ee)|0;var eE=(l+(n=n+Math.imul(h,er)|0)|0)+((8191&(i=(i=i+Math.imul(h,en)|0)+Math.imul(d,er)|0))<<13)|0;l=((s=s+Math.imul(d,en)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,z))+Math.imul(x,j)|0,s=Math.imul(x,z),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,q)|0,s=s+Math.imul(C,V)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(P,G)|0,s=s+Math.imul(P,K)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,Y)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(g,er)|0,s=s+Math.imul(g,en)|0;var eA=(l+(n=n+Math.imul(h,es)|0)|0)+((8191&(i=(i=i+Math.imul(h,eo)|0)+Math.imul(d,es)|0))<<13)|0;l=((s=s+Math.imul(d,eo)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(B,j)|0,s=Math.imul(B,z),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(C,G)|0,s=s+Math.imul(C,K)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,Y)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(m,er)|0,i=(i=i+Math.imul(m,en)|0)+Math.imul(b,er)|0,s=s+Math.imul(b,en)|0,n=n+Math.imul(p,es)|0,i=(i=i+Math.imul(p,eo)|0)+Math.imul(g,es)|0,s=s+Math.imul(g,eo)|0;var e_=(l+(n=n+Math.imul(h,ec)|0)|0)+((8191&(i=(i=i+Math.imul(h,el)|0)+Math.imul(d,ec)|0))<<13)|0;l=((s=s+Math.imul(d,el)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,V)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,Y)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,ee)|0,n=n+Math.imul(w,er)|0,i=(i=i+Math.imul(w,en)|0)+Math.imul(E,er)|0,s=s+Math.imul(E,en)|0,n=n+Math.imul(m,es)|0,i=(i=i+Math.imul(m,eo)|0)+Math.imul(b,es)|0,s=s+Math.imul(b,eo)|0,n=n+Math.imul(p,ec)|0,i=(i=i+Math.imul(p,el)|0)+Math.imul(g,ec)|0,s=s+Math.imul(g,el)|0;var eP=(l+(n=n+Math.imul(h,eh)|0)|0)+((8191&(i=(i=i+Math.imul(h,ed)|0)+Math.imul(d,eh)|0))<<13)|0;l=((s=s+Math.imul(d,ed)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(D,q)|0,i=(i=i+Math.imul(D,V)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,V)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,K)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,Y)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,ee)|0,n=n+Math.imul(_,er)|0,i=(i=i+Math.imul(_,en)|0)+Math.imul(P,er)|0,s=s+Math.imul(P,en)|0,n=n+Math.imul(w,es)|0,i=(i=i+Math.imul(w,eo)|0)+Math.imul(E,es)|0,s=s+Math.imul(E,eo)|0,n=n+Math.imul(m,ec)|0,i=(i=i+Math.imul(m,el)|0)+Math.imul(b,ec)|0,s=s+Math.imul(b,el)|0,n=n+Math.imul(p,eh)|0,i=(i=i+Math.imul(p,ed)|0)+Math.imul(g,eh)|0,s=s+Math.imul(g,ed)|0;var eT=(l+(n=n+Math.imul(h,ep)|0)|0)+((8191&(i=(i=i+Math.imul(h,eg)|0)+Math.imul(d,ep)|0))<<13)|0;l=((s=s+Math.imul(d,eg)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,V))+Math.imul(F,q)|0,s=Math.imul(F,V),n=n+Math.imul(D,G)|0,i=(i=i+Math.imul(D,K)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Y)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,ee)|0,n=n+Math.imul(I,er)|0,i=(i=i+Math.imul(I,en)|0)+Math.imul(C,er)|0,s=s+Math.imul(C,en)|0,n=n+Math.imul(_,es)|0,i=(i=i+Math.imul(_,eo)|0)+Math.imul(P,es)|0,s=s+Math.imul(P,eo)|0,n=n+Math.imul(w,ec)|0,i=(i=i+Math.imul(w,el)|0)+Math.imul(E,ec)|0,s=s+Math.imul(E,el)|0,n=n+Math.imul(m,eh)|0,i=(i=i+Math.imul(m,ed)|0)+Math.imul(b,eh)|0,s=s+Math.imul(b,ed)|0;var eI=(l+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,eg)|0)+Math.imul(g,ep)|0))<<13)|0;l=((s=s+Math.imul(g,eg)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,K))+Math.imul(F,G)|0,s=Math.imul(F,K),n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(O,er)|0,i=(i=i+Math.imul(O,en)|0)+Math.imul(x,er)|0,s=s+Math.imul(x,en)|0,n=n+Math.imul(I,es)|0,i=(i=i+Math.imul(I,eo)|0)+Math.imul(C,es)|0,s=s+Math.imul(C,eo)|0,n=n+Math.imul(_,ec)|0,i=(i=i+Math.imul(_,el)|0)+Math.imul(P,ec)|0,s=s+Math.imul(P,el)|0,n=n+Math.imul(w,eh)|0,i=(i=i+Math.imul(w,ed)|0)+Math.imul(E,eh)|0,s=s+Math.imul(E,ed)|0;var eC=(l+(n=n+Math.imul(m,ep)|0)|0)+((8191&(i=(i=i+Math.imul(m,eg)|0)+Math.imul(b,ep)|0))<<13)|0;l=((s=s+Math.imul(b,eg)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,Y))+Math.imul(F,Z)|0,s=Math.imul(F,Y),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(M,er)|0,i=(i=i+Math.imul(M,en)|0)+Math.imul(B,er)|0,s=s+Math.imul(B,en)|0,n=n+Math.imul(O,es)|0,i=(i=i+Math.imul(O,eo)|0)+Math.imul(x,es)|0,s=s+Math.imul(x,eo)|0,n=n+Math.imul(I,ec)|0,i=(i=i+Math.imul(I,el)|0)+Math.imul(C,ec)|0,s=s+Math.imul(C,el)|0,n=n+Math.imul(_,eh)|0,i=(i=i+Math.imul(_,ed)|0)+Math.imul(P,eh)|0,s=s+Math.imul(P,ed)|0;var eS=(l+(n=n+Math.imul(w,ep)|0)|0)+((8191&(i=(i=i+Math.imul(w,eg)|0)+Math.imul(E,ep)|0))<<13)|0;l=((s=s+Math.imul(E,eg)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,ee))+Math.imul(F,X)|0,s=Math.imul(F,ee),n=n+Math.imul(D,er)|0,i=(i=i+Math.imul(D,en)|0)+Math.imul(k,er)|0,s=s+Math.imul(k,en)|0,n=n+Math.imul(M,es)|0,i=(i=i+Math.imul(M,eo)|0)+Math.imul(B,es)|0,s=s+Math.imul(B,eo)|0,n=n+Math.imul(O,ec)|0,i=(i=i+Math.imul(O,el)|0)+Math.imul(x,ec)|0,s=s+Math.imul(x,el)|0,n=n+Math.imul(I,eh)|0,i=(i=i+Math.imul(I,ed)|0)+Math.imul(C,eh)|0,s=s+Math.imul(C,ed)|0;var eO=(l+(n=n+Math.imul(_,ep)|0)|0)+((8191&(i=(i=i+Math.imul(_,eg)|0)+Math.imul(P,ep)|0))<<13)|0;l=((s=s+Math.imul(P,eg)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(U,er),i=(i=Math.imul(U,en))+Math.imul(F,er)|0,s=Math.imul(F,en),n=n+Math.imul(D,es)|0,i=(i=i+Math.imul(D,eo)|0)+Math.imul(k,es)|0,s=s+Math.imul(k,eo)|0,n=n+Math.imul(M,ec)|0,i=(i=i+Math.imul(M,el)|0)+Math.imul(B,ec)|0,s=s+Math.imul(B,el)|0,n=n+Math.imul(O,eh)|0,i=(i=i+Math.imul(O,ed)|0)+Math.imul(x,eh)|0,s=s+Math.imul(x,ed)|0;var ex=(l+(n=n+Math.imul(I,ep)|0)|0)+((8191&(i=(i=i+Math.imul(I,eg)|0)+Math.imul(C,ep)|0))<<13)|0;l=((s=s+Math.imul(C,eg)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(U,es),i=(i=Math.imul(U,eo))+Math.imul(F,es)|0,s=Math.imul(F,eo),n=n+Math.imul(D,ec)|0,i=(i=i+Math.imul(D,el)|0)+Math.imul(k,ec)|0,s=s+Math.imul(k,el)|0,n=n+Math.imul(M,eh)|0,i=(i=i+Math.imul(M,ed)|0)+Math.imul(B,eh)|0,s=s+Math.imul(B,ed)|0;var eR=(l+(n=n+Math.imul(O,ep)|0)|0)+((8191&(i=(i=i+Math.imul(O,eg)|0)+Math.imul(x,ep)|0))<<13)|0;l=((s=s+Math.imul(x,eg)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863,n=Math.imul(U,ec),i=(i=Math.imul(U,el))+Math.imul(F,ec)|0,s=Math.imul(F,el),n=n+Math.imul(D,eh)|0,i=(i=i+Math.imul(D,ed)|0)+Math.imul(k,eh)|0,s=s+Math.imul(k,ed)|0;var eM=(l+(n=n+Math.imul(M,ep)|0)|0)+((8191&(i=(i=i+Math.imul(M,eg)|0)+Math.imul(B,ep)|0))<<13)|0;l=((s=s+Math.imul(B,eg)|0)+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863,n=Math.imul(U,eh),i=(i=Math.imul(U,ed))+Math.imul(F,eh)|0,s=Math.imul(F,ed);var eB=(l+(n=n+Math.imul(D,ep)|0)|0)+((8191&(i=(i=i+Math.imul(D,eg)|0)+Math.imul(k,ep)|0))<<13)|0;l=((s=s+Math.imul(k,eg)|0)+(i>>>13)|0)+(eB>>>26)|0,eB&=67108863;var eN=(l+(n=Math.imul(U,ep))|0)+((8191&(i=(i=Math.imul(U,eg))+Math.imul(F,ep)|0))<<13)|0;return l=((s=Math.imul(F,eg))+(i>>>13)|0)+(eN>>>26)|0,eN&=67108863,c[0]=ey,c[1]=em,c[2]=eb,c[3]=ev,c[4]=ew,c[5]=eE,c[6]=eA,c[7]=e_,c[8]=eP,c[9]=eT,c[10]=eI,c[11]=eC,c[12]=eS,c[13]=eO,c[14]=ex,c[15]=eR,c[16]=eM,c[17]=eB,c[18]=eN,0!==l&&(c[19]=l,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,h=(0|e.words[u])*(0|t.words[l]),d=67108863&h;o=o+(h/67108864|0)|0,a=67108863&(d=d+a|0),i+=(o=o+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function b(e,t){this.x=e,this.y=t}Math.imul||(y=g),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):n<63?g(this,e,t):m(this,e,t)},b.prototype.makeRBT=function(e){for(var t=Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},b.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var h=c,d=l,f=0;f<o;f++){var p=r[u+f],g=n[u+f],y=r[u+f+o],m=n[u+f+o],b=h*y-d*m;m=h*m+d*y,y=b,r[u+f]=p+y,n[u+f]=g+m,r[u+f+o]=p-y,n[u+f+o]=g-m,f!==a&&(b=c*h-l*d,d=c*d+l*h,h=b)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n((-8192&s)==0)},b.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=Array(n),a=Array(n),c=Array(n),l=Array(n),u=Array(n),h=Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,l,n),this.transform(o,s,a,c,n,i),this.transform(l,s,u,h,n,i);for(var f=0;f<n;f++){var p=a[f]*u[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&r);r>>=26,r+=(s/67108864|0)+(o>>>26),this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s;if(i-=o,i=Math.max(0,i),r){for(var c=0;c<o;c++)r.words[c]=this.words[c];r.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var u=0|this.words[c];this.words[c]=l<<26-s|u>>>s,l=u&a}return r&&0!==l&&(r.words[r.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;s-=67108863&c,a=(s>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),o=e,a=0|o.words[o.length-1];0!=(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var c=i.length-o.length;if("mod"!==t){(r=new s(null)).length=c+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var u=i.clone()._ishlnsubmul(o,1,c);0===u.negative&&(i=u,r&&(r.words[c]=1));for(var h=c-1;h>=0;h--){var d=(0|i.words[o.length+h])*67108864+(0|i.words[o.length+h-1]);for(d=Math.min(d/a|0,67108863),i._ishlnsubmul(o,d,h);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);r&&(r.words[h]=d)}return r&&r._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},s.prototype.divmod=function(e,t,r){var i,o,a;return(n(!e.isZero()),this.isZero())?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t)},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;(t.words[0]&f)==0&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;(r.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(c)):(r.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(l)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var o=new s(1),a=new s(0),c=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,u=1;(r.words[0]&u)==0&&l<26;++l,u<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;(i.words[0]&d)==0&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);r.cmp(i)>=0?(r.isub(i),o.isub(a)):(i.isub(r),a.isub(o))}return 0>(t=0===r.cmpn(1)?o:a).cmpn(0)&&t.iadd(e),t},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return -1===this.cmpn(e)},s.prototype.lt=function(e){return -1===this.cmp(e)},s.prototype.lten=function(e){return 0>=this.cmpn(e)},s.prototype.lte=function(e){return 0>=this.cmp(e)},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new T(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){T.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new s(null);return e.words=Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(E,w),E.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(A,w),i(_,w),i(P,w),P.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){var t;if(v[e])return v[e];if("k256"===e)t=new E;else if("p224"===e)t=new A;else if("p192"===e)t=new _;else if("p25519"===e)t=new P;else throw Error("Unknown prime "+e);return v[e]=t,t},T.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},T.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},T.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},T.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},T.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},T.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},T.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},T.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var g=f,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(h,new s(1).iushln(p-y-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=y}return d},T.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},T.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var h=l>>u&1;if(i!==r[0]&&(i=this.sqr(i)),0===h&&0===o){a=0;continue}o<<=1,o|=h,(4==++a||0===n&&0===u)&&(i=this.mul(i,r[o]),a=0,o=0)}c=26}return i},T.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},T.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new I(e)},i(I,T),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},47223:function(e,t,r){var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw Error("Not implemented yet")});else try{var s=r(89214);if("function"!=typeof s.randomBytes)throw Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},82957:function(e,t,r){"use strict";let n=r(59196),i=r(68848),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=o(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){let t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);let i=function(e){var t;if(a.isBuffer(e)){let t=0|f(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),o(e<0?0:0|f(e))}function h(e){let t=e.length<0?0:0|f(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function f(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=U[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var s,o;return s=t,o=r,0===s&&o===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(s=r=+r)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else -1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(l(e,s+n)!==l(t,n)){r=!1;break}if(r)return s}return -1}function v(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(c=(31&t)<<6|63&r)>127&&(s=c);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(c=(15&t)<<12|(63&r)<<6|63&n)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&c<1114112&&(s=c)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function A(e,t,r,n,i){x(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function _(e,t,r,n,i){x(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function P(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function T(e,t,r,n,s){return t=+t,r>>>=0,s||P(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function I(e,t,r,n,s){return t=+t,r>>>=0,s||P(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.lW=a,t.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(l(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(W(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(W(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(W(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,o=r-t,c=Math.min(s,o),l=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<c;++e)if(l[e]!==u[e]){s=l[e],o=u[e];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,s,o,a,c,l,u,h;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let o=t.length;for(n>o/2&&(n=o/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,k(N(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return o=t,a=r,k(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,a);case"base64":return c=t,l=r,k(D(e),this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,h=r,k(function(e,t){let r,n;let i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-u),this,u,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=F(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&M(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=F(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&M(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=F(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&M(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),a.prototype.readBigInt64BE=F(function(e){R(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&M(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;E(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;E(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=F(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=F(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);E(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);E(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=F(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=F(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return T(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return T(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return I(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return I(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=a.isBuffer(e)?e:a.from(e,n),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};let C={};function S(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function O(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function x(e,t,r,n,i,s){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new C.ERR_OUT_OF_RANGE("value",n,e)}R(i,"offset"),(void 0===n[i]||void 0===n[i+s])&&M(i,n.length-(s+1))}function R(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function M(e,t,r){if(Math.floor(e)!==e)throw R(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}S("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),S("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),S("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=O(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=O(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let B=/[^+/0-9A-Za-z-_]/g;function N(e,t){let r;t=t||1/0;let n=e.length,i=null,s=[];for(let o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function D(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function k(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let U=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function F(e){return"undefined"==typeof BigInt?L:e}function L(){throw Error("BigInt not supported")}},80751:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){var t={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,n=l(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=o(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),p.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];m.redirect=function(e,t){if(-1===b.indexOf(t))throw RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function v(r,n){return new Promise(function(i,s){var o=new g(r,n);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL"),i(new m("response"in a?a.response:a.responseText,r))},a.onerror=function(){s(TypeError("Network request failed"))},a.ontimeout=function(){s(TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",l)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}v.polyfill=!0,n.fetch||(n.fetch=v,n.Headers=c,n.Request=g,n.Response=m),e.Headers=c,e.Request=g,e.Response=m,e.fetch=v,Object.defineProperty(e,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},89445:function(e){"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},i=n.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var s=function(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),i=t.slice(r);return Array.prototype.concat.call([],e(n),e(i))})(t,n).join("")).match(r)||[];return e}}(i[0]);s!==i[0]&&(t[i[0]]=s)}i=n.exec(e)}t["%C2"]="";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(RegExp(c,"g"),t[c])}return e}(e)}}},65383:function(e,t,r){"use strict";r.d(t,{qY:function(){return f}});var n=r(25566),i=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},a=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==n&&n.version?new o(n.version.slice(1)):null}function p(e){var t=""!==e&&h.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new c;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=i(i([],o,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-o.length),!0)):o=[];var l=o.join("."),f=function(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}(e),p=u.exec(e);return p&&p[1]?new a(r,l,f,p[1]):new s(r,l,f)}},61984:function(e,t,r){"use strict";t.version=r(58274).i8,t.utils=r(36321),t.rand=r(47223),t.curve=r(64358),t.curves=r(83475),t.ec=r(90063),t.eddsa=r(37115)},21398:function(e,t,r){"use strict";var n=r(21803),i=r(36321),s=i.getNAF,o=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw Error("Not implemented")},c.prototype.validate=function(){throw Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r,n,i=e._getDoubles(),o=s(t,1,this._bitLength),c=(1<<i.step+1)-(i.step%2==0?2:1);c/=3;var l=[];for(r=0;r<o.length;r+=i.step){n=0;for(var u=r+i.step-1;u>=r;u--)n=(n<<1)+o[u];l.push(n)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=c;f>0;f--){for(r=0;r<l.length;r++)(n=l[r])===f?d=d.mixedAdd(i.points[r]):n===-f&&(d=d.mixedAdd(i.points[r].neg()));h=h.add(d)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(t,r,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var h=o[l];a(0!==h),c="affine"===e.type?h>0?c.mixedAdd(i[h-1>>1]):c.mixedAdd(i[-h-1>>1].neg()):h>0?c.add(i[h-1>>1]):c.add(i[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,l,u=this._wnafT1,h=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<n;a++){var p=(l=t[a])._getNAFPoints(e);u[a]=p.wnd,h[a]=p.points}for(a=n-1;a>=1;a-=2){var g=a-1,y=a;if(1!==u[g]||1!==u[y]){d[g]=s(r[g],u[g],this._bitLength),d[y]=s(r[y],u[y],this._bitLength),f=Math.max(d[g].length,f),f=Math.max(d[y].length,f);continue}var m=[t[g],null,null,t[y]];0===t[g].y.cmp(t[y].y)?(m[1]=t[g].add(t[y]),m[2]=t[g].toJ().mixedAdd(t[y].neg())):0===t[g].y.cmp(t[y].y.redNeg())?(m[1]=t[g].toJ().mixedAdd(t[y]),m[2]=t[g].add(t[y].neg())):(m[1]=t[g].toJ().mixedAdd(t[y]),m[2]=t[g].toJ().mixedAdd(t[y].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[g],r[y]);for(c=0,f=Math.max(v[0].length,f),d[g]=Array(f),d[y]=Array(f);c<f;c++){var w=0|v[0][c],E=0|v[1][c];d[g][c]=b[(w+1)*3+(E+1)],d[y][c]=0,h[g]=m}}var A=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var P=0;a>=0;){var T=!0;for(c=0;c<n;c++)_[c]=0|d[c][a],0!==_[c]&&(T=!1);if(!T)break;P++,a--}if(a>=0&&P++,A=A.dblp(P),a<0)break;for(c=0;c<n;c++){var I=_[c];0!==I&&(I>0?l=h[c][I-1>>1]:I<0&&(l=h[c][-I-1>>1].neg()),A="affine"===l.type?A.mixedAdd(l):A.add(l))}}for(a=0;a<n;a++)h[a]=null;return i?A:A.toP()},c.BasePoint=l,l.prototype.eq=function(){throw Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},98343:function(e,t,r){"use strict";var n=r(36321),i=r(21803),s=r(56853),o=r(21398),a=n.assert;function c(e){this.twisted=(0|e.a)!=1,this.mOneA=this.twisted&&(0|e.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|e.c)==1}function l(e,t,r,n,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,!this.curve.extended||this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(!t)return this.point(this.zero,e);throw Error("invalid point")}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new l(this,e,t,r,n)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(r),a=n.redSub(t),c=i.redMul(o),l=s.redMul(a),u=i.redMul(a),h=o.redMul(s);return this.curve.point(c,l,h,u)},l.prototype._projDbl=function(){var e,t,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(n.redSub(c)),r=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),s=l.redSub(i).redISub(i),e=o.redSub(a).redISub(c).redMul(s),t=l.redMul(n.redSub(c)),r=l.redMul(s))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(n)).redMul(s),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(s);return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),l=s.redMul(o),u=a.redMul(c),h=s.redMul(c),d=o.redMul(a);return this.curve.point(l,u,d,h)},l.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),l=i.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=n.redMul(c).redMul(u);return this.curve.twisted?(t=n.redMul(l).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(l)):(t=n.redMul(l).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(l)),this.curve.point(h,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},64358:function(e,t,r){"use strict";t.base=r(21398),t.short=r(13770),t.mont=r(75656),t.edwards=r(98343)},75656:function(e,t,r){"use strict";var n=r(21803),i=r(56853),s=r(21398),o=r(36321);function a(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=i.redMul(n),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},13770:function(e,t,r){"use strict";var n=r(36321),i=r(21803),s=r(56853),o=r(21398),a=n.assert;function c(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function l(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var t,r,n,s=this._getEndoRoots(this.p);t=(t=0>s[0].cmp(s[1])?s[0]:s[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,s,o,a,c,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new i(1),g=new i(0),y=new i(0),m=new i(1),b=0;0!==d.cmpn(0);){var v=f.div(d);l=f.sub(v.mul(d)),u=y.sub(v.mul(p));var w=m.sub(v.mul(g));if(!n&&0>l.cmp(h))t=c.neg(),r=p,n=l.neg(),s=u;else if(n&&2==++b)break;c=l,f=d,d=l,y=p,p=u,m=g,g=w}o=l.neg(),a=u;var E=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(E)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),l=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,n,i,2*s,r),u=0;u<2*s;u++)n[u]=null,i[u]=null;return l},s(l,o.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return(e=new i(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},l.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),h=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(h)).redISub(i.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},u.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),y=p.redISub(g),m=f.redMul(y);m=m.redIAdd(m).redISub(d);var b=l.redMul(a);t+1<e&&(c=c.redMul(d)),s=g,a=b,l=m}return this.curve.jpoint(s,l.redMul(i),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var y=h.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=f.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(a).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},u.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},83475:function(e,t,r){"use strict";var n,i=r(28714),s=r(64358),o=r(36321).assert;function a(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=a,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(36113)}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},90063:function(e,t,r){"use strict";var n=r(21803),i=r(28072),s=r(36321),o=r(83475),a=r(47223),c=s.assert,l=r(61258),u=r(90362);function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(t.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(e,t,r){if(n.isBN(e)||"number"==typeof e)i=(e=new n(e,16)).byteLength();else if("object"==typeof e)i=e.length,e=new n(e,16);else{var i,s=e.toString();i=s.length+1>>>1,e=new n(s,16)}"number"!=typeof r&&(r=8*i);var o=r-this.n.bitLength();return(o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},h.prototype.sign=function(e,t,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,s.msgBitLength);for(var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o),l=new i({hash:this.hash,entropy:a,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new n(1)),d=0;;d++){var f=s.k?s.k(d):new n(l.generate(this.n.byteLength()));if(!(0>=(f=this._truncateToN(f,!0)).cmpn(1)||f.cmp(h)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var g=p.getX(),y=g.umod(this.n);if(0!==y.cmpn(0)){var m=f.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==g.cmp(y)?2:0);return s.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),b^=1),new u({r:y,s:m,recoveryParam:b})}}}}}},h.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var s,o=(t=new u(t,"hex")).r,a=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>a.cmpn(1)||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),h)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,r.getPublic(),h)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,i);var s=this.n,o=new n(e),a=t.r,l=t.s,h=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),g=l.mul(f).umod(s);return this.g.mulAdd(p,a,g)},h.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new u(t,n)).recoveryParam)return t.recoveryParam;for(var i,s=0;s<4;s++){try{i=this.recoverPubKey(e,t,s)}catch(e){continue}if(i.eq(r))return s}throw Error("Unable to find valid recovery factor")}},61258:function(e,t,r){"use strict";var n=r(21803),i=r(36321).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&i(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90362:function(e,t,r){"use strict";var n=r(21803),i=r(36321),s=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4||0===e[t.place])return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}e.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s||s+r.place!==e.length||2!==e[r.place++])return!1;var o=c(e,r);if(!1===o||(128&e[r.place])!=0)return!1;var l=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u||e.length!==u+r.place||(128&e[r.place])!=0)return!1;var h=e.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(l),this.s=new n(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var s=n.concat(r),o=[48];return u(o,s.length),o=o.concat(s),i.encode(o,e)}},37115:function(e,t,r){"use strict";var n=r(28714),i=r(83475),s=r(36321),o=s.assert,a=s.parseBytes,c=r(76244),l=r(55967);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=u,u.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},u.prototype.verify=function(e,t,r){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=(128&e[t])!=0,i=s.intFromLE(r);return this.curve.pointFromY(i,n)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return s.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},76244:function(e,t,r){"use strict";var n=r(36321),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},55967:function(e,t,r){"use strict";var n=r(21803),i=r(36321),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},36113:function(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},36321:function(e,t,r){"use strict";var n=r(21803),i=r(73045),s=r(83742);t.assert=i,t.toArray=s.toArray,t.zero2=s.zero2,t.toHex=s.toHex,t.encode=s.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);for(o=0;o<n.length;o+=1)n[o]=0;var i=1<<t+1,s=e.clone();for(o=0;o<n.length;o++){var o,a,c=s.andln(i-1);s.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var s,o,a,c=e.andln(3)+n&3,l=t.andln(3)+i&3;3===c&&(c=-1),3===l&&(l=-1),o=(1&c)==0?0:(3==(s=e.andln(7)+n&7)||5===s)&&2===l?-c:c,r[0].push(o),a=(1&l)==0?0:(3==(s=t.andln(7)+i&7)||5===s)&&2===c?-l:l,r[1].push(a),2*n===o+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new n(e,"hex","le")}},21803:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{l="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(85568).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,a>=49?i+=a-49+10:a>=17?i+=a-17+10:i+=a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return 0>e.cmp(t)?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===r)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=a(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=a(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,l=0,u=r;u<a;u+=n)l=c(e,u,u+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var h=1;for(l=c(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l,u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=((a<<i|s)&16777215).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?g+r:u[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==l),this.toArrayLike(l,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i,s,o=this.byteLength(),a=r||Math.max(1,o);n(o<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var c=new e(a),l=this.clone();if("le"===t){for(s=0;!l.isZero();s++)i=l.andln(255),l.iushrn(8),c[s]=i;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-o;s++)c[s]=0;for(s=0;!l.isZero();s++)i=l.andln(255),l.iushrn(8),c[a-s-1]=i}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(n=(0|t.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&n;for(;0!==s&&o<t.length;o++)s=(n=(0|t.words[o])+s)>>26,this.words[o]=67108863&n;if(0===s&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,c=r.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,y=0|o[2],m=8191&y,b=y>>>13,v=0|o[3],w=8191&v,E=v>>>13,A=0|o[4],_=8191&A,P=A>>>13,T=0|o[5],I=8191&T,C=T>>>13,S=0|o[6],O=8191&S,x=S>>>13,R=0|o[7],M=8191&R,B=R>>>13,N=0|o[8],D=8191&N,k=N>>>13,W=0|o[9],U=8191&W,F=W>>>13,L=0|a[0],j=8191&L,z=L>>>13,$=0|a[1],q=8191&$,V=$>>>13,H=0|a[2],G=8191&H,K=H>>>13,J=0|a[3],Z=8191&J,Y=J>>>13,Q=0|a[4],X=8191&Q,ee=Q>>>13,et=0|a[5],er=8191&et,en=et>>>13,ei=0|a[6],es=8191&ei,eo=ei>>>13,ea=0|a[7],ec=8191&ea,el=ea>>>13,eu=0|a[8],eh=8191&eu,ed=eu>>>13,ef=0|a[9],ep=8191&ef,eg=ef>>>13;r.negative=e.negative^t.negative,r.length=19;var ey=(l+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var em=(l+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,V)|0)+(i>>>13)|0)+(em>>>26)|0,em&=67108863,n=Math.imul(m,j),i=(i=Math.imul(m,z))+Math.imul(b,j)|0,s=Math.imul(b,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,q)|0,s=s+Math.imul(g,V)|0;var eb=(l+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(E,j)|0,s=Math.imul(E,z),n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(b,q)|0,s=s+Math.imul(b,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,K)|0;var ev=(l+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,Y)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(P,j)|0,s=Math.imul(P,z),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(E,q)|0,s=s+Math.imul(E,V)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,Y)|0;var ew=(l+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,z))+Math.imul(C,j)|0,s=Math.imul(C,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,K)|0,n=n+Math.imul(m,Z)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Y)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,ee)|0;var eE=(l+(n=n+Math.imul(h,er)|0)|0)+((8191&(i=(i=i+Math.imul(h,en)|0)+Math.imul(d,er)|0))<<13)|0;l=((s=s+Math.imul(d,en)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,z))+Math.imul(x,j)|0,s=Math.imul(x,z),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,q)|0,s=s+Math.imul(C,V)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(P,G)|0,s=s+Math.imul(P,K)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,Y)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(g,er)|0,s=s+Math.imul(g,en)|0;var eA=(l+(n=n+Math.imul(h,es)|0)|0)+((8191&(i=(i=i+Math.imul(h,eo)|0)+Math.imul(d,es)|0))<<13)|0;l=((s=s+Math.imul(d,eo)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(B,j)|0,s=Math.imul(B,z),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(C,G)|0,s=s+Math.imul(C,K)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,Y)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(m,er)|0,i=(i=i+Math.imul(m,en)|0)+Math.imul(b,er)|0,s=s+Math.imul(b,en)|0,n=n+Math.imul(p,es)|0,i=(i=i+Math.imul(p,eo)|0)+Math.imul(g,es)|0,s=s+Math.imul(g,eo)|0;var e_=(l+(n=n+Math.imul(h,ec)|0)|0)+((8191&(i=(i=i+Math.imul(h,el)|0)+Math.imul(d,ec)|0))<<13)|0;l=((s=s+Math.imul(d,el)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,V)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,Y)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,ee)|0,n=n+Math.imul(w,er)|0,i=(i=i+Math.imul(w,en)|0)+Math.imul(E,er)|0,s=s+Math.imul(E,en)|0,n=n+Math.imul(m,es)|0,i=(i=i+Math.imul(m,eo)|0)+Math.imul(b,es)|0,s=s+Math.imul(b,eo)|0,n=n+Math.imul(p,ec)|0,i=(i=i+Math.imul(p,el)|0)+Math.imul(g,ec)|0,s=s+Math.imul(g,el)|0;var eP=(l+(n=n+Math.imul(h,eh)|0)|0)+((8191&(i=(i=i+Math.imul(h,ed)|0)+Math.imul(d,eh)|0))<<13)|0;l=((s=s+Math.imul(d,ed)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(D,q)|0,i=(i=i+Math.imul(D,V)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,V)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,K)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,Y)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(C,X)|0,s=s+Math.imul(C,ee)|0,n=n+Math.imul(_,er)|0,i=(i=i+Math.imul(_,en)|0)+Math.imul(P,er)|0,s=s+Math.imul(P,en)|0,n=n+Math.imul(w,es)|0,i=(i=i+Math.imul(w,eo)|0)+Math.imul(E,es)|0,s=s+Math.imul(E,eo)|0,n=n+Math.imul(m,ec)|0,i=(i=i+Math.imul(m,el)|0)+Math.imul(b,ec)|0,s=s+Math.imul(b,el)|0,n=n+Math.imul(p,eh)|0,i=(i=i+Math.imul(p,ed)|0)+Math.imul(g,eh)|0,s=s+Math.imul(g,ed)|0;var eT=(l+(n=n+Math.imul(h,ep)|0)|0)+((8191&(i=(i=i+Math.imul(h,eg)|0)+Math.imul(d,ep)|0))<<13)|0;l=((s=s+Math.imul(d,eg)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,V))+Math.imul(F,q)|0,s=Math.imul(F,V),n=n+Math.imul(D,G)|0,i=(i=i+Math.imul(D,K)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Y)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,ee)|0,n=n+Math.imul(I,er)|0,i=(i=i+Math.imul(I,en)|0)+Math.imul(C,er)|0,s=s+Math.imul(C,en)|0,n=n+Math.imul(_,es)|0,i=(i=i+Math.imul(_,eo)|0)+Math.imul(P,es)|0,s=s+Math.imul(P,eo)|0,n=n+Math.imul(w,ec)|0,i=(i=i+Math.imul(w,el)|0)+Math.imul(E,ec)|0,s=s+Math.imul(E,el)|0,n=n+Math.imul(m,eh)|0,i=(i=i+Math.imul(m,ed)|0)+Math.imul(b,eh)|0,s=s+Math.imul(b,ed)|0;var eI=(l+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,eg)|0)+Math.imul(g,ep)|0))<<13)|0;l=((s=s+Math.imul(g,eg)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,K))+Math.imul(F,G)|0,s=Math.imul(F,K),n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(O,er)|0,i=(i=i+Math.imul(O,en)|0)+Math.imul(x,er)|0,s=s+Math.imul(x,en)|0,n=n+Math.imul(I,es)|0,i=(i=i+Math.imul(I,eo)|0)+Math.imul(C,es)|0,s=s+Math.imul(C,eo)|0,n=n+Math.imul(_,ec)|0,i=(i=i+Math.imul(_,el)|0)+Math.imul(P,ec)|0,s=s+Math.imul(P,el)|0,n=n+Math.imul(w,eh)|0,i=(i=i+Math.imul(w,ed)|0)+Math.imul(E,eh)|0,s=s+Math.imul(E,ed)|0;var eC=(l+(n=n+Math.imul(m,ep)|0)|0)+((8191&(i=(i=i+Math.imul(m,eg)|0)+Math.imul(b,ep)|0))<<13)|0;l=((s=s+Math.imul(b,eg)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,Y))+Math.imul(F,Z)|0,s=Math.imul(F,Y),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(M,er)|0,i=(i=i+Math.imul(M,en)|0)+Math.imul(B,er)|0,s=s+Math.imul(B,en)|0,n=n+Math.imul(O,es)|0,i=(i=i+Math.imul(O,eo)|0)+Math.imul(x,es)|0,s=s+Math.imul(x,eo)|0,n=n+Math.imul(I,ec)|0,i=(i=i+Math.imul(I,el)|0)+Math.imul(C,ec)|0,s=s+Math.imul(C,el)|0,n=n+Math.imul(_,eh)|0,i=(i=i+Math.imul(_,ed)|0)+Math.imul(P,eh)|0,s=s+Math.imul(P,ed)|0;var eS=(l+(n=n+Math.imul(w,ep)|0)|0)+((8191&(i=(i=i+Math.imul(w,eg)|0)+Math.imul(E,ep)|0))<<13)|0;l=((s=s+Math.imul(E,eg)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,ee))+Math.imul(F,X)|0,s=Math.imul(F,ee),n=n+Math.imul(D,er)|0,i=(i=i+Math.imul(D,en)|0)+Math.imul(k,er)|0,s=s+Math.imul(k,en)|0,n=n+Math.imul(M,es)|0,i=(i=i+Math.imul(M,eo)|0)+Math.imul(B,es)|0,s=s+Math.imul(B,eo)|0,n=n+Math.imul(O,ec)|0,i=(i=i+Math.imul(O,el)|0)+Math.imul(x,ec)|0,s=s+Math.imul(x,el)|0,n=n+Math.imul(I,eh)|0,i=(i=i+Math.imul(I,ed)|0)+Math.imul(C,eh)|0,s=s+Math.imul(C,ed)|0;var eO=(l+(n=n+Math.imul(_,ep)|0)|0)+((8191&(i=(i=i+Math.imul(_,eg)|0)+Math.imul(P,ep)|0))<<13)|0;l=((s=s+Math.imul(P,eg)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(U,er),i=(i=Math.imul(U,en))+Math.imul(F,er)|0,s=Math.imul(F,en),n=n+Math.imul(D,es)|0,i=(i=i+Math.imul(D,eo)|0)+Math.imul(k,es)|0,s=s+Math.imul(k,eo)|0,n=n+Math.imul(M,ec)|0,i=(i=i+Math.imul(M,el)|0)+Math.imul(B,ec)|0,s=s+Math.imul(B,el)|0,n=n+Math.imul(O,eh)|0,i=(i=i+Math.imul(O,ed)|0)+Math.imul(x,eh)|0,s=s+Math.imul(x,ed)|0;var ex=(l+(n=n+Math.imul(I,ep)|0)|0)+((8191&(i=(i=i+Math.imul(I,eg)|0)+Math.imul(C,ep)|0))<<13)|0;l=((s=s+Math.imul(C,eg)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(U,es),i=(i=Math.imul(U,eo))+Math.imul(F,es)|0,s=Math.imul(F,eo),n=n+Math.imul(D,ec)|0,i=(i=i+Math.imul(D,el)|0)+Math.imul(k,ec)|0,s=s+Math.imul(k,el)|0,n=n+Math.imul(M,eh)|0,i=(i=i+Math.imul(M,ed)|0)+Math.imul(B,eh)|0,s=s+Math.imul(B,ed)|0;var eR=(l+(n=n+Math.imul(O,ep)|0)|0)+((8191&(i=(i=i+Math.imul(O,eg)|0)+Math.imul(x,ep)|0))<<13)|0;l=((s=s+Math.imul(x,eg)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863,n=Math.imul(U,ec),i=(i=Math.imul(U,el))+Math.imul(F,ec)|0,s=Math.imul(F,el),n=n+Math.imul(D,eh)|0,i=(i=i+Math.imul(D,ed)|0)+Math.imul(k,eh)|0,s=s+Math.imul(k,ed)|0;var eM=(l+(n=n+Math.imul(M,ep)|0)|0)+((8191&(i=(i=i+Math.imul(M,eg)|0)+Math.imul(B,ep)|0))<<13)|0;l=((s=s+Math.imul(B,eg)|0)+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863,n=Math.imul(U,eh),i=(i=Math.imul(U,ed))+Math.imul(F,eh)|0,s=Math.imul(F,ed);var eB=(l+(n=n+Math.imul(D,ep)|0)|0)+((8191&(i=(i=i+Math.imul(D,eg)|0)+Math.imul(k,ep)|0))<<13)|0;l=((s=s+Math.imul(k,eg)|0)+(i>>>13)|0)+(eB>>>26)|0,eB&=67108863;var eN=(l+(n=Math.imul(U,ep))|0)+((8191&(i=(i=Math.imul(U,eg))+Math.imul(F,ep)|0))<<13)|0;return l=((s=Math.imul(F,eg))+(i>>>13)|0)+(eN>>>26)|0,eN&=67108863,c[0]=ey,c[1]=em,c[2]=eb,c[3]=ev,c[4]=ew,c[5]=eE,c[6]=eA,c[7]=e_,c[8]=eP,c[9]=eT,c[10]=eI,c[11]=eC,c[12]=eS,c[13]=eO,c[14]=ex,c[15]=eR,c[16]=eM,c[17]=eB,c[18]=eN,0!==l&&(c[19]=l,r.length++),r};function g(e,t,r){return new y().mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,h=(0|e.words[u])*(0|t.words[l]),d=67108863&h;o=o+(h/67108864|0)|0,a=67108863&(d=d+a|0),i+=(o=o+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):g(this,e,t)},y.prototype.makeRBT=function(e){for(var t=Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},y.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var h=c,d=l,f=0;f<o;f++){var p=r[u+f],g=n[u+f],y=r[u+f+o],m=n[u+f+o],b=h*y-d*m;m=h*m+d*y,y=b,r[u+f]=p+y,n[u+f]=g+m,r[u+f+o]=p-y,n[u+f+o]=g-m,f!==a&&(b=c*h-l*d,d=c*d+l*h,h=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n((-8192&s)==0)},y.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=Array(n),a=Array(n),c=Array(n),l=Array(n),u=Array(n),h=Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,l,n),this.transform(o,s,a,c,n,i),this.transform(l,s,u,h,n,i);for(var f=0;f<n;f++){var p=a[f]*u[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=(i/67108864|0)+(s>>>26),this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s;if(i-=o,i=Math.max(0,i),r){for(var c=0;c<o;c++)r.words[c]=this.words[c];r.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var u=0|this.words[c];this.words[c]=l<<26-s|u>>>s,l=u&a}return r&&0!==l&&(r.words[r.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;s-=67108863&c,a=(s>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),o=e,a=0|o.words[o.length-1];0!=(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var c=i.length-o.length;if("mod"!==t){(r=new s(null)).length=c+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var u=i.clone()._ishlnsubmul(o,1,c);0===u.negative&&(i=u,r&&(r.words[c]=1));for(var h=c-1;h>=0;h--){var d=(0|i.words[o.length+h])*67108864+(0|i.words[o.length+h-1]);for(d=Math.min(d/a|0,67108863),i._ishlnsubmul(o,d,h);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(o,1,h),i.isZero()||(i.negative^=1);r&&(r.words[h]=d)}return r&&r.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},s.prototype.divmod=function(e,t,r){var i,o,a;return(n(!e.isZero()),this.isZero())?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t)},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;(t.words[0]&f)==0&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;(r.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(c)):(r.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(l)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var o=new s(1),a=new s(0),c=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,u=1;(r.words[0]&u)==0&&l<26;++l,u<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;(i.words[0]&d)==0&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);r.cmp(i)>=0?(r.isub(i),o.isub(a)):(i.isub(r),a.isub(o))}return 0>(t=0===r.cmpn(1)?o:a).cmpn(0)&&t.iadd(e),t},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return -1===this.cmpn(e)},s.prototype.lt=function(e){return -1===this.cmp(e)},s.prototype.lten=function(e){return 0>=this.cmpn(e)},s.prototype.lte=function(e){return 0>=this.cmp(e)},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new _(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function P(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(E,b),i(A,b),A.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){var t;if(m[e])return m[e];if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new E;else if("p25519"===e)t=new A;else throw Error("Unknown prime "+e);return m[e]=t,t},_.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var g=f,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(h,new s(1).iushln(p-y-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=y}return d},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var h=l>>u&1;if(i!==r[0]&&(i=this.sqr(i)),0===h&&0===o){a=0;continue}o<<=1,o|=h,(4==++a||0===n&&0===u)&&(i=this.mul(i,r[o]),a=0,o=0)}c=26}return i},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new P(e)},i(P,_),P.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},P.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},P.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},P.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},P.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},77625:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,s),!0;case 6:return u.fn.call(u.context,t,n,i,s,o),!0}for(l=1,c=Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(d=1,c=Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},55445:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function s(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",s),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&g(e,"error",s,i))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var i,s,o,l=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else for(var l=c.length,u=p(c,l),r=0;r<l;++r)n(u[r],this,t);return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},90883:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),s=0;s<n.length;s++){var o=n[s],a=e[o];(i?-1!==t.indexOf(o):t(o,a,e))&&(r[o]=a)}return r}},28714:function(e,t,r){t.utils=r(20015),t.common=r(49351),t.sha=r(87647),t.ripemd=r(47826),t.hmac=r(53765),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160},49351:function(e,t,r){"use strict";var n=r(20015),i=r(73045);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(s=8,n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;s<this.padLength;s++)n[i++]=0;return n}},53765:function(e,t,r){"use strict";var n=r(20015),i=r(73045);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},47826:function(e,t,r){"use strict";var n=r(20015),i=r(49351),s=n.rotl32,o=n.sum32,a=n.sum32_3,c=n.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],y=r,m=n,b=i,v=l,w=u,E=0;E<80;E++){var A,_,P=o(s(c(r,h(E,n,i,l),e[d[E]+t],(A=E)<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838),p[E]),u);r=u,u=l,l=s(i,10),i=n,n=P,P=o(s(c(y,h(79-E,m,b,v),e[f[E]+t],(_=E)<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0),g[E]),w),y=w,w=v,v=s(b,10),b=m,m=P}P=a(this.h[1],i,v),this.h[1]=a(this.h[2],l,w),this.h[2]=a(this.h[3],u,y),this.h[3]=a(this.h[4],r,m),this.h[4]=a(this.h[0],n,b),this.h[0]=P},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},87647:function(e,t,r){"use strict";t.sha1=r(4684),t.sha224=r(45261),t.sha256=r(17795),t.sha384=r(84182),t.sha512=r(54358)},4684:function(e,t,r){"use strict";var n=r(20015),i=r(49351),s=r(31964),o=n.rotl32,a=n.sum32,c=n.sum32_5,l=s.ft_1,u=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}n.inherits(d,u),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],u=this.h[2],d=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=c(o(i,5),l(p,s,u,d),f,r[n],h[p]);f=d,d=u,u=o(s,30),s=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],f)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},45261:function(e,t,r){"use strict";var n=r(20015),i=r(17795);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},17795:function(e,t,r){"use strict";var n=r(20015),i=r(49351),s=r(31964),o=r(73045),a=n.sum32,c=n.sum32_4,l=n.sum32_5,u=s.ch32,h=s.maj32,d=s.s0_256,f=s.s1_256,p=s.g0_256,g=s.g1_256,y=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=Array(64)}n.inherits(b,y),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],y=this.h[2],m=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],E=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var A=l(E,f(b),u(b,v,w),this.k[n],r[n]),_=a(d(i),h(i,s,y));E=w,w=v,v=b,b=a(m,A),m=y,y=s,s=i,i=a(A,_)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],E)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},84182:function(e,t,r){"use strict";var n=r(20015),i=r(54358);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},54358:function(e,t,r){"use strict";var n=r(20015),i=r(49351),s=r(73045),o=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,l=n.shr64_lo,u=n.sum64,h=n.sum64_hi,d=n.sum64_lo,f=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,y=n.sum64_5_lo,m=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=Array(160)}n.inherits(v,m),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=function(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}(r[n-4],r[n-3]),s=function(e,t){var r=a(e,t,19)^a(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}(r[n-4],r[n-3]),u=r[n-14],h=r[n-13],d=function(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}(r[n-30],r[n-29]),g=function(e,t){var r=a(e,t,1)^a(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}(r[n-30],r[n-29]),y=r[n-32],m=r[n-31];r[n]=f(i,s,u,h,d,g,y,m),r[n+1]=p(i,s,u,h,d,g,y,m)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],c=this.h[2],l=this.h[3],f=this.h[4],p=this.h[5],m=this.h[6],b=this.h[7],v=this.h[8],w=this.h[9],E=this.h[10],A=this.h[11],_=this.h[12],P=this.h[13],T=this.h[14],I=this.h[15];s(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var S=T,O=I,x=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}(v,w),R=function(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}(v,w),M=function(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}(v,0,E,0,_,P),B=function(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}(0,w,0,A,0,P),N=this.k[C],D=this.k[C+1],k=r[C],W=r[C+1],U=g(S,O,x,R,M,B,N,D,k,W),F=y(S,O,x,R,M,B,N,D,k,W);S=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}(n,i);var L=h(S,O=function(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}(n,i),x=function(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}(n,0,c,0,f,p),R=function(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}(0,i,0,l,0,p)),j=d(S,O,x,R);T=_,I=P,_=E,P=A,E=v,A=w,v=h(m,b,U,F),w=d(b,b,U,F),m=f,b=p,f=c,p=l,c=n,l=i,n=h(U,F,L,j),i=d(U,F,L,j)}u(this.h,0,n,i),u(this.h,2,c,l),u(this.h,4,f,p),u(this.h,6,m,b),u(this.h,8,v,w),u(this.h,10,E,A),u(this.h,12,_,P),u(this.h,14,T,I)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},31964:function(e,t,r){"use strict";var n=r(20015).rotr32;function i(e,t,r){return e&t^e&r^t&r}t.ft_1=function(e,t,r,n){return 0===e?t&r^~t&n:1===e||3===e?t^r^n:2===e?i(t,r,n):void 0},t.ch32=function(e,t,r){return e&t^~e&r},t.maj32=i,t.p32=function(e,t,r){return e^t^r},t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},20015:function(e,t,r){"use strict";var n=r(73045),i=r(56853);function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function a(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;if(2===e.length)return"000000"+e;if(1===e.length)return"0000000"+e;else return e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e){if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s,o,a=e.charCodeAt(i);a<128?r[n++]=a:(a<2048?r[n++]=a>>6|192:((s=e,o=i,(64512&s.charCodeAt(o))!=55296||o<0||o+1>=s.length?1:(64512&s.charCodeAt(o+1))!=56320)?r[n++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128),r[n++]=a>>6&63|128),r[n++]=63&a|128)}}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=a(i.toString(16))}return r},t.zero2=o,t.zero8=a,t.join32=function(e,t,r,i){var s,o=r-t;n(o%4==0);for(var a=Array(o/4),c=0,l=t;c<a.length;c++,l+=4)s="big"===i?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],a[c]=s>>>0;return a},t.split32=function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0;e[t]=(s<n?1:0)+r+i>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,o,a){var c,l=t;return e+r+i+o+(0+((l=l+n>>>0)<t?1:0)+((l=l+s>>>0)<s?1:0)+((l=l+a>>>0)<a?1:0))>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,o,a,c,l){var u,h=t;return e+r+i+o+c+(0+((h=h+n>>>0)<t?1:0)+((h=h+s>>>0)<s?1:0)+((h=h+a>>>0)<a?1:0)+((h=h+l>>>0)<l?1:0))>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,o,a,c,l){return t+n+s+a+l>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},28072:function(e,t,r){"use strict";var n=r(28714),i=r(83742),s=r(73045);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=o,o.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,i.encode(o,t)}},68848:function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,l=c>>1,u=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,h=u>>1,d=23===i?5960464477539062e-23:0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=d/c:t+=d*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+f]=255&o,f+=p,o/=256,l-=8);e[r+f-p]|=128*g}},56853:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},23883:function(e,t,r){var n,i=r(25566);!function(){"use strict";var s="input is invalid type",o="object"==typeof window,a=o?window:{};a.JS_SHA3_NO_WINDOW&&(o=!1);var c=!o&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node?a=r.g:c&&(a=self);var l=!a.JS_SHA3_NO_COMMON_JS&&e.exports,u=r.amdO,h=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),f=[4,1024,262144,67108864],p=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],m=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),h&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var w=function(e,t,r){return function(n){return new D(e,t,e).update(n)[r]()}},E=function(e,t,r){return function(n,i){return new D(e,t,i).update(n)[r]()}},A=function(e,t,r){return function(t,n,i,s){return C["cshake"+e].update(t,n,i,s)[r]()}},_=function(e,t,r){return function(t,n,i,s){return C["kmac"+e].update(t,n,i,s)[r]()}},P=function(e,t,r,n){for(var i=0;i<b.length;++i){var s=b[i];e[s]=t(r,n,s)}return e},T=function(e,t){var r=w(e,t,"hex");return r.create=function(){return new D(e,t,e)},r.update=function(e){return r.create().update(e)},P(r,w,e,t)},I=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:T},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:T},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var r=E(e,t,"hex");return r.create=function(r){return new D(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},P(r,E,e,t)}},{name:"cshake",padding:f,bits:m,createMethod:function(e,t){var r=v[e],n=A(e,t,"hex");return n.create=function(n,i,s){return i||s?new D(e,t,n).bytepad([i,s],r):C["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},P(n,A,e,t)}},{name:"kmac",padding:f,bits:m,createMethod:function(e,t){var r=v[e],n=_(e,t,"hex");return n.create=function(n,i,s){return new k(e,t,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},P(n,_,e,t)}}],C={},S=[],O=0;O<I.length;++O)for(var x=I[O],R=x.bits,M=0;M<R.length;++M){var B=x.name+"_"+R[M];if(S.push(B),C[B]=x.createMethod(R[M],x.padding),"sha3"!==x.name){var N=x.name+R[M];S.push(N),C[N]=C[B]}}function D(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function k(e,t,r){D.call(this,e,t,r)}D.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(s);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw Error(s)}else throw Error(s);t=!0}for(var n,i,o=this.blocks,a=this.byteCount,c=e.length,l=this.blockCount,u=0,d=this.s;u<c;){if(this.reset)for(n=1,this.reset=!1,o[0]=this.block;n<l+1;++n)o[n]=0;if(t)for(n=this.start;u<c&&n<a;++u)o[n>>2]|=e[u]<<p[3&n++];else for(n=this.start;u<c&&n<a;++u)(i=e.charCodeAt(u))<128?o[n>>2]|=i<<p[3&n++]:(i<2048?o[n>>2]|=(192|i>>6)<<p[3&n++]:(i<55296||i>=57344?o[n>>2]|=(224|i>>12)<<p[3&n++]:(i=65536+((1023&i)<<10|1023&e.charCodeAt(++u)),o[n>>2]|=(240|i>>18)<<p[3&n++],o[n>>2]|=(128|i>>12&63)<<p[3&n++]),o[n>>2]|=(128|i>>6&63)<<p[3&n++]),o[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=o[l],n=0;n<l;++n)d[n]^=o[n];W(d),this.reset=!0}else this.start=n}return this},D.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(e>>=8,r=255&e;r>0;)i.unshift(r),e>>=8,r=255&e,++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},D.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(s);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw Error(s)}else throw Error(s);t=!0}var n=0,i=e.length;if(t)n=i;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},D.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,s=[];return s.length=i,this.update(s),this},D.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];W(n)}},D.prototype.toString=D.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a="";o<n;){for(s=0;s<t&&o<n;++s,++o)a+=d[(e=r[s])>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];o%t==0&&(W(r),s=0)}return i&&(a+=d[(e=r[s])>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},D.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3,c=new Uint32Array(e=new ArrayBuffer(i?n+1<<2:a));o<n;){for(s=0;s<t&&o<n;++s,++o)c[o]=r[s];o%t==0&&W(r)}return i&&(c[s]=r[s],e=e.slice(0,a)),e},D.prototype.buffer=D.prototype.arrayBuffer,D.prototype.digest=D.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,c=[];a<i;){for(o=0;o<r&&a<i;++o,++a)e=a<<2,t=n[o],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&W(n)}return s&&(e=a<<2,t=n[o],c[e]=255&t,s>1&&(c[e+1]=t>>8&255),s>2&&(c[e+2]=t>>16&255)),c},k.prototype=new D,k.prototype.finalize=function(){return this.encode(this.outputBits,!0),D.prototype.finalize.call(this)};var W=function(e){var t,r,n,i,s,o,a,c,l,u,h,d,f,p,y,m,b,v,w,E,A,_,P,T,I,C,S,O,x,R,M,B,N,D,k,W,U,F,L,j,z,$,q,V,H,G,K,J,Z,Y,Q,X,ee,et,er,en,ei,es,eo,ea,ec,el,eu;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],t=d^(o<<1|a>>>31),r=f^(a<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|l>>>31),r=s^(l<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(u<<1|h>>>31),r=a^(h<<1|u>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(d<<1|f>>>31),r=l^(f<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=u^(i<<1|s>>>31),r=h^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],y=e[1],G=e[11]<<4|e[10]>>>28,K=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,x=e[21]<<3|e[20]>>>29,ea=e[31]<<9|e[30]>>>23,ec=e[30]<<9|e[31]>>>23,$=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,k=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,el=e[42]<<2|e[43]>>>30,eu=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,W=e[14]<<6|e[15]>>>26,U=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,I=e[7]<<28|e[6]>>>4,en=e[17]<<23|e[16]>>>9,ei=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,L=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,X=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,H=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,S=e[19]<<20|e[18]>>>12,es=e[29]<<7|e[28]>>>25,eo=e[28]<<7|e[29]>>>25,j=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,P=e[49]<<14|e[48]>>>18,e[0]=p^~m&v,e[1]=y^~b&w,e[10]=T^~C&O,e[11]=I^~S&x,e[20]=D^~W&F,e[21]=k^~U&L,e[30]=V^~G&J,e[31]=H^~K&Z,e[40]=et^~en&es,e[41]=er^~ei&eo,e[2]=m^~v&E,e[3]=b^~w&A,e[12]=C^~O&R,e[13]=S^~x&M,e[22]=W^~F&j,e[23]=U^~L&z,e[32]=G^~J&Y,e[33]=K^~Z&Q,e[42]=en^~es&ea,e[43]=ei^~eo&ec,e[4]=v^~E&_,e[5]=w^~A&P,e[14]=O^~R&B,e[15]=x^~M&N,e[24]=F^~j&$,e[25]=L^~z&q,e[34]=J^~Y&X,e[35]=Z^~Q&ee,e[44]=es^~ea&el,e[45]=eo^~ec&eu,e[6]=E^~_&p,e[7]=A^~P&y,e[16]=R^~B&T,e[17]=M^~N&I,e[26]=j^~$&D,e[27]=z^~q&k,e[36]=Y^~X&V,e[37]=Q^~ee&H,e[46]=ea^~el&et,e[47]=ec^~eu&er,e[8]=_^~p&m,e[9]=P^~y&b,e[18]=B^~T&C,e[19]=N^~I&S,e[28]=$^~D&W,e[29]=q^~k&U,e[38]=X^~V&G,e[39]=ee^~H&K,e[48]=el^~et&en,e[49]=eu^~er&ei,e[0]^=g[n],e[1]^=g[n+1]};if(l)e.exports=C;else{for(O=0;O<S.length;++O)a[S[O]]=C[S[O]];u&&void 0!==(n=(function(){return C}).call(t,r,t,e))&&(e.exports=n)}}()},15586:function(e,t,r){e=r.nmd(e);var n,i,s,o="__lodash_hash_undefined__",a="[object Arguments]",c="[object Array]",l="[object Boolean]",u="[object Date]",h="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",y="[object Promise]",m="[object RegExp]",b="[object Set]",v="[object String]",w="[object WeakMap]",E="[object ArrayBuffer]",A="[object DataView]",_=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[a]=T[c]=T[E]=T[l]=T[A]=T[u]=T[h]=T[d]=T[f]=T[p]=T[g]=T[m]=T[b]=T[v]=T[w]=!1;var I="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,C="object"==typeof self&&self&&self.Object===Object&&self,S=I||C||Function("return this")(),O=t&&!t.nodeType&&t,x=O&&e&&!e.nodeType&&e,R=x&&x.exports===O,M=R&&I.process,B=function(){try{return M&&M.binding&&M.binding("util")}catch(e){}}(),N=B&&B.isTypedArray;function D(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function k(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var W=Array.prototype,U=Function.prototype,F=Object.prototype,L=S["__core-js_shared__"],j=U.toString,z=F.hasOwnProperty,$=(n=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",q=F.toString,V=RegExp("^"+j.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=R?S.Buffer:void 0,G=S.Symbol,K=S.Uint8Array,J=F.propertyIsEnumerable,Z=W.splice,Y=G?G.toStringTag:void 0,Q=Object.getOwnPropertySymbols,X=H?H.isBuffer:void 0,ee=(i=Object.keys,s=Object,function(e){return i(s(e))}),et=eT(S,"DataView"),er=eT(S,"Map"),en=eT(S,"Promise"),ei=eT(S,"Set"),es=eT(S,"WeakMap"),eo=eT(Object,"create"),ea=eS(et),ec=eS(er),el=eS(en),eu=eS(ei),eh=eS(es),ed=G?G.prototype:void 0,ef=ed?ed.valueOf:void 0;function ep(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ey(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function em(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ey;++t<r;)this.add(e[t])}function eb(e){var t=this.__data__=new eg(e);this.size=t.size}function ev(e,t){for(var r=e.length;r--;)if(eO(e[r][0],t))return r;return -1}function ew(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Y&&Y in Object(e)?function(e){var t=z.call(e,Y),r=e[Y];try{e[Y]=void 0;var n=!0}catch(e){}var i=q.call(e);return n&&(t?e[Y]=r:delete e[Y]),i}(e):q.call(e)}function eE(e){return ek(e)&&ew(e)==a}function eA(e,t,r,n,i,s){var o=1&r,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var u=-1,h=!0,d=2&r?new em:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var f=e[u],p=t[u];if(n)var g=o?n(p,f,u,t,e,s):n(f,p,u,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}(t,function(e,t){if(!d.has(t)&&(f===e||i(f,e,r,n,s)))return d.push(t)})){h=!1;break}}else if(!(f===p||i(f,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function e_(e){var t;return t=function(e){return null!=e&&eN(e.length)&&!eB(e)?function(e,t){var r,n=eR(e),i=!n&&ex(e),s=!n&&!i&&eM(e),o=!n&&!i&&!s&&eW(e),a=n||i||s||o,c=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=c.length;for(var u in e)z.call(e,u)&&!(a&&("length"==u||s&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||(r=null==(r=l)?9007199254740991:r)&&("number"==typeof u||P.test(u))&&u>-1&&u%1==0&&u<r))&&c.push(u);return c}(e):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||F))return ee(e);var t,r=[];for(var n in Object(e))z.call(e,n)&&"constructor"!=n&&r.push(n);return r}(e)}(e),eR(e)?t:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(t,eI(e))}function eP(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function eT(e,t){var r=null==e?void 0:e[t];return!(!eD(r)||$&&$ in r)&&(eB(r)?V:_).test(eS(r))?r:void 0}ep.prototype.clear=function(){this.__data__=eo?eo(null):{},this.size=0},ep.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ep.prototype.get=function(e){var t=this.__data__;if(eo){var r=t[e];return r===o?void 0:r}return z.call(t,e)?t[e]:void 0},ep.prototype.has=function(e){var t=this.__data__;return eo?void 0!==t[e]:z.call(t,e)},ep.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eo&&void 0===t?o:t,this},eg.prototype.clear=function(){this.__data__=[],this.size=0},eg.prototype.delete=function(e){var t=this.__data__,r=ev(t,e);return!(r<0)&&(r==t.length-1?t.pop():Z.call(t,r,1),--this.size,!0)},eg.prototype.get=function(e){var t=this.__data__,r=ev(t,e);return r<0?void 0:t[r][1]},eg.prototype.has=function(e){return ev(this.__data__,e)>-1},eg.prototype.set=function(e,t){var r=this.__data__,n=ev(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ey.prototype.clear=function(){this.size=0,this.__data__={hash:new ep,map:new(er||eg),string:new ep}},ey.prototype.delete=function(e){var t=eP(this,e).delete(e);return this.size-=t?1:0,t},ey.prototype.get=function(e){return eP(this,e).get(e)},ey.prototype.has=function(e){return eP(this,e).has(e)},ey.prototype.set=function(e,t){var r=eP(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},em.prototype.add=em.prototype.push=function(e){return this.__data__.set(e,o),this},em.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.clear=function(){this.__data__=new eg,this.size=0},eb.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},eb.prototype.get=function(e){return this.__data__.get(e)},eb.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.set=function(e,t){var r=this.__data__;if(r instanceof eg){var n=r.__data__;if(!er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ey(n)}return r.set(e,t),this.size=r.size,this};var eI=Q?function(e){return null==e?[]:function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}(Q(e=Object(e)),function(t){return J.call(e,t)})}:function(){return[]},eC=ew;function eS(e){if(null!=e){try{return j.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eO(e,t){return e===t||e!=e&&t!=t}(et&&eC(new et(new ArrayBuffer(1)))!=A||er&&eC(new er)!=f||en&&eC(en.resolve())!=y||ei&&eC(new ei)!=b||es&&eC(new es)!=w)&&(eC=function(e){var t=ew(e),r=t==g?e.constructor:void 0,n=r?eS(r):"";if(n)switch(n){case ea:return A;case ec:return f;case el:return y;case eu:return b;case eh:return w}return t});var ex=eE(function(){return arguments}())?eE:function(e){return ek(e)&&z.call(e,"callee")&&!J.call(e,"callee")},eR=Array.isArray,eM=X||function(){return!1};function eB(e){if(!eD(e))return!1;var t=ew(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eN(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eD(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ek(e){return null!=e&&"object"==typeof e}var eW=N?function(e){return N(e)}:function(e){return ek(e)&&eN(e.length)&&!!T[ew(e)]};e.exports=function(e,t){return function e(t,r,n,i,s){return t===r||(null!=t&&null!=r&&(ek(t)||ek(r))?function(e,t,r,n,i,s){var o=eR(e),d=eR(t),y=o?c:eC(e),w=d?c:eC(t);y=y==a?g:y,w=w==a?g:w;var _=y==g,P=w==g,T=y==w;if(T&&eM(e)){if(!eM(t))return!1;o=!0,_=!1}if(T&&!_)return s||(s=new eb),o||eW(e)?eA(e,t,r,n,i,s):function(e,t,r,n,i,s,o){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case E:if(e.byteLength!=t.byteLength||!s(new K(e),new K(t)))break;return!0;case l:case u:case p:return eO(+e,+t);case h:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case f:var a=D;case b:var c=1&n;if(a||(a=k),e.size!=t.size&&!c)break;var d=o.get(e);if(d)return d==t;n|=2,o.set(e,t);var g=eA(a(e),a(t),n,i,s,o);return o.delete(e),g;case"[object Symbol]":if(ef)return ef.call(e)==ef.call(t)}return!1}(e,t,y,r,n,i,s);if(!(1&r)){var I=_&&z.call(e,"__wrapped__"),C=P&&z.call(t,"__wrapped__");if(I||C){var S=I?e.value():e,O=C?t.value():t;return s||(s=new eb),i(S,O,r,n,s)}}return!!T&&(s||(s=new eb),function(e,t,r,n,i,s){var o=1&r,a=e_(e),c=a.length;if(c!=e_(t).length&&!o)return!1;for(var l=c;l--;){var u=a[l];if(!(o?u in t:z.call(t,u)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var d=!0;s.set(e,t),s.set(t,e);for(var f=o;++l<c;){var p=e[u=a[l]],g=t[u];if(n)var y=o?n(g,p,u,t,e,s):n(p,g,u,e,t,s);if(!(void 0===y?p===g||i(p,g,r,n,s):y)){d=!1;break}f||(f="constructor"==u)}if(d&&!f){var m=e.constructor,b=t.constructor;m!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(d=!1)}return s.delete(e),s.delete(t),d}(e,t,r,n,i,s))}(t,r,n,i,e,s):t!=t&&r!=r)}(e,t)}},73045:function(e){function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},83742:function(e,t){"use strict";function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}},88017:function(e,t,r){"use strict";let n=r(59148),i=r(89445),s=r(93129),o=r(90883),a=e=>null==e,c=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function h(e,t){return t.decode?i(e):e}function d(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function f(e){let t=(e=d(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function g(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!i&&h(r,e).includes(e.arrayFormatSeparator);r=s?h(r,e):r;let o=i||s?r.split(e.arrayFormatSeparator).map(t=>h(t,e)):null===r?r:h(r,e);n[t]=o};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?h(r,e):r;return}let s=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>h(t,e));if(void 0===n[t]){n[t]=s;return}n[t]=[].concat(n[t],s)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[e,o]=s(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:h(o,t),r(h(e,t),o,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=p(r[e],t);else n[e]=p(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=f,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&a(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",i,"]"].join("")]:[...r,[u(t,e),"[",u(i,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),":list="].join("")]:[...r,[u(t,e),":list=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[u(r,e),t,u(i,e)].join("")]:[[n,u(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),i={};for(let t of Object.keys(e))r(t)||(i[t]=e[t]);let s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map(r=>{let i=e[r];return void 0===i?"":null===i?u(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":i.reduce(n(r),[]).join("&"):u(r,t)+"="+u(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:g(f(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:h(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[c]:!0},r);let n=d(e.url).split("?")[0]||"",i=t.extract(e.url),s=Object.assign(t.parse(i,{sort:!1}),e.query),o=t.stringify(s,r);o&&(o=`?${o}`);let a=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(a=`#${r[c]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${o}${a}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[c]:!1},n);let{url:i,query:s,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{let i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},95172:function(e){"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var o=Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(r[a]);return o.join(" ")}if("string"!=typeof e)return e;var c=r.length;if(0===c)return e;for(var l="",u=0,h=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c||null==r[u])break;h<f&&(l+=e.slice(h,f)),l+=Number(r[u]),h=f+2,f++;break;case 105:if(u>=c||null==r[u])break;h<f&&(l+=e.slice(h,f)),l+=Math.floor(Number(r[u])),h=f+2,f++;break;case 79:case 111:case 106:if(u>=c||void 0===r[u])break;h<f&&(l+=e.slice(h,f));var p=typeof r[u];if("string"===p){l+="'"+r[u]+"'",h=f+2,f++;break}if("function"===p){l+=r[u].name||"<anonymous>",h=f+2,f++;break}l+=i(r[u]),h=f+2,f++;break;case 115:if(u>=c)break;h<f&&(l+=e.slice(h,f)),l+=String(r[u]),h=f+2,f++;break;case 37:h<f&&(l+=e.slice(h,f)),l+="%",h=f+2,f++,u--}++u}++f}return -1===h?e:(h<d&&(l+=e.slice(h)),l)}},93129:function(e){"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},59148:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},17569:function(e,t,r){var n,i=r(25566);t=e.exports=Q,n="object"==typeof i&&i.env&&i.env.NODE_DEBUG&&/\bsemver\b/i.test(i.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var s=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],a=t.safeRe=[],c=t.src=[],l=0,u="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",256],[u,250]];function d(e){for(var t=0;t<h.length;t++){var r=h[t][0],n=h[t][1];e=e.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return e}var f=l++;c[f]="0|[1-9]\\d*";var p=l++;c[p]="\\d+";var g=l++;c[g]="\\d*[a-zA-Z-]"+u+"*";var y=l++;c[y]="("+c[f]+")\\.("+c[f]+")\\.("+c[f]+")";var m=l++;c[m]="("+c[p]+")\\.("+c[p]+")\\.("+c[p]+")";var b=l++;c[b]="(?:"+c[f]+"|"+c[g]+")";var v=l++;c[v]="(?:"+c[p]+"|"+c[g]+")";var w=l++;c[w]="(?:-("+c[b]+"(?:\\."+c[b]+")*))";var E=l++;c[E]="(?:-?("+c[v]+"(?:\\."+c[v]+")*))";var A=l++;c[A]=u+"+";var _=l++;c[_]="(?:\\+("+c[A]+"(?:\\."+c[A]+")*))";var P=l++,T="v?"+c[y]+c[w]+"?"+c[_]+"?";c[P]="^"+T+"$";var I="[v=\\s]*"+c[m]+c[E]+"?"+c[_]+"?",C=l++;c[C]="^"+I+"$";var S=l++;c[S]="((?:<|>)?=?)";var O=l++;c[O]=c[p]+"|x|X|\\*";var x=l++;c[x]=c[f]+"|x|X|\\*";var R=l++;c[R]="[v=\\s]*("+c[x]+")(?:\\.("+c[x]+")(?:\\.("+c[x]+")(?:"+c[w]+")?"+c[_]+"?)?)?";var M=l++;c[M]="[v=\\s]*("+c[O]+")(?:\\.("+c[O]+")(?:\\.("+c[O]+")(?:"+c[E]+")?"+c[_]+"?)?)?";var B=l++;c[B]="^"+c[S]+"\\s*"+c[R]+"$";var N=l++;c[N]="^"+c[S]+"\\s*"+c[M]+"$";var D=l++;c[D]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var k=l++;c[k]="(?:~>?)";var W=l++;c[W]="(\\s*)"+c[k]+"\\s+",o[W]=RegExp(c[W],"g"),a[W]=RegExp(d(c[W]),"g");var U=l++;c[U]="^"+c[k]+c[R]+"$";var F=l++;c[F]="^"+c[k]+c[M]+"$";var L=l++;c[L]="(?:\\^)";var j=l++;c[j]="(\\s*)"+c[L]+"\\s+",o[j]=RegExp(c[j],"g"),a[j]=RegExp(d(c[j]),"g");var z=l++;c[z]="^"+c[L]+c[R]+"$";var $=l++;c[$]="^"+c[L]+c[M]+"$";var q=l++;c[q]="^"+c[S]+"\\s*("+I+")$|^$";var V=l++;c[V]="^"+c[S]+"\\s*("+T+")$|^$";var H=l++;c[H]="(\\s*)"+c[S]+"\\s*("+I+"|"+c[R]+")",o[H]=RegExp(c[H],"g"),a[H]=RegExp(d(c[H]),"g");var G=l++;c[G]="^\\s*("+c[R]+")\\s+-\\s+("+c[R]+")\\s*$";var K=l++;c[K]="^\\s*("+c[M]+")\\s+-\\s+("+c[M]+")\\s*$";var J=l++;c[J]="(<|>)?=?\\s*\\*";for(var Z=0;Z<l;Z++)n(Z,c[Z]),o[Z]||(o[Z]=new RegExp(c[Z]),a[Z]=new RegExp(d(c[Z])));function Y(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q)return e;if("string"!=typeof e||e.length>256||!(t.loose?a[C]:a[P]).test(e))return null;try{return new Q(e,t)}catch(e){return null}}function Q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw TypeError("Invalid Version: "+e);if(e.length>256)throw TypeError("version is longer than 256 characters");if(!(this instanceof Q))return new Q(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?a[C]:a[P]);if(!r)throw TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<s)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}t.parse=Y,t.valid=function(e,t){var r=Y(e,t);return r?r.version:null},t.clean=function(e,t){var r=Y(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=Q,Q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Q.prototype.toString=function(){return this.version},Q.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof Q||(e=new Q(e,this.options)),this.compareMain(e)||this.comparePre(e)},Q.prototype.compareMain=function(e){return e instanceof Q||(e=new Q(e,this.options)),ee(this.major,e.major)||ee(this.minor,e.minor)||ee(this.patch,e.patch)},Q.prototype.comparePre=function(e){if(e instanceof Q||(e=new Q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return ee(r,i)}while(++t)},Q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new Q(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(ei(e,t))return null;var r=Y(e),n=Y(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return i+o;return s},t.compareIdentifiers=ee;var X=/^[0-9]+$/;function ee(e,t){var r=X.test(e),n=X.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function et(e,t,r){return new Q(e,r).compare(new Q(t,r))}function er(e,t,r){return et(e,t,r)>0}function en(e,t,r){return 0>et(e,t,r)}function ei(e,t,r){return 0===et(e,t,r)}function es(e,t,r){return 0!==et(e,t,r)}function eo(e,t,r){return et(e,t,r)>=0}function ea(e,t,r){return 0>=et(e,t,r)}function ec(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return ei(e,r,n);case"!=":return es(e,r,n);case">":return er(e,r,n);case">=":return eo(e,r,n);case"<":return en(e,r,n);case"<=":return ea(e,r,n);default:throw TypeError("Invalid operator: "+t)}}function el(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof el){if(!!t.loose===e.loose)return e;e=e.value}if(!(this instanceof el))return new el(e,t);n("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===eu?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return ee(t,e)},t.major=function(e,t){return new Q(e,t).major},t.minor=function(e,t){return new Q(e,t).minor},t.patch=function(e,t){return new Q(e,t).patch},t.compare=et,t.compareLoose=function(e,t){return et(e,t,!0)},t.rcompare=function(e,t,r){return et(t,e,r)},t.sort=function(e,r){return e.sort(function(e,n){return t.compare(e,n,r)})},t.rsort=function(e,r){return e.sort(function(e,n){return t.rcompare(e,n,r)})},t.gt=er,t.lt=en,t.eq=ei,t.neq=es,t.gte=eo,t.lte=ea,t.cmp=ec,t.Comparator=el;var eu={};function eh(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof eh)return!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease?e:new eh(e.raw,t);if(e instanceof el)return new eh(e.value,t);if(!(this instanceof eh))return new eh(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw TypeError("Invalid SemVer Range: "+this.raw);this.format()}function ed(e){return!e||"x"===e.toLowerCase()||"*"===e}function ef(e,t,r,n,i,s,o,a,c,l,u,h,d){return((t=ed(r)?"":ed(n)?">="+r+".0.0":ed(i)?">="+r+"."+n+".0":">="+t)+" "+(a=ed(c)?"":ed(l)?"<"+(+c+1)+".0.0":ed(u)?"<"+c+"."+(+l+1)+".0":h?"<="+c+"."+l+"."+u+"-"+h:"<="+a)).trim()}function ep(e,t,r){try{t=new eh(t,r)}catch(e){return!1}return t.test(e)}function eg(e,t,r,n){switch(e=new Q(e,n),t=new eh(t,n),r){case">":i=er,s=ea,o=en,a=">",c=">=";break;case"<":i=en,s=eo,o=er,a="<",c="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(ep(e,t,n))return!1;for(var i,s,o,a,c,l=0;l<t.set.length;++l){var u=t.set[l],h=null,d=null;if(u.forEach(function(e){e.semver===eu&&(e=new el(">=0.0.0")),h=h||e,d=d||e,i(e.semver,h.semver,n)?h=e:o(e.semver,d.semver,n)&&(d=e)}),h.operator===a||h.operator===c||(!d.operator||d.operator===a)&&s(e,d.semver)||d.operator===c&&o(e,d.semver))return!1}return!0}el.prototype.parse=function(e){var t=this.options.loose?a[q]:a[V],r=e.match(t);if(!r)throw TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new Q(r[2],this.options.loose):this.semver=eu},el.prototype.toString=function(){return this.value},el.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===eu||("string"==typeof e&&(e=new Q(e,this.options)),ec(e,this.operator,this.semver,this.options))},el.prototype.intersects=function(e,t){if(!(e instanceof el))throw TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new eh(e.value,t),ep(this.value,r,t);if(""===e.operator)return r=new eh(this.value,t),ep(e.semver,r,t);var r,n=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),s=this.semver.version===e.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),a=ec(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ec(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||s&&o||a||c},t.Range=eh,eh.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},eh.prototype.toString=function(){return this.range},eh.prototype.parseRange=function(e){var t=this.options.loose,r=t?a[K]:a[G];n("hyphen replace",e=e.replace(r,ef)),n("comparator trim",e=e.replace(a[H],"$1$2$3"),a[H]),e=(e=e.replace(a[W],"$1~")).replace(a[j],"$1^");var i=t?a[q]:a[V],s=e.split(" ").map(function(e){var t,r,i,s;return n("comp",t=e,r=this.options),t=t.trim().split(/\s+/).map(function(e){var t;return n("caret",e,r),t=r.loose?a[$]:a[z],e.replace(t,function(t,r,i,s,o){var a;return n("caret",e,t,r,i,s,o),ed(r)?a="":ed(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ed(s)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":o?(n("replaceCaret pr",o),a="0"===r?"0"===i?">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+"-"+o+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+s+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+" <"+(+r+1)+".0.0"),n("caret return",a),a})}).join(" "),n("caret",t),t=t.trim().split(/\s+/).map(function(e){var t;return t=r.loose?a[F]:a[U],e.replace(t,function(t,r,i,s,o){var a;return n("tilde",e,t,r,i,s,o),ed(r)?a="":ed(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ed(s)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":o?(n("replaceTilde pr",o),a=">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a})}).join(" "),n("tildes",t),n("replaceXRanges",i=t,r),t=i.split(/\s+/).map(function(e){var t,i;return t=(t=e).trim(),i=r.loose?a[N]:a[B],t.replace(i,function(e,r,i,s,o,a){n("xRange",t,e,r,i,s,o,a);var c=ed(i),l=c||ed(s),u=l||ed(o);return"="===r&&u&&(r=""),c?e=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(s=0),o=0,">"===r?(r=">=",l?(i=+i+1,s=0):s=+s+1,o=0):"<="===r&&(r="<",l?i=+i+1:s=+s+1),e=r+i+"."+s+"."+o):l?e=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(e=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"),n("xRange return",e),e})}).join(" "),n("xrange",t),n("replaceStars",s=t,r),n("stars",t=s.trim().replace(a[J],"")),t},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(e){return!!e.match(i)})),s=s.map(function(e){return new el(e,this.options)},this)},eh.prototype.intersects=function(e,t){if(!(e instanceof eh))throw TypeError("a Range is required");return this.set.some(function(r){return r.every(function(r){return e.set.some(function(e){return e.every(function(e){return r.intersects(e,t)})})})})},t.toComparators=function(e,t){return new eh(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},eh.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new Q(e,this.options));for(var t=0;t<this.set.length;t++)if(function(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==eu&&e[i].semver.prerelease.length>0){var s=e[i].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}(this.set[t],e,this.options))return!0;return!1},t.satisfies=ep,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var s=new eh(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(!n||-1===i.compare(e))&&(i=new Q(n=e,r))}),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var s=new eh(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(!n||1===i.compare(e))&&(i=new Q(n=e,r))}),n},t.minVersion=function(e,t){e=new eh(e,t);var r=new Q("0.0.0");if(e.test(r)||(r=new Q("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach(function(e){var t=new Q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||er(r,t))&&(r=t);break;case"<":case"<=":break;default:throw Error("Unexpected operation: "+e.operator)}});return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new eh(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return eg(e,t,"<",r)},t.gtr=function(e,t,r){return eg(e,t,">",r)},t.outside=eg,t.prerelease=function(e,t){var r=Y(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new eh(e,r),t=new eh(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof Q)return e;if("string"!=typeof e)return null;var t=e.match(a[D]);return null==t?null:Y(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},5661:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=eY(r(24772)),s=eY(r(82226)),o=eY(r(60965)),a=eY(r(62319)),c=eY(r(52516)),l=eY(r(11327)),u=eY(r(1663)),h=eY(r(41463)),d=eY(r(70543)),f=eY(r(37790)),p=eY(r(30717)),g=eY(r(57193)),y=eY(r(2714)),m=eY(r(72033)),b=eY(r(26496)),v=eY(r(77400)),w=eY(r(18110)),E=eY(r(72044)),A=eZ(r(61603)),_=eZ(r(90591)),P=eY(r(86449)),T=eY(r(90906)),I=eY(r(2675)),C=eY(r(27335)),S=eY(r(61403)),O=eY(r(57281)),x=eY(r(22748)),R=eY(r(82583)),M=eY(r(46415)),B=eY(r(79874)),N=eY(r(8958)),D=eY(r(55971)),k=eY(r(67871)),W=eY(r(18390)),U=eZ(r(64355)),F=eY(r(37475)),L=eY(r(86873)),j=eY(r(44300)),z=eY(r(17608)),$=eY(r(86719)),q=eY(r(93088)),V=eY(r(88985)),H=eY(r(11173)),G=eZ(r(81210)),K=eY(r(36660)),J=eY(r(32223)),Z=eY(r(2805)),Y=eY(r(16135)),Q=eY(r(18012)),X=eY(r(6488)),ee=eY(r(62198)),et=eY(r(38902)),er=eY(r(95337)),en=eY(r(71122)),ei=eY(r(36043)),es=eY(r(8554)),eo=eY(r(94941)),ea=eY(r(28673)),ec=eY(r(29236)),el=eY(r(73406)),eu=eY(r(25507)),eh=eY(r(34018)),ed=eY(r(65879)),ef=eY(r(24567)),ep=eY(r(68688)),eg=eZ(r(98358)),ey=eY(r(43613)),em=eY(r(4927)),eb=eY(r(35912)),ev=r(99754),ew=eY(r(34207)),eE=eY(r(25782)),eA=eY(r(13016)),e_=eY(r(63923)),eP=eY(r(65803)),eT=eY(r(25937)),eI=eY(r(5206)),eC=eY(r(4263)),eS=eY(r(41339)),eO=eY(r(7648)),ex=eY(r(81657)),eR=eY(r(2073)),eM=eY(r(51264)),eB=eY(r(50704)),eN=eZ(r(18486)),eD=eY(r(52935)),ek=eY(r(37845)),eW=eY(r(43066)),eU=eY(r(4503)),eF=eY(r(41027)),eL=eY(r(98685)),ej=eY(r(79284)),ez=eY(r(66990)),e$=eY(r(99449)),eq=eY(r(3890)),eV=eY(r(30412)),eH=eY(r(19407)),eG=eY(r(36672)),eK=eY(r(71724));function eJ(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(eJ=function(e){return e?r:t})(e)}function eZ(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=eJ(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}function eY(e){return e&&e.__esModule?e:{default:e}}var eQ={version:"13.12.0",toDate:i.default,toFloat:s.default,toInt:o.default,toBoolean:a.default,equals:c.default,contains:l.default,matches:u.default,isEmail:h.default,isURL:d.default,isMACAddress:f.default,isIP:p.default,isIPRange:g.default,isFQDN:y.default,isBoolean:v.default,isIBAN:G.default,isBIC:K.default,isAbaRouting:E.default,isAlpha:A.default,isAlphaLocales:A.locales,isAlphanumeric:_.default,isAlphanumericLocales:_.locales,isNumeric:P.default,isPassportNumber:T.default,isPort:I.default,isLowercase:C.default,isUppercase:S.default,isAscii:x.default,isFullWidth:R.default,isHalfWidth:M.default,isVariableWidth:B.default,isMultibyte:N.default,isSemVer:D.default,isSurrogatePair:k.default,isInt:W.default,isIMEI:O.default,isFloat:U.default,isFloatLocales:U.locales,isDecimal:F.default,isHexadecimal:L.default,isOctal:j.default,isDivisibleBy:z.default,isHexColor:$.default,isRgbColor:q.default,isHSL:V.default,isISRC:H.default,isMD5:J.default,isHash:Z.default,isJWT:Y.default,isJSON:Q.default,isEmpty:X.default,isLength:ee.default,isLocale:w.default,isByteLength:et.default,isUUID:er.default,isMongoId:en.default,isAfter:ei.default,isBefore:es.default,isIn:eo.default,isLuhnNumber:ea.default,isCreditCard:ec.default,isIdentityCard:el.default,isEAN:eu.default,isISIN:eh.default,isISBN:ed.default,isISSN:ef.default,isMobilePhone:eg.default,isMobilePhoneLocales:eg.locales,isPostalCode:eN.default,isPostalCodeLocales:eN.locales,isEthereumAddress:ey.default,isCurrency:em.default,isBtcAddress:eb.default,isISO6346:ev.isISO6346,isFreightContainerID:ev.isFreightContainerID,isISO6391:ew.default,isISO8601:eE.default,isRFC3339:eA.default,isISO31661Alpha2:e_.default,isISO31661Alpha3:eP.default,isISO4217:eT.default,isBase32:eI.default,isBase58:eC.default,isBase64:eS.default,isDataURI:eO.default,isMagnetURI:ex.default,isMailtoURI:eR.default,isMimeType:eM.default,isLatLong:eB.default,ltrim:eD.default,rtrim:ek.default,trim:eW.default,escape:eU.default,unescape:eF.default,stripLow:eL.default,whitelist:ej.default,blacklist:ez.default,isWhitelisted:e$.default,normalizeEmail:eq.default,toString:toString,isSlug:eV.default,isStrongPassword:eG.default,isTaxID:ep.default,isDate:m.default,isTime:b.default,isLicensePlate:eH.default,isVAT:eK.default,ibanLocales:G.locales};t.default=eQ,e.exports=t.default,e.exports.default=t.default},91725:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.farsiLocales=t.englishLocales=t.dotDecimal=t.decimal=t.commaDecimal=t.bengaliLocales=t.arabicLocales=t.alphanumeric=t.alpha=void 0;for(var r,n=t.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ]+$/i,"bg-BG":/^[-]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"el-GR":/^[-]+$/i,"es-ES":/^[A-Z]+$/i,"fa-IR":/^[]+$/i,"fi-FI":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"it-IT":/^[A-Z]+$/i,"ja-JP":/^[----]+$/i,"nb-NO":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"nn-NO":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"kk-KZ":/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z]+$/i,"sk-SK":/^[A-Z]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"sv-SE":/^[A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,"vi-VN":/^[A-Z]+$/i,"ko-KR":/^[---]*$/,"ku-IQ":/^[]+$/i,ar:/^[]+$/,he:/^[-]+$/,fa:/^['']+$/i,bn:/^['']+$/,eo:/^[ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},i=t.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ]+$/i,"bg-BG":/^[0-9-]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"el-GR":/^[0-9-]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fi-FI":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"it-IT":/^[0-9A-Z]+$/i,"ja-JP":/^[0-9-----]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nb-NO":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"nn-NO":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"kk-KZ":/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z]+$/i,"sk-SK":/^[0-9A-Z]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"sv-SE":/^[0-9A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,"ko-KR":/^[0-9---]*$/,"ku-IQ":/^[0-9]+$/i,"vi-VN":/^[0-9A-Z]+$/i,ar:/^[0-9]+$/,he:/^[0-9-]+$/,fa:/^['0-9']+$/i,bn:/^['']+$/,eo:/^[0-9ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},s=t.decimal={"en-US":".",ar:""},o=t.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],a=0;a<o.length;a++)n[r="en-".concat(o[a])]=n["en-US"],i[r]=i["en-US"],s[r]=s["en-US"];for(var c,l=t.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],u=0;u<l.length;u++)n[c="ar-".concat(l[u])]=n.ar,i[c]=i.ar,s[c]=s.ar;for(var h,d=t.farsiLocales=["IR","AF"],f=0;f<d.length;f++)i[h="fa-".concat(d[f])]=i.fa,s[h]=s.ar;for(var p,g=t.bengaliLocales=["BD","IN"],y=0;y<g.length;y++)n[p="bn-".concat(g[y])]=n.bn,i[p]=i.bn,s[p]=s["en-US"];for(var m=t.dotDecimal=["ar-EG","ar-LB","ar-LY"],b=t.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],v=0;v<m.length;v++)s[m[v]]=s["en-US"];for(var w=0;w<b.length;w++)s[b[w]]=",";n["fr-CA"]=n["fr-FR"],i["fr-CA"]=i["fr-FR"],n["pt-BR"]=n["pt-PT"],i["pt-BR"]=i["pt-PT"],s["pt-BR"]=s["pt-PT"],n["pl-Pl"]=n["pl-PL"],i["pl-Pl"]=i["pl-PL"],s["pl-Pl"]=s["pl-PL"],n["fa-AF"]=n.fa},66990:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(RegExp("[".concat(t,"]+"),"g"),"")};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},11327:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return((0,n.default)(e),(r=(0,s.default)(r,a)).ignoreCase)?e.toLowerCase().split((0,i.default)(t).toLowerCase()).length>r.minOccurrences:e.split((0,i.default)(t)).length>r.minOccurrences};var n=o(r(59181)),i=o(r(56426)),s=o(r(92877));function o(e){return e&&e.__esModule?e:{default:e}}var a={ignoreCase:!1,minOccurrences:1};e.exports=t.default,e.exports.default=t.default},52516:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e===t};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},4503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},72044:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!s.test(e))return!1;for(var t=0,r=0;r<e.length;r++)r%3==0?t+=3*e[r]:r%3==1?t+=7*e[r]:t+=1*e[r];return t%10==0};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;e.exports=t.default,e.exports.default=t.default},36043:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(null==t?void 0:t.comparisonDate)||t||Date().toString(),n=(0,i.default)(r),s=(0,i.default)(e);return!!(s&&n&&s>n)};var n,i=(n=r(24772))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},61603:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var n=e,o=r.ignore;if(o){if(o instanceof RegExp)n=n.replace(o,"");else if("string"==typeof o)n=n.replace(RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw Error("ignore should be instance of a String or RegExp")}if(t in s.alpha)return s.alpha[t].test(n);throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=r(91725);t.locales=Object.keys(s.alpha)},90591:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var n=e,o=r.ignore;if(o){if(o instanceof RegExp)n=n.replace(o,"");else if("string"==typeof o)n=n.replace(RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw Error("ignore should be instance of a String or RegExp")}if(t in s.alphanumeric)return s.alphanumeric[t].test(n);throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=r(91725);t.locales=Object.keys(s.alphanumeric)},22748:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},36660:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.slice(4,6).toUpperCase();return(!!s.CountryCodes.has(t)||"XK"===t)&&o.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=r(63923),o=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;e.exports=t.default,e.exports.default=t.default},5206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return((0,n.default)(e),(t=(0,i.default)(t,c)).crockford)?a.test(e):!!(e.length%8==0&&o.test(e))};var n=s(r(59181)),i=s(r(92877));function s(e){return e&&e.__esModule?e:{default:e}}var o=/^[A-Z2-7]+=*$/,a=/^[A-HJKMNP-TV-Z0-9]+$/,c={crockford:!1};e.exports=t.default,e.exports.default=t.default},4263:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),!!s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[A-HJ-NP-Za-km-z1-9]*$/;e.exports=t.default,e.exports.default=t.default},41339:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),t=(0,i.default)(t,c);var r=e.length;if(t.urlSafe)return a.test(e);if(r%4!=0||o.test(e))return!1;var s=e.indexOf("=");return -1===s||s===r-1||s===r-2&&"="===e[r-1]};var n=s(r(59181)),i=s(r(92877));function s(e){return e&&e.__esModule?e:{default:e}}var o=/[^A-Z0-9+\/=]/i,a=/^[A-Z0-9_\-]*$/i,c={urlSafe:!1};e.exports=t.default,e.exports.default=t.default},8554:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,n.default)(e);var r=(0,i.default)(t),s=(0,i.default)(e);return!!(s&&r&&s<r)};var n=s(r(59181)),i=s(r(24772));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},77400:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return((0,i.default)(e),t.loose)?a.includes(e.toLowerCase()):o.includes(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s={loose:!1},o=["true","false","1","0"],a=[].concat(o,["yes","no"]);e.exports=t.default,e.exports.default=t.default},35912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)||o.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(bc1)[a-z0-9]{25,39}$/,o=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;e.exports=t.default,e.exports.default=t.default},38902:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),"object"===s(t)?(r=t.min||0,n=t.max):(r=arguments[1],n=arguments[2]);var r,n,o=encodeURI(e).split(/%..|./).length-1;return o>=r&&(void 0===n||o<=n)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},29236:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(e);var r=t.provider,s=e.replace(/[- ]+/g,"");if(r&&r.toLowerCase() in o){if(!o[r.toLowerCase()].test(s))return!1}else if(!r||r.toLowerCase() in o){if(!a.some(function(e){return e.test(s)}))return!1}else throw Error("".concat(r," is not a valid credit card provider."));return(0,i.default)(e)};var n=s(r(59181)),i=s(r(28673));function s(e){return e&&e.__esModule?e:{default:e}}var o={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},a=function(){var e=[];for(var t in o)o.hasOwnProperty(t)&&e.push(o[t]);return e}();e.exports=t.default,e.exports.default=t.default},4927:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),(function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach(function(e,r){0!==r&&(t="".concat(t,"|\\d{").concat(e,"}"))});var r="(".concat(e.symbol.replace(/\W/,function(e){return"\\".concat(e)}),")").concat(e.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),i="(".concat(["0","[1-9]\\d*",n].join("|"),")?"),s="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),o=i+(e.allow_decimal||e.require_decimal?s:"");return e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?o+="-?":e.negative_sign_before_digits&&(o="-?"+o)),e.allow_negative_sign_placeholder?o="( (?!\\-))?".concat(o):e.allow_space_after_symbol?o=" ?".concat(o):e.allow_space_after_digits&&(o+="( (?!$))?"),e.symbol_after_digits?o+=r:o=r+o,e.allow_negatives&&(e.parens_for_negatives?o="(\\(".concat(o,"\\)|").concat(o,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(o="-?"+o)),new RegExp("^(?!-? )(?=.*\\d)".concat(o,"$"))})(t=(0,n.default)(t,o)).test(e)};var n=s(r(92877)),i=s(r(59181));function s(e){return e&&e.__esModule?e:{default:e}}var o={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},7648:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.split(",");if(t.length<2)return!1;var r=t.shift().trim().split(";"),n=r.shift();if("data:"!==n.slice(0,5))return!1;var c=n.slice(5);if(""!==c&&!s.test(c))return!1;for(var l=0;l<r.length;l++)if(!(l===r.length-1&&"base64"===r[l].toLowerCase())&&!o.test(r[l]))return!1;for(var u=0;u<t.length;u++)if(!a.test(t[u]))return!1;return!0};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,o=/^[a-z\-]+=[a-z0-9\-]+$/i,a=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},72033:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t="string"==typeof t?(0,i.default)({format:t},a):(0,i.default)(t,a),"string"==typeof e&&(r=t.format,/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(r))){var r,n,o=t.delimiters.find(function(e){return -1!==t.format.indexOf(e)}),c=t.strictMode?o:t.delimiters.find(function(t){return -1!==e.indexOf(t)}),l=function(e,t){for(var r=[],n=Math.min(e.length,t.length),i=0;i<n;i++)r.push([e[i],t[i]]);return r}(e.split(c),t.format.toLowerCase().split(o)),u={},h=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}(l);try{for(h.s();!(n=h.n()).done;){var d,f=(d=n.value,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s,o,a=[],c=!0,l=!1;try{for(s=(r=r.call(e)).next;!(c=(n=s.call(r)).done)&&(a.push(n.value),2!==a.length);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(d,2)||s(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],g=f[1];if(p.length!==g.length)return!1;u[g.charAt(0)]=p}}catch(e){h.e(e)}finally{h.f()}var y=u.y;if(y.startsWith("-"))return!1;if(2===u.y.length){var m=parseInt(u.y,10);if(isNaN(m))return!1;y=m<new Date().getFullYear()%100?"20".concat(u.y):"19".concat(u.y)}var b=u.m;1===u.m.length&&(b="0".concat(u.m));var v=u.d;return 1===u.d.length&&(v="0".concat(u.d)),new Date("".concat(y,"-").concat(b,"-").concat(v,"T00:00:00.000Z")).getUTCDate()===+u.d}return!t.strictMode&&"[object Date]"===Object.prototype.toString.call(e)&&isFinite(e)};var n,i=(n=r(92877))&&n.__esModule?n:{default:n};function s(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};e.exports=t.default,e.exports.default=t.default},37475:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(t=(0,n.default)(t,c)).locale in o.decimal){var r;return!(0,s.default)(l,e.replace(/ /g,""))&&(r=t,new RegExp("^[-+]?([0-9]+)?(\\".concat(o.decimal[r.locale],"[0-9]{").concat(r.decimal_digits,"})").concat(r.force_decimal?"":"?","$"))).test(e)}throw Error("Invalid locale '".concat(t.locale,"'"))};var n=a(r(92877)),i=a(r(59181)),s=a(r(55123)),o=r(91725);function a(e){return e&&e.__esModule?e:{default:e}}var c={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},l=["","-","+"];e.exports=t.default,e.exports.default=t.default},17608:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),(0,i.default)(e)%parseInt(t,10)==0};var n=s(r(59181)),i=s(r(82226));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},25507:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t,r=Number(e.slice(-1));return s.test(e)&&r===((t=10-e.slice(0,-1).split("").map(function(t,r){var n;return Number(t)*(8===(n=e.length)||14===n?r%2==0?3:1:r%2==0?1:3)}).reduce(function(e,t){return e+t},0)%10)<10?t:0)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(\d{8}|\d{13}|\d{14})$/;e.exports=t.default,e.exports.default=t.default},41463:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),(t=(0,a.default)(t,l)).require_display_name||t.allow_display_name){var r=e.match(u);if(r){var c,y,m=r[1];if(e=e.replace(m,"").replace(/(^<|>$)/g,""),m.endsWith(" ")&&(m=m.slice(0,-1)),!(y=(c=m).replace(/^"(.+)"$/,"$1")).trim()||/[\.";<>]/.test(y)&&(y===c||y.split('"').length!==y.split('\\"').length))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var b=e.split("@"),v=b.pop(),w=v.toLowerCase();if(t.host_blacklist.includes(w)||t.host_whitelist.length>0&&!t.host_whitelist.includes(w))return!1;var E=b.join("@");if(t.domain_specific_validation&&("gmail.com"===w||"googlemail.com"===w)){var A=(E=E.toLowerCase()).split("+")[0];if(!(0,i.default)(A.replace(/\./g,""),{min:6,max:30}))return!1;for(var _=A.split("."),P=0;P<_.length;P++)if(!d.test(_[P]))return!1}if(!1===t.ignore_max_length&&(!(0,i.default)(E,{max:64})||!(0,i.default)(v,{max:254})))return!1;if(!(0,s.default)(v,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,o.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var T=v.slice(1,-1);if(0===T.length||!(0,o.default)(T))return!1}}if('"'===E[0])return E=E.slice(1,E.length-1),t.allow_utf8_local_part?g.test(E):f.test(E);for(var I=t.allow_utf8_local_part?p:h,C=E.split("."),S=0;S<C.length;S++)if(!I.test(C[S]))return!1;return!t.blacklisted_chars||-1===E.search(RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))};var n=c(r(59181)),i=c(r(38902)),s=c(r(2714)),o=c(r(30717)),a=c(r(92877));function c(e){return e&&e.__esModule?e:{default:e}}var l={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,f=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},6488:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),((t=(0,i.default)(t,o)).ignore_whitespace?e.trim().length:e.length)===0};var n=s(r(59181)),i=s(r(92877));function s(e){return e&&e.__esModule?e:{default:e}}var o={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},43613:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(0x)[0-9a-f]{40}$/i;e.exports=t.default,e.exports.default=t.default},2714:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,i.default)(t,o)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),s=r[r.length-1];return!(t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(s)||/\s/.test(s))||!t.allow_numeric_tld&&/^\d+$/.test(s))&&r.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})};var n=s(r(59181)),i=s(r(92877));function s(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};e.exports=t.default,e.exports.default=t.default},64355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),t=t||{};var r=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?s.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||","===e||"-"===e||"+"===e)return!1;var n=parseFloat(e.replace(",","."));return r.test(e)&&(!t.hasOwnProperty("min")||n>=t.min)&&(!t.hasOwnProperty("max")||n<=t.max)&&(!t.hasOwnProperty("lt")||n<t.lt)&&(!t.hasOwnProperty("gt")||n>t.gt)},t.locales=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=r(91725);t.locales=Object.keys(s.decimal)},82583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)},t.fullWidth=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=t.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},88985:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return -1!==t.indexOf(",")?s.test(t):o.test(t)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,o=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;e.exports=t.default,e.exports.default=t.default},46415:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)},t.halfWidth=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=t.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},2805:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),new RegExp("^[a-fA-F0-9]{".concat(s[t],"}$")).test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},86719:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;e.exports=t.default,e.exports.default=t.default},86873:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(0x|0h)?[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},81210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(e),n=(r=(t=e.replace(/[\s\-]+/gi,"").toUpperCase()).slice(0,2).toUpperCase())in s,(!a.whitelist||!(a.whitelist.filter(function(e){return!(e in s)}).length>0)&&!!a.whitelist.includes(r))&&!(a.blacklist&&a.blacklist.includes(r))&&n&&s[r].test(t)&&1===((o=e.replace(/[^A-Z0-9]+/gi,"").toUpperCase()).slice(4)+o.slice(0,4)).replace(/[A-Z]/g,function(e){return e.charCodeAt(0)-55}).match(/\d{1,7}/g).reduce(function(e,t){return Number(e+t)%97},"")},t.locales=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};t.locales=Object.keys(s)},57281:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=s;if((t=t||{}).allow_hyphens&&(r=o),!r.test(e))return!1;e=e.replace(/-/g,"");for(var n=0,a=2,c=0;c<14;c++){var l=parseInt(e.substring(14-c-1,14-c),10)*a;l>=10?n+=l%10+1:n+=l,1===a?a+=1:a-=1}return(10-n%10)%10===parseInt(e.substring(14,15),10)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[0-9]{15}$/,o=/^\d{2}-\d{6}-\d{6}-\d{1}$/;e.exports=t.default,e.exports.default=t.default},30717:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return((0,i.default)(t),r=String(r))?"4"===r?a.test(t):"6"===r&&l.test(t):e(t,4)||e(t,6)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(s,"[.]){3}").concat(s),a=new RegExp("^".concat(o,"$")),c="(?:[0-9a-fA-F]{1,4})",l=RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(o,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(o,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(o,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(o,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(o,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(o,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(o,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},57193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,n.default)(e);var r=e.split("/");if(2!==r.length||!o.test(r[1])||r[1].length>1&&r[1].startsWith("0")||!(0,i.default)(r[0],t))return!1;var s=null;switch(String(t)){case"4":s=32;break;case"6":s=128;break;default:s=(0,i.default)(r[0],"6")?128:32}return r[1]<=s&&r[1]>=0};var n=s(r(59181)),i=s(r(30717));function s(e){return e&&e.__esModule?e:{default:e}}var o=/^\d{1,3}$/;e.exports=t.default,e.exports.default=t.default},65879:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){(0,i.default)(t);var n=String((null==r?void 0:r.version)||r);if(!(null!=r&&r.version||r))return e(t,{version:10})||e(t,{version:13});var c=t.replace(/[\s-]+/g,""),l=0;if("10"===n){if(!s.test(c))return!1;for(var u=0;u<n-1;u++)l+=(u+1)*c.charAt(u);if("X"===c.charAt(9)?l+=100:l+=10*c.charAt(9),l%11==0)return!0}else if("13"===n){if(!o.test(c))return!1;for(var h=0;h<12;h++)l+=a[h%2]*c.charAt(h);if(c.charAt(12)-(10-l%10)%10==0)return!0}return!1};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(?:[0-9]{9}X|[0-9]{10})$/,o=/^(?:[0-9]{13})$/,a=[1,3];e.exports=t.default,e.exports.default=t.default},34018:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!s.test(e))return!1;for(var t=!0,r=0,n=e.length-2;n>=0;n--)if(e[n]>="A"&&e[n]<="Z")for(var o=e[n].charCodeAt(0)-55,a=o%10,c=Math.trunc(o/10),l=0,u=[a,c];l<u.length;l++){var h=u[l];t?h>=5?r+=1+(h-5)*2:r+=2*h:r+=h,t=!t}else{var d=e[n].charCodeAt(0)-48;t?d>=5?r+=1+(d-5)*2:r+=2*d:r+=d,t=!t}var f=10*Math.trunc((r+9)/10)-r;return+e[e.length-1]===f};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},63923:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CountryCodes=void 0,t.default=function(e){return(0,i.default)(e),s.has(e.toUpperCase())};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);t.CountryCodes=s},65803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.has(e.toUpperCase())};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);e.exports=t.default,e.exports.default=t.default},25937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyCodes=void 0,t.default=function(e){return(0,i.default)(e),s.has(e.toUpperCase())};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);t.CurrencyCodes=s},99754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFreightContainerID=void 0,t.isISO6346=a;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,o=/^[0-9]$/;function a(e){if((0,i.default)(e),e=e.toUpperCase(),!s.test(e))return!1;if(11===e.length){for(var t=0,r=0;r<e.length-1;r++)if(o.test(e[r]))t+=e[r]*Math.pow(2,r);else{var n=e.charCodeAt(r)-55;t+=(n<11?n:n>=11&&n<=20?12+n%11:n>=21&&n<=30?23+n%21:34+n%31)*Math.pow(2,r)}var a=t%11;return Number(e[e.length-1])===a}return!0}t.isFreightContainerID=a},34207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.has(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);e.exports=t.default,e.exports.default=t.default},25782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var r=t.strictSeparator?o.test(e):s.test(e);return r&&t.strict?a(e):r};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var r=Number(t[1]),n=Number(t[2]);return r%4==0&&r%100!=0||r%400==0?n<=366:n<=365}var i=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),s=i[1],o=i[2],a=i[3],c=o?"0".concat(o).slice(-2):o,l=a?"0".concat(a).slice(-2):a,u=new Date("".concat(s,"-").concat(c||"01","-").concat(l||"01"));return!o||!a||u.getUTCFullYear()===s&&u.getUTCMonth()+1===o&&u.getUTCDate()===a};e.exports=t.default,e.exports.default=t.default},11173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},24567:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var r="^\\d{4}-?\\d{3}[\\dX]$";if(r=t.require_hyphen?r.replace("?",""):r,!(r=t.case_sensitive?new RegExp(r):RegExp(r,"i")).test(e))return!1;for(var n=e.replace("-","").toUpperCase(),s=0,o=0;o<n.length;o++){var a=n[o];s+=("X"===a?10:+a)*(8-o)}return s%11==0};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},73406:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t in o)return o[t](e);if("any"===t){for(var r in o)if(o.hasOwnProperty(r)&&(0,o[r])(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))};var n=s(r(59181)),i=s(r(18390));function s(e){return e&&e.__esModule?e:{default:e}}var o={PL:function(e){(0,n.default)(e);var t={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=e&&11===e.length&&(0,i.default)(e,{allow_leading_zeroes:!0})){var r=e.split("").slice(0,-1).reduce(function(e,r,n){return e+Number(r)*t[n+1]},0)%10,s=Number(e.charAt(e.length-1));if(0===r&&0===s||s===10-r)return!0}return!1},ES:function(e){(0,n.default)(e);var t={X:0,Y:1,Z:2},r=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(r))return!1;var i=r.slice(0,-1).replace(/[X,Y,Z]/g,function(e){return t[e]});return r.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][i%23])},FI:function(e){return(0,n.default)(e),!!(11===e.length&&e.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))&&"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(e.slice(0,6),10)+parseInt(e.slice(7,10),10))%31]===e.slice(10,11)},IN:function(e){var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],r=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],n=e.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(n))return!1;var i=0;return n.replace(/\s/g,"").split("").map(Number).reverse().forEach(function(e,n){i=t[i][r[n%8][e]]}),0===i},IR:function(e){if(!e.match(/^\d{10}$/)||0===parseInt((e="0000".concat(e).slice(e.length-6)).slice(3,9),10))return!1;for(var t=parseInt(e.slice(9,10),10),r=0,n=0;n<9;n++)r+=parseInt(e.slice(n,n+1),10)*(10-n);return(r%=11)<2&&t===r||r>=2&&t===11-r},IT:function(e){return 9===e.length&&"CA00000AA"!==e&&e.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(e){var t=e.trim();if(isNaN(Number(t))||11!==t.length||"00000000000"===t)return!1;var r=t.split("").map(Number),n=(11-(3*r[0]+7*r[1]+6*r[2]+1*r[3]+8*r[4]+9*r[5]+4*r[6]+5*r[7]+2*r[8])%11)%11,i=(11-(5*r[0]+4*r[1]+3*r[2]+2*r[3]+7*r[4]+6*r[5]+5*r[6]+4*r[7]+3*r[8]+2*n)%11)%11;return n===r[9]&&i===r[10]},TH:function(e){if(!e.match(/^[1-8]\d{12}$/))return!1;for(var t=0,r=0;r<12;r++)t+=parseInt(e[r],10)*(13-r);return e[12]===((11-t%11)%10).toString()},LK:function(e){return!!(10===e.length&&/^[1-9]\d{8}[vx]$/i.test(e))||!!(12===e.length&&/^[1-9]\d{11}$/i.test(e))},"he-IL":function(e){var t=e.trim();if(!/^\d{9}$/.test(t))return!1;for(var r,n=0,i=0;i<t.length;i++)n+=(r=Number(t[i])*(i%2+1))>9?r-9:r;return n%10==0},"ar-LY":function(e){var t=e.trim();return!!/^(1|2)\d{11}$/.test(t)},"ar-TN":function(e){var t=e.trim();return!!/^\d{8}$/.test(t)},"zh-CN":function(e){var t,r,n=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],i=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],s=["1","0","X","9","8","7","6","5","4","3","2"],o=function(e){return n.includes(e)},a=function(e){var t=parseInt(e.substring(0,4),10),r=parseInt(e.substring(4,6),10),n=parseInt(e.substring(6),10),i=new Date(t,r-1,n);if(i>new Date);else if(i.getFullYear()===t&&i.getMonth()===r-1&&i.getDate()===n)return!0;return!1};return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(e)&&(15===e.length?!!(/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(e)&&o(e.substring(0,2))&&a("19".concat(e.substring(6,12)))):!!(/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(e)&&o(e.substring(0,2))&&a(e.substring(6,14)))&&function(e){for(var t=e.substring(0,17),r=0,n=0;n<17;n++)r+=parseInt(t.charAt(n),10)*parseInt(i[n],10);return s[r%11]}(e)===e.charAt(17).toUpperCase())},"zh-HK":function(e){e=e.trim();var t=/^[0-9]$/;if(e=e.toUpperCase(),!/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/.test(e))return!1;8===(e=e.replace(/\[|\]|\(|\)/g,"")).length&&(e="3".concat(e));for(var r=0,n=0;n<=7;n++)r+=(t.test(e[n])?e[n]:(e[n].charCodeAt(0)-55)%11)*(9-n);return(0==(r%=11)?"0":1===r?"A":String(11-r))===e[e.length-1]},"zh-TW":function(e){var t={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},r=e.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(r)&&Array.from(r).reduce(function(e,r,n){if(0===n){var i=t[r];return i%10*9+Math.floor(i/10)}return 9===n?(10-e%10-Number(r))%10==0:e+Number(r)*(9-n)},0)}};e.exports=t.default,e.exports.default=t.default},94941:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var r,s=[];for(r in t)({}).hasOwnProperty.call(t,r)&&(s[r]=(0,i.default)(t[r]));return s.indexOf(e)>=0}return"object"===o(t)?t.hasOwnProperty(e):!!t&&"function"==typeof t.indexOf&&t.indexOf(e)>=0};var n=s(r(59181)),i=s(r(56426));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},18390:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=!1===(t=t||{}).allow_leading_zeroes?s:o,n=!t.hasOwnProperty("min")||e>=t.min,a=!t.hasOwnProperty("max")||e<=t.max,c=!t.hasOwnProperty("lt")||e<t.lt,l=!t.hasOwnProperty("gt")||e>t.gt;return r.test(e)&&n&&a&&c&&l};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,o=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},18012:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);try{t=(0,i.default)(t,a);var r=[];t.allow_primitives&&(r=[null,!1,!0]);var s=JSON.parse(e);return r.includes(s)||!!s&&"object"===o(s)}catch(e){}return!1};var n=s(r(59181)),i=s(r(92877));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={allow_primitives:!1};e.exports=t.default,e.exports.default=t.default},16135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);var t=e.split(".");return 3===t.length&&t.reduce(function(e,t){return e&&(0,i.default)(t,{urlSafe:!0})},!0)};var n=s(r(59181)),i=s(r(41339));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},50704:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t=(0,i.default)(t,u),!e.includes(","))return!1;var r=e.split(",");return!(r[0].startsWith("(")&&!r[1].endsWith(")")||r[1].endsWith(")")&&!r[0].startsWith("("))&&(t.checkDMS?c.test(r[0])&&l.test(r[1]):o.test(r[0])&&a.test(r[1]))};var n=s(r(59181)),i=s(r(92877));function s(e){return e&&e.__esModule?e:{default:e}}var o=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,a=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,c=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,l=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,u={checkDMS:!1};e.exports=t.default,e.exports.default=t.default},62198:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),"object"===s(t)?(r=t.min||0,n=t.max):(r=arguments[1]||0,n=arguments[2]);var r,n,o=e.match(/(\uFE0F|\uFE0E)/g)||[],a=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],c=e.length-o.length-a.length;return c>=r&&(void 0===n||c<=n)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},19407:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in s)return s[t](e);if("any"===t){for(var r in s)if((0,s[r])(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s={"cs-CZ":function(e){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(e)},"de-DE":function(e){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G|GP|GR|GS|GT|G|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T|B|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BD|BUL|BR|BS|BZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL|FOR|FRG|FRI|FRW|FTL|FS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM|HOG|HOH|HOL|HOM|HOR|HS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JL|KEH|KEL|KEM|KIB|KLE|KLZ|KN|KT|KZ|KRU|KN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LB|LOS|LRO|LSZ|LN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MB|MR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL|PR|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RD|RG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL|SLZ|SM|SOB|SOG|SOK|SM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SW|SWA|SZB|TBB|TDO|TET|TIR|TL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(e)},"de-LI":function(e){return/^FL[- ]?\d{1,5}[UZ]?$/.test(e)},"en-IN":function(e){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(e)},"es-AR":function(e){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(e)},"fi-FI":function(e){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(e)},"hu-HU":function(e){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(e)},"pt-BR":function(e){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(e)},"pt-PT":function(e){return/^([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})$/.test(e)},"sq-AL":function(e){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(e)},"sv-SE":function(e){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z ]{2,7}$)/.test(e.trim())},"en-PK":function(e){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(e.trim())}};e.exports=t.default,e.exports.default=t.default},18110:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),l.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s="(x(-[A-Za-z0-9]{1,8})+)",o="(".concat("((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))","|").concat("((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",")"),a="(-|_)",c="".concat("(([a-zA-Z]{2,3}(-".concat("([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",")?)|([a-zA-Z]{5,8}))"),"(").concat(a).concat("([A-Za-z]{4})",")?(").concat(a).concat("([A-Za-z]{2}|\\d{3})",")?(").concat(a).concat("([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",")*(").concat(a).concat("(".concat("(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])","(-[A-Za-z0-9]{2,8})+)"),")*(").concat(a).concat(s,")?"),l=new RegExp("(^".concat(s,"$)|(^").concat(o,"$)|(^").concat(c,"$)"));e.exports=t.default,e.exports.default=t.default},27335:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toLowerCase()};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},28673:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);for(var t,r,n=e.replace(/[- ]+/g,""),s=0,o=n.length-1;o>=0;o--)t=parseInt(n.substring(o,o+1),10),r&&(t*=2)>=10?s+=t%10+1:s+=t,r=!r;return!!(s%10==0&&n)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},37790:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){return((0,i.default)(t),null!=r&&r.eui&&(r.eui=String(r.eui)),null!=r&&r.no_colons||null!=r&&r.no_separators)?"48"===r.eui?o.test(t):"64"===r.eui?l.test(t):o.test(t)||l.test(t):(null==r?void 0:r.eui)==="48"?s.test(t)||a.test(t):(null==r?void 0:r.eui)==="64"?c.test(t)||u.test(t):e(t,{eui:"48"})||e(t,{eui:"64"})};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,o=/^([0-9a-fA-F]){12}$/,a=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,c=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,l=/^([0-9a-fA-F]){16}$/,u=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;e.exports=t.default,e.exports.default=t.default},32223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},81657:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),0===e.indexOf("magnet:?")&&s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;e.exports=t.default,e.exports.default=t.default},2073:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,s.default)(e),0!==e.indexOf("mailto:"))return!1;var r=a(e.replace("mailto:","").split("?"),2),o=r[0],l=r[1],u=void 0===l?"":l;if(!o&&!u)return!0;var h=function(e){var t=new Set(["subject","body","cc","bcc"]),r={cc:"",bcc:""},n=!1,i=e.split("&");if(i.length>4)return!1;var s,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}(i);try{for(o.s();!(s=o.n()).done;){var l=s.value.split("="),u=a(l,2),h=u[0],d=u[1];if(h&&!t.has(h)){n=!0;break}d&&("cc"===h||"bcc"===h)&&(r[h]=d),h&&t.delete(h)}}catch(e){o.e(e)}finally{o.f()}return!n&&r}(u);return!!h&&"".concat(o,",").concat(h.cc,",").concat(h.bcc).split(",").every(function(e){return!(e=(0,n.default)(e," "))||(0,i.default)(e,t)})};var n=o(r(43066)),i=o(r(41463)),s=o(r(59181));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s,o,a=[],c=!0,l=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(e,t)||c(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}e.exports=t.default,e.exports.default=t.default},51264:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)||o.test(e)||a.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,o=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,a=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},98358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if((0,i.default)(e),r&&r.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some(function(t){return!!(s.hasOwnProperty(t)&&s[t].test(e))});if(t in s)return s[t].test(e);if(!t||"any"===t){for(var n in s)if(s.hasOwnProperty(n)&&s[n].test(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};s["en-CA"]=s["en-US"],s["fr-CA"]=s["en-CA"],s["fr-BE"]=s["nl-BE"],s["zh-HK"]=s["en-HK"],s["zh-MO"]=s["en-MO"],s["ga-IE"]=s["en-IE"],s["fr-CH"]=s["de-CH"],s["it-CH"]=s["fr-CH"],t.locales=Object.keys(s)},71122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,i.default)(e)&&24===e.length};var n=s(r(59181)),i=s(r(86873));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},8958:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},86449:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return((0,i.default)(e),t&&t.no_symbols)?o.test(e):new RegExp("^[+-]?([0-9]*[".concat((t||{}).locale?s.decimal[t.locale]:".","])?[0-9]+$")).test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=r(91725),o=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},44300:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^(0o)?[0-7]+$/i;e.exports=t.default,e.exports.default=t.default},90906:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=e.replace(/\s/g,"").toUpperCase();return t.toUpperCase() in s&&s[t].test(r)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};e.exports=t.default,e.exports.default=t.default},2675:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e,{allow_leading_zeroes:!1,min:0,max:65535})};var n,i=(n=r(18390))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},18486:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in l)return l[t].test(e);if("any"===t){for(var r in l)if(l.hasOwnProperty(r)&&l[r].test(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^\d{3}$/,o=/^\d{4}$/,a=/^\d{5}$/,c=/^\d{6}$/,l={AD:/^AD\d{3}$/,AT:o,AU:o,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:o,BG:o,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:o,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:a,DK:o,DO:a,DZ:a,EE:a,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:a,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:o,ID:a,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:s,IT:a,JP:/^\d{3}\-\d{4}$/,KE:a,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:o,LV:/^LV\-\d{4}$/,LK:a,MG:s,MX:a,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:a,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:o,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:o,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:c,RU:c,SA:a,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:c,SI:o,SK:/^\d{3}\s?\d{2}$/,TH:a,TN:o,TW:/^\d{3}(\d{2})?$/,UA:a,US:/^\d{5}(-\d{4})?$/,ZA:o,ZM:a};t.locales=Object.keys(l)},13016:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),d.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/([01][0-9]|2[0-3])/,o=/[0-5][0-9]/,a=new RegExp("[-+]".concat(s.source,":").concat(o.source)),c=new RegExp("([zZ]|".concat(a.source,")")),l=new RegExp("".concat(s.source,":").concat(o.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),u=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),h=new RegExp("".concat(l.source).concat(c.source)),d=new RegExp("^".concat(u.source,"[ tT]").concat(h.source,"$"));e.exports=t.default,e.exports.default=t.default},93088:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return((0,i.default)(e),t)?s.test(e)||o.test(e)||a.test(e)||c.test(e):s.test(e)||o.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,o=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,a=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,c=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;e.exports=t.default,e.exports.default=t.default},55971:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=i(r(59181));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,i(r(60464)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");e.exports=t.default,e.exports.default=t.default},30412:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;e.exports=t.default,e.exports.default=t.default},36672:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,s,h,d,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,i.default)(e);var p=(t={},Array.from(e).forEach(function(e){t[e]?t[e]+=1:t[e]=1}),r=t,s={length:e.length,uniqueChars:Object.keys(r).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0},Object.keys(r).forEach(function(e){o.test(e)?s.uppercaseCount+=r[e]:a.test(e)?s.lowercaseCount+=r[e]:c.test(e)?s.numberCount+=r[e]:l.test(e)&&(s.symbolCount+=r[e])}),s);return(f=(0,n.default)(f||{},u)).returnScore?(h=f,d=0+p.uniqueChars*h.pointsPerUnique+(p.length-p.uniqueChars)*h.pointsPerRepeat,p.lowercaseCount>0&&(d+=h.pointsForContainingLower),p.uppercaseCount>0&&(d+=h.pointsForContainingUpper),p.numberCount>0&&(d+=h.pointsForContainingNumber),p.symbolCount>0&&(d+=h.pointsForContainingSymbol),d):p.length>=f.minLength&&p.lowercaseCount>=f.minLowercase&&p.uppercaseCount>=f.minUppercase&&p.numberCount>=f.minNumbers&&p.symbolCount>=f.minSymbols};var n=s(r(92877)),i=s(r(59181));function s(e){return e&&e.__esModule?e:{default:e}}var o=/^[A-Z]$/,a=/^[a-z]$/,c=/^[0-9]$/,l=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,u={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};e.exports=t.default,e.exports.default=t.default},67871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},68688:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";(0,i.default)(e);var r=e.slice(0);if(t in d)return t in g&&(r=r.replace(g[t],"")),!!d[t].test(r)&&(!(t in f)||f[t](r));throw Error("Invalid locale '".concat(t,"'"))};var i=c(r(59181)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var c=s?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(i,o,c):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}(r(39105)),o=c(r(72033));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function h(e){for(var t=!1,r=!1,n=0;n<3;n++)if(!t&&/[AEIOU]/.test(e[n]))t=!0;else if(!r&&t&&"X"===e[n])r=!0;else if(n>0&&(t&&!r&&!/[AEIOU]/.test(e[n])||r&&!/X/.test(e[n])))return!1;return!0}var d={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};d["lb-LU"]=d["fr-LU"],d["lt-LT"]=d["et-EE"],d["nl-BE"]=d["fr-BE"],d["fr-CA"]=d["en-CA"];var f={"bg-BG":function(e){var t=e.slice(0,2),r=parseInt(e.slice(2,4),10);r>40?(r-=40,t="20".concat(t)):r>20?(r-=20,t="18".concat(t)):t="19".concat(t),r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;for(var i=e.split("").map(function(e){return parseInt(e,10)}),s=[2,4,8,5,10,9,7,3,6],a=0,c=0;c<s.length;c++)a+=i[c]*s[c];return(a=a%11==10?0:a%11)===i[9]},"cs-CZ":function(e){var t=parseInt((e=e.replace(/\W/,"")).slice(0,2),10);if(10===e.length)t=t<54?"20".concat(t):"19".concat(t);else{if("000"===e.slice(6)||!(t<54))return!1;t="19".concat(t)}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var r=parseInt(e.slice(2,4),10);if(r>50&&(r-=50),r>20){if(2004>parseInt(t,10))return!1;r-=20}r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;if(10===e.length&&parseInt(e,10)%11!=0){var i=parseInt(e.slice(0,9),10)%11;if(!(1986>parseInt(t,10))||10!==i||0!==parseInt(e.slice(9),10))return!1}return!0},"de-AT":function(e){return s.luhnCheck(e)},"de-DE":function(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=[],n=0;n<t.length-1;n++){r.push("");for(var i=0;i<t.length-1;i++)t[n]===t[i]&&(r[n]+=i)}if(2!==(r=r.filter(function(e){return e.length>1})).length&&3!==r.length)return!1;if(3===r[0].length){for(var o=r[0].split("").map(function(e){return parseInt(e,10)}),a=0,c=0;c<o.length-1;c++)o[c]+1===o[c+1]&&(a+=1);if(2===a)return!1}return s.iso7064Check(e)},"dk-DK":function(e){var t=parseInt((e=e.replace(/\W/,"")).slice(4,6),10);switch(e.slice(6,7)){case"0":case"1":case"2":case"3":t="19".concat(t);break;case"4":case"9":t=t<37?"20".concat(t):"19".concat(t);break;default:if(t<37)t="20".concat(t);else{if(!(t>58))return!1;t="18".concat(t)}}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var r="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),i=0,s=4,a=0;a<9;a++)i+=n[a]*s,1==(s-=1)&&(s=7);return 1!=(i%=11)&&(0===i?0===n[9]:n[9]===11-i)},"el-CY":function(e){for(var t=e.slice(0,8).split("").map(function(e){return parseInt(e,10)}),r=0,n=1;n<t.length;n+=2)r+=t[n];for(var i=0;i<t.length;i+=2)t[i]<2?r+=1-t[i]:(r+=2*(t[i]-2)+5,t[i]>4&&(r+=2));return String.fromCharCode(r%26+65)===e.charAt(8)},"el-GR":function(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=0,n=0;n<8;n++)r+=t[n]*Math.pow(2,8-n);return r%11%10===t[8]},"en-CA":function(e){var t=e.split(""),r=t.filter(function(e,t){return t%2}).map(function(e){return 2*Number(e)}).join("").split("");return t.filter(function(e,t){return!(t%2)}).concat(r).map(function(e){return Number(e)}).reduce(function(e,t){return e+t})%10==0},"en-IE":function(e){var t=s.reverseMultiplyAndSum(e.split("").slice(0,7).map(function(e){return parseInt(e,10)}),8);return(9===e.length&&"W"!==e[8]&&(t+=(e[8].charCodeAt(0)-64)*9),0==(t%=23))?"W"===e[7].toUpperCase():e[7].toUpperCase()===String.fromCharCode(64+t)},"en-US":function(e){return -1!==(function(){var e,t=[];for(var r in u)u.hasOwnProperty(r)&&t.push.apply(t,function(e){if(Array.isArray(e))return l(e)}(e=u[r])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return t})().indexOf(e.slice(0,2))},"es-AR":function(e){for(var t=0,r=e.split(""),n=parseInt(r.pop(),10),i=0;i<r.length;i++)t+=r[9-i]*(2+i%6);var s=11-t%11;return 11===s?s=0:10===s&&(s=9),n===s},"es-ES":function(e){var t=e.toUpperCase().split("");if(isNaN(parseInt(t[0],10))&&t.length>1){var r=0;switch(t[0]){case"Y":r=1;break;case"Z":r=2}t.splice(0,1,r)}else for(;t.length<9;)t.unshift(0);var n=parseInt((t=t.join("")).slice(0,8),10)%23;return t[8]===["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][n]},"et-EE":function(e){var t=e.slice(1,3);switch(e.slice(0,1)){case"1":case"2":t="18".concat(t);break;case"3":case"4":t="19".concat(t);break;default:t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),i=0,s=1,a=0;a<10;a++)i+=n[a]*s,10===(s+=1)&&(s=1);if(i%11==10){i=0,s=3;for(var c=0;c<10;c++)i+=n[c]*s,10===(s+=1)&&(s=1);if(i%11==10)return 0===n[10]}return i%11===n[10]},"fi-FI":function(e){var t=e.slice(4,6);switch(e.slice(6,7)){case"+":t="18".concat(t);break;case"-":t="19".concat(t);break;default:t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;var n=parseInt(e.slice(0,6)+e.slice(7,10),10)%31;return n<10?n===parseInt(e.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][n-=10]===e.slice(10)},"fr-BE":function(e){if("00"!==e.slice(2,4)||"00"!==e.slice(4,6)){var t="".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6));if(!(0,o.default)(t,"YY/MM/DD"))return!1}var r=97-parseInt(e.slice(0,9),10)%97,n=parseInt(e.slice(9,11),10);return r===n||(r=97-parseInt("2".concat(e.slice(0,9)),10)%97)===n},"fr-FR":function(e){return parseInt((e=e.replace(/\s/g,"")).slice(0,10),10)%511===parseInt(e.slice(10,13),10)},"fr-LU":function(e){var t="".concat(e.slice(0,4),"/").concat(e.slice(4,6),"/").concat(e.slice(6,8));return!!((0,o.default)(t,"YYYY/MM/DD")&&s.luhnCheck(e.slice(0,12)))&&s.verhoeffCheck("".concat(e.slice(0,11)).concat(e[12]))},"hr-HR":function(e){return s.iso7064Check(e)},"hu-HU":function(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=8,n=1;n<9;n++)r+=t[n]*(n+1);return r%11===t[9]},"it-IT":function(e){var t=e.toUpperCase().split("");if(!h(t.slice(0,3))||!h(t.slice(3,6)))return!1;for(var r={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},n=0,i=[6,7,9,10,12,13,14];n<i.length;n++){var s=i[n];t[s]in r&&t.splice(s,1,r[t[s]])}var a={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[t[8]],c=parseInt(t[9]+t[10],10);c>40&&(c-=40),c<10&&(c="0".concat(c));var l="".concat(t[6]).concat(t[7],"/").concat(a,"/").concat(c);if(!(0,o.default)(l,"YY/MM/DD"))return!1;for(var u=0,d=1;d<t.length-1;d+=2){var f=parseInt(t[d],10);isNaN(f)&&(f=t[d].charCodeAt(0)-65),u+=f}for(var p={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},g=0;g<t.length-1;g+=2){var y=0;if(t[g]in p)y=p[t[g]];else{var m=parseInt(t[g],10);y=2*m+1,m>4&&(y+=2)}u+=y}return String.fromCharCode(65+u%26)===t[15]},"lv-LV":function(e){var t=(e=e.replace(/\W/,"")).slice(0,2);if("32"!==t){if("00"!==e.slice(2,4)){var r=e.slice(4,6);switch(e[6]){case"0":r="18".concat(r);break;case"1":r="19".concat(r);break;default:r="20".concat(r)}var n="".concat(r,"/").concat(e.slice(2,4),"/").concat(t);if(!(0,o.default)(n,"YYYY/MM/DD"))return!1}for(var i=1101,s=[1,6,3,7,9,10,5,8,4,2],a=0;a<e.length-1;a++)i-=parseInt(e[a],10)*s[a];return parseInt(e[10],10)===i%11}return!0},"mt-MT":function(e){if(9!==e.length){for(var t=e.toUpperCase().split("");t.length<8;)t.unshift(0);switch(e[7]){case"A":case"P":if(0===parseInt(t[6],10))return!1;break;default:var r=parseInt(t.join("").slice(0,5),10);if(r>32e3||r===parseInt(t.join("").slice(5,7),10))return!1}}return!0},"nl-NL":function(e){return s.reverseMultiplyAndSum(e.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11===parseInt(e[8],10)},"pl-PL":function(e){if(10===e.length){for(var t=[6,5,7,2,3,4,5,6,7],r=0,n=0;n<t.length;n++)r+=parseInt(e[n],10)*t[n];return 10!=(r%=11)&&r===parseInt(e[9],10)}var i=e.slice(0,2),s=parseInt(e.slice(2,4),10);s>80?(i="18".concat(i),s-=80):s>60?(i="22".concat(i),s-=60):s>40?(i="21".concat(i),s-=40):s>20?(i="20".concat(i),s-=20):i="19".concat(i),s<10&&(s="0".concat(s));var a="".concat(i,"/").concat(s,"/").concat(e.slice(4,6));if(!(0,o.default)(a,"YYYY/MM/DD"))return!1;for(var c=0,l=1,u=0;u<e.length-1;u++)c+=parseInt(e[u],10)*l%10,(l+=2)>10?l=1:5===l&&(l+=2);return(c=10-c%10)===parseInt(e[10],10)},"pt-BR":function(e){if(11===e.length){if(t=0,"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e||"00000000000"===e)return!1;for(var t,r,n=1;n<=9;n++)t+=parseInt(e.substring(n-1,n),10)*(11-n);if(10==(r=10*t%11)&&(r=0),r!==parseInt(e.substring(9,10),10))return!1;t=0;for(var i=1;i<=10;i++)t+=parseInt(e.substring(i-1,i),10)*(12-i);return 10==(r=10*t%11)&&(r=0),r===parseInt(e.substring(10,11),10)}if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var s=e.length-2,o=e.substring(0,s),a=e.substring(s),c=0,l=s-7,u=s;u>=1;u--)c+=o.charAt(s-u)*l,(l-=1)<2&&(l=9);var h=c%11<2?0:11-c%11;if(h!==parseInt(a.charAt(0),10))return!1;s+=1,o=e.substring(0,s),c=0,l=s-7;for(var d=s;d>=1;d--)c+=o.charAt(s-d)*l,(l-=1)<2&&(l=9);return(h=c%11<2?0:11-c%11)===parseInt(a.charAt(1),10)},"pt-PT":function(e){var t=11-s.reverseMultiplyAndSum(e.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11;return t>9?0===parseInt(e[8],10):t===parseInt(e[8],10)},"ro-RO":function(e){if("9000"!==e.slice(0,4)){var t=e.slice(1,3);switch(e[0]){case"1":case"2":t="19".concat(t);break;case"3":case"4":t="18".concat(t);break;case"5":case"6":t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(8===r.length){if(!(0,o.default)(r,"YY/MM/DD"))return!1}else if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),i=[2,7,9,1,4,6,3,5,8,2,7,9],s=0,a=0;a<i.length;a++)s+=n[a]*i[a];return s%11==10?1===n[12]:n[12]===s%11}return!0},"sk-SK":function(e){if(9===e.length){if("000"===(e=e.replace(/\W/,"")).slice(6))return!1;var t=parseInt(e.slice(0,2),10);if(t>53)return!1;t=t<10?"190".concat(t):"19".concat(t);var r=parseInt(e.slice(2,4),10);r>50&&(r-=50),r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1}return!0},"sl-SI":function(e){var t=11-s.reverseMultiplyAndSum(e.split("").slice(0,7).map(function(e){return parseInt(e,10)}),8)%11;return 10===t?0===parseInt(e[7],10):t===parseInt(e[7],10)},"sv-SE":function(e){var t=e.slice(0);e.length>11&&(t=t.slice(2));var r="",n=t.slice(2,4),i=parseInt(t.slice(4,6),10);if(e.length>11)r=e.slice(0,4);else if(r=e.slice(0,2),11===e.length&&i<60){var a=new Date().getFullYear().toString(),c=parseInt(a.slice(0,2),10);if(a=parseInt(a,10),"-"===e[6])r=parseInt("".concat(c).concat(r),10)>a?"".concat(c-1).concat(r):"".concat(c).concat(r);else if(a-parseInt(r="".concat(c-1).concat(r),10)<100)return!1}i>60&&(i-=60),i<10&&(i="0".concat(i));var l="".concat(r,"/").concat(n,"/").concat(i);if(8===l.length){if(!(0,o.default)(l,"YY/MM/DD"))return!1}else if(!(0,o.default)(l,"YYYY/MM/DD"))return!1;return s.luhnCheck(e.replace(/\W/,""))},"uk-UA":function(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=[-1,5,7,9,4,6,10,5,7],n=0,i=0;i<r.length;i++)n+=t[i]*r[i];return n%11==10?0===t[9]:t[9]===n%11}};f["lb-LU"]=f["fr-LU"],f["lt-LT"]=f["et-EE"],f["nl-BE"]=f["fr-BE"],f["fr-CA"]=f["en-CA"];var p=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,g={"de-AT":p,"de-DE":/[\/\\]/g,"fr-BE":p};g["nl-BE"]=g["fr-BE"],e.exports=t.default,e.exports.default=t.default},26496:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=(0,i.default)(t,s),"string"==typeof e&&o[t.hourFormat][t.mode].test(e)};var n,i=(n=r(92877))&&n.__esModule?n:{default:n},s={hourFormat:"hour24",mode:"default"},o={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};e.exports=t.default,e.exports.default=t.default},70543:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),!e||/[\s<>]/.test(e)||0===e.indexOf("mailto:")||(t=(0,o.default)(t,l)).validate_length&&e.length>=2083||!t.allow_fragments&&e.includes("#")||!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;if((m=(e=(m=(e=(m=e.split("#")).shift()).split("?")).shift()).split("://")).length>1){if(a=m.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(a))return!1}else if(t.require_protocol)return!1;else if("//"===e.slice(0,2)){if(!t.allow_protocol_relative_urls)return!1;m[0]=e.slice(2)}if(""===(e=m.join("://")))return!1;if(""===(e=(m=e.split("/")).shift())&&!t.require_host)return!0;if((m=e.split("@")).length>1){if(t.disallow_auth||""===m[0]||(d=m.shift()).indexOf(":")>=0&&d.split(":").length>2)return!1;var r,a,d,f,p,g,y,m,b,v=function(e){if(Array.isArray(e))return e}(r=d.split(":"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s,o,a=[],c=!0,l=!1;try{for(s=(r=r.call(e)).next;!(c=(n=s.call(r)).done)&&(a.push(n.value),2!==a.length);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(r,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,2)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=v[0],E=v[1];if(""===w&&""===E)return!1}p=m.join("@"),y=null,b=null;var A=p.match(u);if(A?(f="",b=A[1],y=A[2]||null):(f=(m=p.split(":")).shift(),m.length&&(y=m.join(":"))),null!==y&&y.length>0){if(g=parseInt(y,10),!/^[0-9]+$/.test(y)||g<=0||g>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?h(f,t.host_whitelist):""===f&&!t.require_host||!!((0,s.default)(f)||(0,i.default)(f,t)||b&&(0,s.default)(b,6))&&(f=f||b,!(t.host_blacklist&&h(f,t.host_blacklist)))};var n=a(r(59181)),i=a(r(2714)),s=a(r(30717)),o=a(r(92877));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||"[object RegExp]"===Object.prototype.toString.call(n)&&n.test(e))return!0}return!1}e.exports=t.default,e.exports.default=t.default},95337:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=s[[void 0,null].includes(t)?"all":t];return!!r&&r.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},61403:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toUpperCase()};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},71724:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,s.default)(e),(0,s.default)(t),t in c)return c[t](e);throw Error("Invalid country code: '".concat(t,"'"))},t.vatMatchers=void 0;var i,s=(i=r(59181))&&i.__esModule?i:{default:i},o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var c=s?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(i,o,c):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}(r(39105));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}var c=t.vatMatchers={AT:function(e){return/^(AT)?U\d{8}$/.test(e)},BE:function(e){return/^(BE)?\d{10}$/.test(e)},BG:function(e){return/^(BG)?\d{9,10}$/.test(e)},HR:function(e){return/^(HR)?\d{11}$/.test(e)},CY:function(e){return/^(CY)?\w{9}$/.test(e)},CZ:function(e){return/^(CZ)?\d{8,10}$/.test(e)},DK:function(e){return/^(DK)?\d{8}$/.test(e)},EE:function(e){return/^(EE)?\d{9}$/.test(e)},FI:function(e){return/^(FI)?\d{8}$/.test(e)},FR:function(e){return/^(FR)?\w{2}\d{9}$/.test(e)},DE:function(e){return/^(DE)?\d{9}$/.test(e)},EL:function(e){return/^(EL)?\d{9}$/.test(e)},HU:function(e){return/^(HU)?\d{8}$/.test(e)},IE:function(e){return/^(IE)?\d{7}\w{1}(W)?$/.test(e)},IT:function(e){return/^(IT)?\d{11}$/.test(e)},LV:function(e){return/^(LV)?\d{11}$/.test(e)},LT:function(e){return/^(LT)?\d{9,12}$/.test(e)},LU:function(e){return/^(LU)?\d{8}$/.test(e)},MT:function(e){return/^(MT)?\d{8}$/.test(e)},NL:function(e){return/^(NL)?\d{9}B\d{2}$/.test(e)},PL:function(e){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(e)},PT:function(e){var t=e.match(/^(PT)?(\d{9})$/);if(!t)return!1;var r=t[2],n=11-o.reverseMultiplyAndSum(r.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11;return n>9?0===parseInt(r[8],10):n===parseInt(r[8],10)},RO:function(e){return/^(RO)?\d{2,10}$/.test(e)},SK:function(e){return/^(SK)?\d{10}$/.test(e)},SI:function(e){return/^(SI)?\d{8}$/.test(e)},ES:function(e){return/^(ES)?\w\d{7}[A-Z]$/.test(e)},SE:function(e){return/^(SE)?\d{12}$/.test(e)},AL:function(e){return/^(AL)?\w{9}[A-Z]$/.test(e)},MK:function(e){return/^(MK)?\d{13}$/.test(e)},AU:function(e){if(!e.match(/^(AU)?(\d{11})$/))return!1;for(var t=[10,1,3,5,7,9,11,13,15,17,19],r=(parseInt((e=e.replace(/^AU/,"")).slice(0,1),10)-1).toString()+e.slice(1),n=0,i=0;i<11;i++)n+=t[i]*r.charAt(i);return 0!==n&&n%89==0},BY:function(e){return/^( )?\d{9}$/.test(e)},CA:function(e){return/^(CA)?\d{9}$/.test(e)},IS:function(e){return/^(IS)?\d{5,6}$/.test(e)},IN:function(e){return/^(IN)?\d{15}$/.test(e)},ID:function(e){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(e)},IL:function(e){return/^(IL)?\d{9}$/.test(e)},KZ:function(e){return/^(KZ)?\d{12}$/.test(e)},NZ:function(e){return/^(NZ)?\d{9}$/.test(e)},NG:function(e){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(e)},NO:function(e){return/^(NO)?\d{9}MVA$/.test(e)},PH:function(e){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(e)},RU:function(e){return/^(RU)?(\d{10}|\d{12})$/.test(e)},SM:function(e){return/^(SM)?\d{5}$/.test(e)},SA:function(e){return/^(SA)?\d{15}$/.test(e)},RS:function(e){return/^(RS)?\d{9}$/.test(e)},CH:function(e){var t,r,n;return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(e)&&(r=(t=e.match(/\d/g).map(function(e){return+e})).pop(),n=[5,4,3,2,7,6,5,4],r===(11-t.reduce(function(e,t,r){return e+t*n[r]},0)%11)%11)},TR:function(e){return/^(TR)?\d{10}$/.test(e)},UA:function(e){return/^(UA)?\d{12}$/.test(e)},GB:function(e){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(e)},UZ:function(e){return/^(UZ)?\d{9}$/.test(e)},AR:function(e){return/^(AR)?\d{11}$/.test(e)},BO:function(e){return/^(BO)?\d{7}$/.test(e)},BR:function(e){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(e)},CL:function(e){return/^(CL)?\d{8}-\d{1}$/.test(e)},CO:function(e){return/^(CO)?\d{10}$/.test(e)},CR:function(e){return/^(CR)?\d{9,12}$/.test(e)},EC:function(e){return/^(EC)?\d{13}$/.test(e)},SV:function(e){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(e)},GT:function(e){return/^(GT)?\d{7}-\d{1}$/.test(e)},HN:function(e){return/^(HN)?$/.test(e)},MX:function(e){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(e)},NI:function(e){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(e)},PA:function(e){return/^(PA)?$/.test(e)},PY:function(e){return/^(PY)?\d{6,8}-\d{1}$/.test(e)},PE:function(e){return/^(PE)?\d{11}$/.test(e)},DO:function(e){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(e)},UY:function(e){return/^(UY)?\d{12}$/.test(e)},VE:function(e){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(e)}}},79874:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),s.fullWidth.test(e)&&o.halfWidth.test(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n},s=r(82583),o=r(46415);e.exports=t.default,e.exports.default=t.default},99449:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);for(var r=e.length-1;r>=0;r--)if(-1===t.indexOf(e[r]))return!1;return!0};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},52935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=t?RegExp("^[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return e.replace(r,"")};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},1663:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return(0,i.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,r)),!!e.match(t)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},3890:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,i.default)(t,s);var r=e.split("@"),n=r.pop(),h=[r.join("@"),n];if(h[1]=h[1].toLowerCase(),"gmail.com"===h[1]||"googlemail.com"===h[1]){if(t.gmail_remove_subaddress&&(h[0]=h[0].split("+")[0]),t.gmail_remove_dots&&(h[0]=h[0].replace(/\.+/g,u)),!h[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(h[0]=h[0].toLowerCase()),h[1]=t.gmail_convert_googlemaildotcom?"gmail.com":h[1]}else if(o.indexOf(h[1])>=0){if(t.icloud_remove_subaddress&&(h[0]=h[0].split("+")[0]),!h[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(h[0]=h[0].toLowerCase())}else if(a.indexOf(h[1])>=0){if(t.outlookdotcom_remove_subaddress&&(h[0]=h[0].split("+")[0]),!h[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(h[0]=h[0].toLowerCase())}else if(c.indexOf(h[1])>=0){if(t.yahoo_remove_subaddress){var d=h[0].split("-");h[0]=d.length>1?d.slice(0,-1).join("-"):d[0]}if(!h[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(h[0]=h[0].toLowerCase())}else l.indexOf(h[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(h[0]=h[0].toLowerCase()),h[1]="yandex.ru"):t.all_lowercase&&(h[0]=h[0].toLowerCase());return h.join("@")};var n,i=(n=r(92877))&&n.__esModule?n:{default:n},s={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},o=["icloud.com","me.com"],a=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],c=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],l=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},37845:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t){var r=RegExp("[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return e.replace(r,"")}for(var n=e.length-1;/\s/.test(e.charAt(n));)n-=1;return e.slice(0,n+1)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},98685:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),(0,i.default)(e,t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F")};var n=s(r(59181)),i=s(r(66990));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},62319:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return((0,i.default)(e),t)?"1"===e||/^true$/i.test(e):"0"!==e&&!/^false$/i.test(e)&&""!==e};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},24772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),isNaN(e=Date.parse(e))?null:new Date(e)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},82226:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)?parseFloat(e):NaN};var n,i=(n=r(64355))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},60965:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),parseInt(e,t||10)};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},43066:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)((0,i.default)(e,t),t)};var n=s(r(37845)),i=s(r(52935));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},41027:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},39105:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso7064Check=function(e){for(var t=10,r=0;r<e.length-1;r++)t=(parseInt(e[r],10)+t)%10==0?9:(parseInt(e[r],10)+t)%10*2%11;return(t=1===t?0:11-t)===parseInt(e[10],10)},t.luhnCheck=function(e){for(var t=0,r=!1,n=e.length-1;n>=0;n--){if(r){var i=2*parseInt(e[n],10);i>9?t+=i.toString().split("").map(function(e){return parseInt(e,10)}).reduce(function(e,t){return e+t},0):t+=i}else t+=parseInt(e[n],10);r=!r}return t%10==0},t.reverseMultiplyAndSum=function(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*(t-n);return r},t.verhoeffCheck=function(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],r=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],n=e.split("").reverse().join(""),i=0,s=0;s<n.length;s++)i=t[i][r[s%8][parseInt(n[s],10)]];return 0===i}},59181:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},55123:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e,t){return e.some(function(e){return t===e})},e.exports=t.default,e.exports.default=t.default},92877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default},60464:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new RegExp(e.join(""),t)},e.exports=t.default,e.exports.default=t.default},56426:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"object"===r(e)&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e=""),String(e)},e.exports=t.default,e.exports.default=t.default},79284:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(RegExp("[^".concat(t,"]+"),"g"),"")};var n,i=(n=r(59181))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},55223:function(e){"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},25566:function(e){var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c=[],l=!1,u=-1;function h(){l&&n&&(l=!1,n.length?c=n.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=a(h);l=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},97435:function(e,t,r){"use strict";let n=r(95172);e.exports=s;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e){var t,r;(e=e||{}).browser=e.browser||{};let n=e.browser.transmit;if(n&&"function"!=typeof n.send)throw Error("pino: transmit option must have a send function");let u=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let h=e.serializers||{},g=Array.isArray(t=e.browser.serialize)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(h),y=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(y=!1),"function"==typeof u&&(u.error=u.fatal=u.warn=u.info=u.debug=u.trace=u),!1===e.enabled&&(e.level="silent");let m=e.level||"info",b=Object.create(u);b.log||(b.log=d),Object.defineProperty(b,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(b,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,o(v,b,"error","log"),o(v,b,"fatal","error"),o(v,b,"warn","error"),o(v,b,"info","log"),o(v,b,"debug","log"),o(v,b,"trace","log")}});let v={transmit:n,serialize:g,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?f:p};return b.levels=s.levels,b.level=m,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=d,b.serializers=h,b._serialize=g,b._stdErrSerialize=y,b.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},g&&t.serializers&&(r.serializers=t.serializers);let i=r.serializers;if(g&&i){var s=Object.assign({},h,i),o=!0===e.browser.serialize?Object.keys(s):g;delete t.serializers,a([t],o,s,this._stdErrSerialize)}function u(e){this._childLevel=(0|e._childLevel)+1,this.error=c(e,t,"error"),this.fatal=c(e,t,"fatal"),this.warn=c(e,t,"warn"),this.info=c(e,t,"info"),this.debug=c(e,t,"debug"),this.trace=c(e,t,"trace"),s&&(this.serializers=s,this._serialize=o),n&&(this._logEvent=l([].concat(e._logEvent.bindings,t)))}return u.prototype=this,new u(this)},n&&(b._logEvent=l()),b}function o(e,t,r,o){let c=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?d:c[r]?c[r]:i[r]||i[o]||d,function(e,t,r){if(e.transmit||t[r]!==d){var o;t[r]=(o=t[r],function(){let c=e.timestamp(),u=Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<u.length;d++)u[d]=arguments[d];if(e.serialize&&!e.asObject&&a(u,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?o.call(h,function(e,t,r,i){e._serialize&&a(r,e._serialize,e.serializers,e._stdErrSerialize);let o=r.slice(),c=o[0],l={};i&&(l.time=i),l.level=s.levels.values[t];let u=(0|e._childLevel)+1;if(u<1&&(u=1),null!==c&&"object"==typeof c){for(;u--&&"object"==typeof o[0];)Object.assign(l,o.shift());c=o.length?n(o.shift(),o):void 0}else"string"==typeof c&&(c=n(o.shift(),o));return void 0!==c&&(l.msg=c),l}(this,r,u,c)):o.apply(h,u),e.transmit){let n=e.transmit.level||t.level,i=s.levels.values[n],o=s.levels.values[r];if(o<i)return;(function(e,t,r){let n=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,c=t.val,u=e._logEvent.bindings;a(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(e){return -1===u.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,n(s,e._logEvent,c),e._logEvent=l(u)})(this,{ts:c,methodLevel:r,methodValue:o,transmitLevel:n,transmitValue:s.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},u)}})}}(e,t,r)}function a(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=s.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(let n in e[i])t&&t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function c(e,t,r){return function(){let n=Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function l(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function u(){return{}}function h(e){return e}function d(){}function f(){return!1}function p(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers={mapHttpRequest:u,mapHttpResponse:u,wrapRequestSerializer:h,wrapResponseSerializer:h,wrapErrorSerializer:h,req:u,res:u,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},s.stdTimeFunctions=Object.assign({},{nullTime:f,epochTime:p,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},603:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),s=r(91641);n.object.extend(proto,s),n.exportSymbol("TronWebProto.AccountCreateContract",null,i),n.exportSymbol("TronWebProto.AccountPermissionUpdateContract",null,i),n.exportSymbol("TronWebProto.AccountUpdateContract",null,i),n.exportSymbol("TronWebProto.SetAccountIdContract",null,i),TronWebProto.AccountCreateContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.AccountCreateContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AccountCreateContract.displayName="TronWebProto.AccountCreateContract"),TronWebProto.AccountUpdateContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.AccountUpdateContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AccountUpdateContract.displayName="TronWebProto.AccountUpdateContract"),TronWebProto.SetAccountIdContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.SetAccountIdContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.SetAccountIdContract.displayName="TronWebProto.SetAccountIdContract"),TronWebProto.AccountPermissionUpdateContract=function(e){n.Message.initialize(this,e,0,-1,TronWebProto.AccountPermissionUpdateContract.repeatedFields_,null)},n.inherits(TronWebProto.AccountPermissionUpdateContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AccountPermissionUpdateContract.displayName="TronWebProto.AccountPermissionUpdateContract"),n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountCreateContract.prototype.toObject=function(e){return TronWebProto.AccountCreateContract.toObject(e,this)},TronWebProto.AccountCreateContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),accountAddress:t.getAccountAddress_asB64(),type:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.AccountCreateContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AccountCreateContract;return TronWebProto.AccountCreateContract.deserializeBinaryFromReader(r,t)},TronWebProto.AccountCreateContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setAccountAddress(r);break;case 3:var r=t.readEnum();e.setType(r);break;default:t.skipField()}return e},TronWebProto.AccountCreateContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AccountCreateContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AccountCreateContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getAccountAddress_asU8()).length>0&&t.writeBytes(2,r),0!==(r=e.getType())&&t.writeEnum(3,r)},TronWebProto.AccountCreateContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountCreateContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountCreateContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountCreateContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.AccountCreateContract.prototype.getAccountAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountCreateContract.prototype.getAccountAddress_asB64=function(){return n.Message.bytesAsB64(this.getAccountAddress())},TronWebProto.AccountCreateContract.prototype.getAccountAddress_asU8=function(){return n.Message.bytesAsU8(this.getAccountAddress())},TronWebProto.AccountCreateContract.prototype.setAccountAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.AccountCreateContract.prototype.getType=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.AccountCreateContract.prototype.setType=function(e){return n.Message.setProto3EnumField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountUpdateContract.prototype.toObject=function(e){return TronWebProto.AccountUpdateContract.toObject(e,this)},TronWebProto.AccountUpdateContract.toObject=function(e,t){var r={accountName:t.getAccountName_asB64(),ownerAddress:t.getOwnerAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.AccountUpdateContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AccountUpdateContract;return TronWebProto.AccountUpdateContract.deserializeBinaryFromReader(r,t)},TronWebProto.AccountUpdateContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setAccountName(r);break;case 2:var r=t.readBytes();e.setOwnerAddress(r);break;default:t.skipField()}return e},TronWebProto.AccountUpdateContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AccountUpdateContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AccountUpdateContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAccountName_asU8()).length>0&&t.writeBytes(1,r),(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(2,r)},TronWebProto.AccountUpdateContract.prototype.getAccountName=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountUpdateContract.prototype.getAccountName_asB64=function(){return n.Message.bytesAsB64(this.getAccountName())},TronWebProto.AccountUpdateContract.prototype.getAccountName_asU8=function(){return n.Message.bytesAsU8(this.getAccountName())},TronWebProto.AccountUpdateContract.prototype.setAccountName=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountUpdateContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountUpdateContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.SetAccountIdContract.prototype.toObject=function(e){return TronWebProto.SetAccountIdContract.toObject(e,this)},TronWebProto.SetAccountIdContract.toObject=function(e,t){var r={accountId:t.getAccountId_asB64(),ownerAddress:t.getOwnerAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.SetAccountIdContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.SetAccountIdContract;return TronWebProto.SetAccountIdContract.deserializeBinaryFromReader(r,t)},TronWebProto.SetAccountIdContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setAccountId(r);break;case 2:var r=t.readBytes();e.setOwnerAddress(r);break;default:t.skipField()}return e},TronWebProto.SetAccountIdContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.SetAccountIdContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.SetAccountIdContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAccountId_asU8()).length>0&&t.writeBytes(1,r),(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(2,r)},TronWebProto.SetAccountIdContract.prototype.getAccountId=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.SetAccountIdContract.prototype.getAccountId_asB64=function(){return n.Message.bytesAsB64(this.getAccountId())},TronWebProto.SetAccountIdContract.prototype.getAccountId_asU8=function(){return n.Message.bytesAsU8(this.getAccountId())},TronWebProto.SetAccountIdContract.prototype.setAccountId=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.SetAccountIdContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.SetAccountIdContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.AccountPermissionUpdateContract.repeatedFields_=[4],n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountPermissionUpdateContract.prototype.toObject=function(e){return TronWebProto.AccountPermissionUpdateContract.toObject(e,this)},TronWebProto.AccountPermissionUpdateContract.toObject=function(e,t){var r,i={ownerAddress:t.getOwnerAddress_asB64(),owner:(r=t.getOwner())&&s.Permission.toObject(e,r),witness:(r=t.getWitness())&&s.Permission.toObject(e,r),activesList:n.Message.toObjectList(t.getActivesList(),s.Permission.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),TronWebProto.AccountPermissionUpdateContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AccountPermissionUpdateContract;return TronWebProto.AccountPermissionUpdateContract.deserializeBinaryFromReader(r,t)},TronWebProto.AccountPermissionUpdateContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=new s.Permission;t.readMessage(r,s.Permission.deserializeBinaryFromReader),e.setOwner(r);break;case 3:var r=new s.Permission;t.readMessage(r,s.Permission.deserializeBinaryFromReader),e.setWitness(r);break;case 4:var r=new s.Permission;t.readMessage(r,s.Permission.deserializeBinaryFromReader),e.addActives(r);break;default:t.skipField()}return e},TronWebProto.AccountPermissionUpdateContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AccountPermissionUpdateContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AccountPermissionUpdateContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),null!=(r=e.getOwner())&&t.writeMessage(2,r,s.Permission.serializeBinaryToWriter),null!=(r=e.getWitness())&&t.writeMessage(3,r,s.Permission.serializeBinaryToWriter),(r=e.getActivesList()).length>0&&t.writeRepeatedMessage(4,r,s.Permission.serializeBinaryToWriter)},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AccountPermissionUpdateContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AccountPermissionUpdateContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.AccountPermissionUpdateContract.prototype.getOwner=function(){return n.Message.getWrapperField(this,s.Permission,2)},TronWebProto.AccountPermissionUpdateContract.prototype.setOwner=function(e){return n.Message.setWrapperField(this,2,e)},TronWebProto.AccountPermissionUpdateContract.prototype.clearOwner=function(){return this.setOwner(void 0)},TronWebProto.AccountPermissionUpdateContract.prototype.hasOwner=function(){return null!=n.Message.getField(this,2)},TronWebProto.AccountPermissionUpdateContract.prototype.getWitness=function(){return n.Message.getWrapperField(this,s.Permission,3)},TronWebProto.AccountPermissionUpdateContract.prototype.setWitness=function(e){return n.Message.setWrapperField(this,3,e)},TronWebProto.AccountPermissionUpdateContract.prototype.clearWitness=function(){return this.setWitness(void 0)},TronWebProto.AccountPermissionUpdateContract.prototype.hasWitness=function(){return null!=n.Message.getField(this,3)},TronWebProto.AccountPermissionUpdateContract.prototype.getActivesList=function(){return n.Message.getRepeatedWrapperField(this,s.Permission,4)},TronWebProto.AccountPermissionUpdateContract.prototype.setActivesList=function(e){return n.Message.setRepeatedWrapperField(this,4,e)},TronWebProto.AccountPermissionUpdateContract.prototype.addActives=function(e,t){return n.Message.addToRepeatedWrapperField(this,4,e,TronWebProto.Permission,t)},TronWebProto.AccountPermissionUpdateContract.prototype.clearActivesList=function(){return this.setActivesList([])},n.object.extend(t,TronWebProto)},78821:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();n.exportSymbol("TronWebProto.AssetIssueContract",null,i),n.exportSymbol("TronWebProto.AssetIssueContract.FrozenSupply",null,i),n.exportSymbol("TronWebProto.ParticipateAssetIssueContract",null,i),n.exportSymbol("TronWebProto.TransferAssetContract",null,i),n.exportSymbol("TronWebProto.UnfreezeAssetContract",null,i),n.exportSymbol("TronWebProto.UpdateAssetContract",null,i),TronWebProto.AssetIssueContract=function(e){n.Message.initialize(this,e,0,-1,TronWebProto.AssetIssueContract.repeatedFields_,null)},n.inherits(TronWebProto.AssetIssueContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AssetIssueContract.displayName="TronWebProto.AssetIssueContract"),TronWebProto.AssetIssueContract.FrozenSupply=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.AssetIssueContract.FrozenSupply,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AssetIssueContract.FrozenSupply.displayName="TronWebProto.AssetIssueContract.FrozenSupply"),TronWebProto.TransferAssetContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.TransferAssetContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.TransferAssetContract.displayName="TronWebProto.TransferAssetContract"),TronWebProto.UnfreezeAssetContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UnfreezeAssetContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeAssetContract.displayName="TronWebProto.UnfreezeAssetContract"),TronWebProto.UpdateAssetContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UpdateAssetContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UpdateAssetContract.displayName="TronWebProto.UpdateAssetContract"),TronWebProto.ParticipateAssetIssueContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ParticipateAssetIssueContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ParticipateAssetIssueContract.displayName="TronWebProto.ParticipateAssetIssueContract"),TronWebProto.AssetIssueContract.repeatedFields_=[5],n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AssetIssueContract.prototype.toObject=function(e){return TronWebProto.AssetIssueContract.toObject(e,this)},TronWebProto.AssetIssueContract.toObject=function(e,t){var r={id:n.Message.getFieldWithDefault(t,41,""),ownerAddress:t.getOwnerAddress_asB64(),name:t.getName_asB64(),abbr:t.getAbbr_asB64(),totalSupply:n.Message.getFieldWithDefault(t,4,0),frozenSupplyList:n.Message.toObjectList(t.getFrozenSupplyList(),TronWebProto.AssetIssueContract.FrozenSupply.toObject,e),trxNum:n.Message.getFieldWithDefault(t,6,0),precision:n.Message.getFieldWithDefault(t,7,0),num:n.Message.getFieldWithDefault(t,8,0),startTime:n.Message.getFieldWithDefault(t,9,0),endTime:n.Message.getFieldWithDefault(t,10,0),order:n.Message.getFieldWithDefault(t,11,0),voteScore:n.Message.getFieldWithDefault(t,16,0),description:t.getDescription_asB64(),url:t.getUrl_asB64(),freeAssetNetLimit:n.Message.getFieldWithDefault(t,22,0),publicFreeAssetNetLimit:n.Message.getFieldWithDefault(t,23,0),publicFreeAssetNetUsage:n.Message.getFieldWithDefault(t,24,0),publicLatestFreeNetTime:n.Message.getFieldWithDefault(t,25,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.AssetIssueContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AssetIssueContract;return TronWebProto.AssetIssueContract.deserializeBinaryFromReader(r,t)},TronWebProto.AssetIssueContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 41:var r=t.readString();e.setId(r);break;case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setName(r);break;case 3:var r=t.readBytes();e.setAbbr(r);break;case 4:var r=t.readInt64();e.setTotalSupply(r);break;case 5:var r=new TronWebProto.AssetIssueContract.FrozenSupply;t.readMessage(r,TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader),e.addFrozenSupply(r);break;case 6:var r=t.readInt32();e.setTrxNum(r);break;case 7:var r=t.readInt32();e.setPrecision(r);break;case 8:var r=t.readInt32();e.setNum(r);break;case 9:var r=t.readInt64();e.setStartTime(r);break;case 10:var r=t.readInt64();e.setEndTime(r);break;case 11:var r=t.readInt64();e.setOrder(r);break;case 16:var r=t.readInt32();e.setVoteScore(r);break;case 20:var r=t.readBytes();e.setDescription(r);break;case 21:var r=t.readBytes();e.setUrl(r);break;case 22:var r=t.readInt64();e.setFreeAssetNetLimit(r);break;case 23:var r=t.readInt64();e.setPublicFreeAssetNetLimit(r);break;case 24:var r=t.readInt64();e.setPublicFreeAssetNetUsage(r);break;case 25:var r=t.readInt64();e.setPublicLatestFreeNetTime(r);break;default:t.skipField()}return e},TronWebProto.AssetIssueContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AssetIssueContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AssetIssueContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(41,r),(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getName_asU8()).length>0&&t.writeBytes(2,r),(r=e.getAbbr_asU8()).length>0&&t.writeBytes(3,r),0!==(r=e.getTotalSupply())&&t.writeInt64(4,r),(r=e.getFrozenSupplyList()).length>0&&t.writeRepeatedMessage(5,r,TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter),0!==(r=e.getTrxNum())&&t.writeInt32(6,r),0!==(r=e.getPrecision())&&t.writeInt32(7,r),0!==(r=e.getNum())&&t.writeInt32(8,r),0!==(r=e.getStartTime())&&t.writeInt64(9,r),0!==(r=e.getEndTime())&&t.writeInt64(10,r),0!==(r=e.getOrder())&&t.writeInt64(11,r),0!==(r=e.getVoteScore())&&t.writeInt32(16,r),(r=e.getDescription_asU8()).length>0&&t.writeBytes(20,r),(r=e.getUrl_asU8()).length>0&&t.writeBytes(21,r),0!==(r=e.getFreeAssetNetLimit())&&t.writeInt64(22,r),0!==(r=e.getPublicFreeAssetNetLimit())&&t.writeInt64(23,r),0!==(r=e.getPublicFreeAssetNetUsage())&&t.writeInt64(24,r),0!==(r=e.getPublicLatestFreeNetTime())&&t.writeInt64(25,r)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AssetIssueContract.FrozenSupply.prototype.toObject=function(e){return TronWebProto.AssetIssueContract.FrozenSupply.toObject(e,this)},TronWebProto.AssetIssueContract.FrozenSupply.toObject=function(e,t){var r={frozenAmount:n.Message.getFieldWithDefault(t,1,0),frozenDays:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AssetIssueContract.FrozenSupply;return TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader(r,t)},TronWebProto.AssetIssueContract.FrozenSupply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setFrozenAmount(r);break;case 2:var r=t.readInt64();e.setFrozenDays(r);break;default:t.skipField()}return e},TronWebProto.AssetIssueContract.FrozenSupply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AssetIssueContract.FrozenSupply.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getFrozenAmount())&&t.writeInt64(1,r),0!==(r=e.getFrozenDays())&&t.writeInt64(2,r)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.getFrozenAmount=function(){return n.Message.getFieldWithDefault(this,1,0)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.setFrozenAmount=function(e){return n.Message.setProto3IntField(this,1,e)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.getFrozenDays=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.AssetIssueContract.FrozenSupply.prototype.setFrozenDays=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.AssetIssueContract.prototype.getId=function(){return n.Message.getFieldWithDefault(this,41,"")},TronWebProto.AssetIssueContract.prototype.setId=function(e){return n.Message.setProto3StringField(this,41,e)},TronWebProto.AssetIssueContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.AssetIssueContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.AssetIssueContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.AssetIssueContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.AssetIssueContract.prototype.getName=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.AssetIssueContract.prototype.getName_asB64=function(){return n.Message.bytesAsB64(this.getName())},TronWebProto.AssetIssueContract.prototype.getName_asU8=function(){return n.Message.bytesAsU8(this.getName())},TronWebProto.AssetIssueContract.prototype.setName=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.AssetIssueContract.prototype.getAbbr=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.AssetIssueContract.prototype.getAbbr_asB64=function(){return n.Message.bytesAsB64(this.getAbbr())},TronWebProto.AssetIssueContract.prototype.getAbbr_asU8=function(){return n.Message.bytesAsU8(this.getAbbr())},TronWebProto.AssetIssueContract.prototype.setAbbr=function(e){return n.Message.setProto3BytesField(this,3,e)},TronWebProto.AssetIssueContract.prototype.getTotalSupply=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.AssetIssueContract.prototype.setTotalSupply=function(e){return n.Message.setProto3IntField(this,4,e)},TronWebProto.AssetIssueContract.prototype.getFrozenSupplyList=function(){return n.Message.getRepeatedWrapperField(this,TronWebProto.AssetIssueContract.FrozenSupply,5)},TronWebProto.AssetIssueContract.prototype.setFrozenSupplyList=function(e){return n.Message.setRepeatedWrapperField(this,5,e)},TronWebProto.AssetIssueContract.prototype.addFrozenSupply=function(e,t){return n.Message.addToRepeatedWrapperField(this,5,e,TronWebProto.AssetIssueContract.FrozenSupply,t)},TronWebProto.AssetIssueContract.prototype.clearFrozenSupplyList=function(){return this.setFrozenSupplyList([])},TronWebProto.AssetIssueContract.prototype.getTrxNum=function(){return n.Message.getFieldWithDefault(this,6,0)},TronWebProto.AssetIssueContract.prototype.setTrxNum=function(e){return n.Message.setProto3IntField(this,6,e)},TronWebProto.AssetIssueContract.prototype.getPrecision=function(){return n.Message.getFieldWithDefault(this,7,0)},TronWebProto.AssetIssueContract.prototype.setPrecision=function(e){return n.Message.setProto3IntField(this,7,e)},TronWebProto.AssetIssueContract.prototype.getNum=function(){return n.Message.getFieldWithDefault(this,8,0)},TronWebProto.AssetIssueContract.prototype.setNum=function(e){return n.Message.setProto3IntField(this,8,e)},TronWebProto.AssetIssueContract.prototype.getStartTime=function(){return n.Message.getFieldWithDefault(this,9,0)},TronWebProto.AssetIssueContract.prototype.setStartTime=function(e){return n.Message.setProto3IntField(this,9,e)},TronWebProto.AssetIssueContract.prototype.getEndTime=function(){return n.Message.getFieldWithDefault(this,10,0)},TronWebProto.AssetIssueContract.prototype.setEndTime=function(e){return n.Message.setProto3IntField(this,10,e)},TronWebProto.AssetIssueContract.prototype.getOrder=function(){return n.Message.getFieldWithDefault(this,11,0)},TronWebProto.AssetIssueContract.prototype.setOrder=function(e){return n.Message.setProto3IntField(this,11,e)},TronWebProto.AssetIssueContract.prototype.getVoteScore=function(){return n.Message.getFieldWithDefault(this,16,0)},TronWebProto.AssetIssueContract.prototype.setVoteScore=function(e){return n.Message.setProto3IntField(this,16,e)},TronWebProto.AssetIssueContract.prototype.getDescription=function(){return n.Message.getFieldWithDefault(this,20,"")},TronWebProto.AssetIssueContract.prototype.getDescription_asB64=function(){return n.Message.bytesAsB64(this.getDescription())},TronWebProto.AssetIssueContract.prototype.getDescription_asU8=function(){return n.Message.bytesAsU8(this.getDescription())},TronWebProto.AssetIssueContract.prototype.setDescription=function(e){return n.Message.setProto3BytesField(this,20,e)},TronWebProto.AssetIssueContract.prototype.getUrl=function(){return n.Message.getFieldWithDefault(this,21,"")},TronWebProto.AssetIssueContract.prototype.getUrl_asB64=function(){return n.Message.bytesAsB64(this.getUrl())},TronWebProto.AssetIssueContract.prototype.getUrl_asU8=function(){return n.Message.bytesAsU8(this.getUrl())},TronWebProto.AssetIssueContract.prototype.setUrl=function(e){return n.Message.setProto3BytesField(this,21,e)},TronWebProto.AssetIssueContract.prototype.getFreeAssetNetLimit=function(){return n.Message.getFieldWithDefault(this,22,0)},TronWebProto.AssetIssueContract.prototype.setFreeAssetNetLimit=function(e){return n.Message.setProto3IntField(this,22,e)},TronWebProto.AssetIssueContract.prototype.getPublicFreeAssetNetLimit=function(){return n.Message.getFieldWithDefault(this,23,0)},TronWebProto.AssetIssueContract.prototype.setPublicFreeAssetNetLimit=function(e){return n.Message.setProto3IntField(this,23,e)},TronWebProto.AssetIssueContract.prototype.getPublicFreeAssetNetUsage=function(){return n.Message.getFieldWithDefault(this,24,0)},TronWebProto.AssetIssueContract.prototype.setPublicFreeAssetNetUsage=function(e){return n.Message.setProto3IntField(this,24,e)},TronWebProto.AssetIssueContract.prototype.getPublicLatestFreeNetTime=function(){return n.Message.getFieldWithDefault(this,25,0)},TronWebProto.AssetIssueContract.prototype.setPublicLatestFreeNetTime=function(e){return n.Message.setProto3IntField(this,25,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransferAssetContract.prototype.toObject=function(e){return TronWebProto.TransferAssetContract.toObject(e,this)},TronWebProto.TransferAssetContract.toObject=function(e,t){var r={assetName:t.getAssetName_asB64(),ownerAddress:t.getOwnerAddress_asB64(),toAddress:t.getToAddress_asB64(),amount:n.Message.getFieldWithDefault(t,4,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.TransferAssetContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.TransferAssetContract;return TronWebProto.TransferAssetContract.deserializeBinaryFromReader(r,t)},TronWebProto.TransferAssetContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setAssetName(r);break;case 2:var r=t.readBytes();e.setOwnerAddress(r);break;case 3:var r=t.readBytes();e.setToAddress(r);break;case 4:var r=t.readInt64();e.setAmount(r);break;default:t.skipField()}return e},TronWebProto.TransferAssetContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.TransferAssetContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.TransferAssetContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAssetName_asU8()).length>0&&t.writeBytes(1,r),(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(2,r),(r=e.getToAddress_asU8()).length>0&&t.writeBytes(3,r),0!==(r=e.getAmount())&&t.writeInt64(4,r)},TronWebProto.TransferAssetContract.prototype.getAssetName=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransferAssetContract.prototype.getAssetName_asB64=function(){return n.Message.bytesAsB64(this.getAssetName())},TronWebProto.TransferAssetContract.prototype.getAssetName_asU8=function(){return n.Message.bytesAsU8(this.getAssetName())},TronWebProto.TransferAssetContract.prototype.setAssetName=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.TransferAssetContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransferAssetContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TransferAssetContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TransferAssetContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.TransferAssetContract.prototype.getToAddress=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.TransferAssetContract.prototype.getToAddress_asB64=function(){return n.Message.bytesAsB64(this.getToAddress())},TronWebProto.TransferAssetContract.prototype.getToAddress_asU8=function(){return n.Message.bytesAsU8(this.getToAddress())},TronWebProto.TransferAssetContract.prototype.setToAddress=function(e){return n.Message.setProto3BytesField(this,3,e)},TronWebProto.TransferAssetContract.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.TransferAssetContract.prototype.setAmount=function(e){return n.Message.setProto3IntField(this,4,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeAssetContract.prototype.toObject=function(e){return TronWebProto.UnfreezeAssetContract.toObject(e,this)},TronWebProto.UnfreezeAssetContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UnfreezeAssetContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UnfreezeAssetContract;return TronWebProto.UnfreezeAssetContract.deserializeBinaryFromReader(r,t)},TronWebProto.UnfreezeAssetContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setOwnerAddress(r)}else t.skipField();return e},TronWebProto.UnfreezeAssetContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UnfreezeAssetContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UnfreezeAssetContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r)},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeAssetContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeAssetContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateAssetContract.prototype.toObject=function(e){return TronWebProto.UpdateAssetContract.toObject(e,this)},TronWebProto.UpdateAssetContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),description:t.getDescription_asB64(),url:t.getUrl_asB64(),newLimit:n.Message.getFieldWithDefault(t,4,0),newPublicLimit:n.Message.getFieldWithDefault(t,5,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UpdateAssetContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UpdateAssetContract;return TronWebProto.UpdateAssetContract.deserializeBinaryFromReader(r,t)},TronWebProto.UpdateAssetContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setDescription(r);break;case 3:var r=t.readBytes();e.setUrl(r);break;case 4:var r=t.readInt64();e.setNewLimit(r);break;case 5:var r=t.readInt64();e.setNewPublicLimit(r);break;default:t.skipField()}return e},TronWebProto.UpdateAssetContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UpdateAssetContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UpdateAssetContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getDescription_asU8()).length>0&&t.writeBytes(2,r),(r=e.getUrl_asU8()).length>0&&t.writeBytes(3,r),0!==(r=e.getNewLimit())&&t.writeInt64(4,r),0!==(r=e.getNewPublicLimit())&&t.writeInt64(5,r)},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateAssetContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateAssetContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.UpdateAssetContract.prototype.getDescription=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateAssetContract.prototype.getDescription_asB64=function(){return n.Message.bytesAsB64(this.getDescription())},TronWebProto.UpdateAssetContract.prototype.getDescription_asU8=function(){return n.Message.bytesAsU8(this.getDescription())},TronWebProto.UpdateAssetContract.prototype.setDescription=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.UpdateAssetContract.prototype.getUrl=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.UpdateAssetContract.prototype.getUrl_asB64=function(){return n.Message.bytesAsB64(this.getUrl())},TronWebProto.UpdateAssetContract.prototype.getUrl_asU8=function(){return n.Message.bytesAsU8(this.getUrl())},TronWebProto.UpdateAssetContract.prototype.setUrl=function(e){return n.Message.setProto3BytesField(this,3,e)},TronWebProto.UpdateAssetContract.prototype.getNewLimit=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.UpdateAssetContract.prototype.setNewLimit=function(e){return n.Message.setProto3IntField(this,4,e)},TronWebProto.UpdateAssetContract.prototype.getNewPublicLimit=function(){return n.Message.getFieldWithDefault(this,5,0)},TronWebProto.UpdateAssetContract.prototype.setNewPublicLimit=function(e){return n.Message.setProto3IntField(this,5,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ParticipateAssetIssueContract.prototype.toObject=function(e){return TronWebProto.ParticipateAssetIssueContract.toObject(e,this)},TronWebProto.ParticipateAssetIssueContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),toAddress:t.getToAddress_asB64(),assetName:t.getAssetName_asB64(),amount:n.Message.getFieldWithDefault(t,4,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ParticipateAssetIssueContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ParticipateAssetIssueContract;return TronWebProto.ParticipateAssetIssueContract.deserializeBinaryFromReader(r,t)},TronWebProto.ParticipateAssetIssueContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setToAddress(r);break;case 3:var r=t.readBytes();e.setAssetName(r);break;case 4:var r=t.readInt64();e.setAmount(r);break;default:t.skipField()}return e},TronWebProto.ParticipateAssetIssueContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ParticipateAssetIssueContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ParticipateAssetIssueContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getToAddress_asU8()).length>0&&t.writeBytes(2,r),(r=e.getAssetName_asU8()).length>0&&t.writeBytes(3,r),0!==(r=e.getAmount())&&t.writeInt64(4,r)},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress_asB64=function(){return n.Message.bytesAsB64(this.getToAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.getToAddress_asU8=function(){return n.Message.bytesAsU8(this.getToAddress())},TronWebProto.ParticipateAssetIssueContract.prototype.setToAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName_asB64=function(){return n.Message.bytesAsB64(this.getAssetName())},TronWebProto.ParticipateAssetIssueContract.prototype.getAssetName_asU8=function(){return n.Message.bytesAsU8(this.getAssetName())},TronWebProto.ParticipateAssetIssueContract.prototype.setAssetName=function(e){return n.Message.setProto3BytesField(this,3,e)},TronWebProto.ParticipateAssetIssueContract.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.ParticipateAssetIssueContract.prototype.setAmount=function(e){return n.Message.setProto3IntField(this,4,e)},n.object.extend(t,TronWebProto)},35267:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),s=r(79628);n.object.extend(proto,s),n.exportSymbol("TronWebProto.AccountBalanceRequest",null,i),n.exportSymbol("TronWebProto.AccountBalanceResponse",null,i),n.exportSymbol("TronWebProto.AccountIdentifier",null,i),n.exportSymbol("TronWebProto.AccountTrace",null,i),n.exportSymbol("TronWebProto.BlockBalanceTrace",null,i),n.exportSymbol("TronWebProto.BlockBalanceTrace.BlockIdentifier",null,i),n.exportSymbol("TronWebProto.CancelAllUnfreezeV2Contract",null,i),n.exportSymbol("TronWebProto.DelegateResourceContract",null,i),n.exportSymbol("TronWebProto.FreezeBalanceContract",null,i),n.exportSymbol("TronWebProto.FreezeBalanceV2Contract",null,i),n.exportSymbol("TronWebProto.TransactionBalanceTrace",null,i),n.exportSymbol("TronWebProto.TransactionBalanceTrace.Operation",null,i),n.exportSymbol("TronWebProto.TransferContract",null,i),n.exportSymbol("TronWebProto.UnDelegateResourceContract",null,i),n.exportSymbol("TronWebProto.UnfreezeBalanceContract",null,i),n.exportSymbol("TronWebProto.UnfreezeBalanceV2Contract",null,i),n.exportSymbol("TronWebProto.WithdrawBalanceContract",null,i),n.exportSymbol("TronWebProto.WithdrawExpireUnfreezeContract",null,i),TronWebProto.FreezeBalanceContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.FreezeBalanceContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.FreezeBalanceContract.displayName="TronWebProto.FreezeBalanceContract"),TronWebProto.UnfreezeBalanceContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UnfreezeBalanceContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeBalanceContract.displayName="TronWebProto.UnfreezeBalanceContract"),TronWebProto.WithdrawBalanceContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.WithdrawBalanceContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.WithdrawBalanceContract.displayName="TronWebProto.WithdrawBalanceContract"),TronWebProto.TransferContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.TransferContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.TransferContract.displayName="TronWebProto.TransferContract"),TronWebProto.TransactionBalanceTrace=function(e){n.Message.initialize(this,e,0,-1,TronWebProto.TransactionBalanceTrace.repeatedFields_,null)},n.inherits(TronWebProto.TransactionBalanceTrace,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.TransactionBalanceTrace.displayName="TronWebProto.TransactionBalanceTrace"),TronWebProto.TransactionBalanceTrace.Operation=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.TransactionBalanceTrace.Operation,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.TransactionBalanceTrace.Operation.displayName="TronWebProto.TransactionBalanceTrace.Operation"),TronWebProto.BlockBalanceTrace=function(e){n.Message.initialize(this,e,0,-1,TronWebProto.BlockBalanceTrace.repeatedFields_,null)},n.inherits(TronWebProto.BlockBalanceTrace,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.BlockBalanceTrace.displayName="TronWebProto.BlockBalanceTrace"),TronWebProto.BlockBalanceTrace.BlockIdentifier=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.BlockBalanceTrace.BlockIdentifier,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.BlockBalanceTrace.BlockIdentifier.displayName="TronWebProto.BlockBalanceTrace.BlockIdentifier"),TronWebProto.AccountTrace=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.AccountTrace,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AccountTrace.displayName="TronWebProto.AccountTrace"),TronWebProto.AccountIdentifier=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.AccountIdentifier,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AccountIdentifier.displayName="TronWebProto.AccountIdentifier"),TronWebProto.AccountBalanceRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.AccountBalanceRequest,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AccountBalanceRequest.displayName="TronWebProto.AccountBalanceRequest"),TronWebProto.AccountBalanceResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.AccountBalanceResponse,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.AccountBalanceResponse.displayName="TronWebProto.AccountBalanceResponse"),TronWebProto.FreezeBalanceV2Contract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.FreezeBalanceV2Contract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.FreezeBalanceV2Contract.displayName="TronWebProto.FreezeBalanceV2Contract"),TronWebProto.UnfreezeBalanceV2Contract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UnfreezeBalanceV2Contract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UnfreezeBalanceV2Contract.displayName="TronWebProto.UnfreezeBalanceV2Contract"),TronWebProto.WithdrawExpireUnfreezeContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.WithdrawExpireUnfreezeContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.WithdrawExpireUnfreezeContract.displayName="TronWebProto.WithdrawExpireUnfreezeContract"),TronWebProto.DelegateResourceContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.DelegateResourceContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.DelegateResourceContract.displayName="TronWebProto.DelegateResourceContract"),TronWebProto.UnDelegateResourceContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UnDelegateResourceContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UnDelegateResourceContract.displayName="TronWebProto.UnDelegateResourceContract"),TronWebProto.CancelAllUnfreezeV2Contract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.CancelAllUnfreezeV2Contract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.CancelAllUnfreezeV2Contract.displayName="TronWebProto.CancelAllUnfreezeV2Contract"),n.Message.GENERATE_TO_OBJECT&&(TronWebProto.FreezeBalanceContract.prototype.toObject=function(e){return TronWebProto.FreezeBalanceContract.toObject(e,this)},TronWebProto.FreezeBalanceContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),frozenBalance:n.Message.getFieldWithDefault(t,2,0),frozenDuration:n.Message.getFieldWithDefault(t,3,0),resource:n.Message.getFieldWithDefault(t,10,0),receiverAddress:t.getReceiverAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.FreezeBalanceContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.FreezeBalanceContract;return TronWebProto.FreezeBalanceContract.deserializeBinaryFromReader(r,t)},TronWebProto.FreezeBalanceContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setFrozenBalance(r);break;case 3:var r=t.readInt64();e.setFrozenDuration(r);break;case 10:var r=t.readEnum();e.setResource(r);break;case 15:var r=t.readBytes();e.setReceiverAddress(r);break;default:t.skipField()}return e},TronWebProto.FreezeBalanceContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.FreezeBalanceContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.FreezeBalanceContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getFrozenBalance())&&t.writeInt64(2,r),0!==(r=e.getFrozenDuration())&&t.writeInt64(3,r),0!==(r=e.getResource())&&t.writeEnum(10,r),(r=e.getReceiverAddress_asU8()).length>0&&t.writeBytes(15,r)},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.FreezeBalanceContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.FreezeBalanceContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.FreezeBalanceContract.prototype.getFrozenBalance=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.FreezeBalanceContract.prototype.setFrozenBalance=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.FreezeBalanceContract.prototype.getFrozenDuration=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.FreezeBalanceContract.prototype.setFrozenDuration=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.FreezeBalanceContract.prototype.getResource=function(){return n.Message.getFieldWithDefault(this,10,0)},TronWebProto.FreezeBalanceContract.prototype.setResource=function(e){return n.Message.setProto3EnumField(this,10,e)},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress=function(){return n.Message.getFieldWithDefault(this,15,"")},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress_asB64=function(){return n.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.FreezeBalanceContract.prototype.getReceiverAddress_asU8=function(){return n.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.FreezeBalanceContract.prototype.setReceiverAddress=function(e){return n.Message.setProto3BytesField(this,15,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeBalanceContract.prototype.toObject=function(e){return TronWebProto.UnfreezeBalanceContract.toObject(e,this)},TronWebProto.UnfreezeBalanceContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),resource:n.Message.getFieldWithDefault(t,10,0),receiverAddress:t.getReceiverAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UnfreezeBalanceContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UnfreezeBalanceContract;return TronWebProto.UnfreezeBalanceContract.deserializeBinaryFromReader(r,t)},TronWebProto.UnfreezeBalanceContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 10:var r=t.readEnum();e.setResource(r);break;case 15:var r=t.readBytes();e.setReceiverAddress(r);break;default:t.skipField()}return e},TronWebProto.UnfreezeBalanceContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UnfreezeBalanceContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UnfreezeBalanceContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getResource())&&t.writeEnum(10,r),(r=e.getReceiverAddress_asU8()).length>0&&t.writeBytes(15,r)},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.UnfreezeBalanceContract.prototype.getResource=function(){return n.Message.getFieldWithDefault(this,10,0)},TronWebProto.UnfreezeBalanceContract.prototype.setResource=function(e){return n.Message.setProto3EnumField(this,10,e)},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress=function(){return n.Message.getFieldWithDefault(this,15,"")},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress_asB64=function(){return n.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.UnfreezeBalanceContract.prototype.getReceiverAddress_asU8=function(){return n.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.UnfreezeBalanceContract.prototype.setReceiverAddress=function(e){return n.Message.setProto3BytesField(this,15,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.WithdrawBalanceContract.prototype.toObject=function(e){return TronWebProto.WithdrawBalanceContract.toObject(e,this)},TronWebProto.WithdrawBalanceContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.WithdrawBalanceContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.WithdrawBalanceContract;return TronWebProto.WithdrawBalanceContract.deserializeBinaryFromReader(r,t)},TronWebProto.WithdrawBalanceContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setOwnerAddress(r)}else t.skipField();return e},TronWebProto.WithdrawBalanceContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.WithdrawBalanceContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.WithdrawBalanceContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r)},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WithdrawBalanceContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WithdrawBalanceContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransferContract.prototype.toObject=function(e){return TronWebProto.TransferContract.toObject(e,this)},TronWebProto.TransferContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),toAddress:t.getToAddress_asB64(),amount:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.TransferContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.TransferContract;return TronWebProto.TransferContract.deserializeBinaryFromReader(r,t)},TronWebProto.TransferContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setToAddress(r);break;case 3:var r=t.readInt64();e.setAmount(r);break;default:t.skipField()}return e},TronWebProto.TransferContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.TransferContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.TransferContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getToAddress_asU8()).length>0&&t.writeBytes(2,r),0!==(r=e.getAmount())&&t.writeInt64(3,r)},TronWebProto.TransferContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransferContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TransferContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TransferContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.TransferContract.prototype.getToAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransferContract.prototype.getToAddress_asB64=function(){return n.Message.bytesAsB64(this.getToAddress())},TronWebProto.TransferContract.prototype.getToAddress_asU8=function(){return n.Message.bytesAsU8(this.getToAddress())},TronWebProto.TransferContract.prototype.setToAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.TransferContract.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.TransferContract.prototype.setAmount=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.TransactionBalanceTrace.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransactionBalanceTrace.prototype.toObject=function(e){return TronWebProto.TransactionBalanceTrace.toObject(e,this)},TronWebProto.TransactionBalanceTrace.toObject=function(e,t){var r={transactionIdentifier:t.getTransactionIdentifier_asB64(),operationList:n.Message.toObjectList(t.getOperationList(),TronWebProto.TransactionBalanceTrace.Operation.toObject,e),type:n.Message.getFieldWithDefault(t,3,""),status:n.Message.getFieldWithDefault(t,4,"")};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.TransactionBalanceTrace.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.TransactionBalanceTrace;return TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader(r,t)},TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setTransactionIdentifier(r);break;case 2:var r=new TronWebProto.TransactionBalanceTrace.Operation;t.readMessage(r,TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader),e.addOperation(r);break;case 3:var r=t.readString();e.setType(r);break;case 4:var r=t.readString();e.setStatus(r);break;default:t.skipField()}return e},TronWebProto.TransactionBalanceTrace.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTransactionIdentifier_asU8()).length>0&&t.writeBytes(1,r),(r=e.getOperationList()).length>0&&t.writeRepeatedMessage(2,r,TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter),(r=e.getType()).length>0&&t.writeString(3,r),(r=e.getStatus()).length>0&&t.writeString(4,r)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.TransactionBalanceTrace.Operation.prototype.toObject=function(e){return TronWebProto.TransactionBalanceTrace.Operation.toObject(e,this)},TronWebProto.TransactionBalanceTrace.Operation.toObject=function(e,t){var r={operationIdentifier:n.Message.getFieldWithDefault(t,1,0),address:t.getAddress_asB64(),amount:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.TransactionBalanceTrace.Operation.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.TransactionBalanceTrace.Operation;return TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader(r,t)},TronWebProto.TransactionBalanceTrace.Operation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setOperationIdentifier(r);break;case 2:var r=t.readBytes();e.setAddress(r);break;case 3:var r=t.readInt64();e.setAmount(r);break;default:t.skipField()}return e},TronWebProto.TransactionBalanceTrace.Operation.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.TransactionBalanceTrace.Operation.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getOperationIdentifier())&&t.writeInt64(1,r),(r=e.getAddress_asU8()).length>0&&t.writeBytes(2,r),0!==(r=e.getAmount())&&t.writeInt64(3,r)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getOperationIdentifier=function(){return n.Message.getFieldWithDefault(this,1,0)},TronWebProto.TransactionBalanceTrace.Operation.prototype.setOperationIdentifier=function(e){return n.Message.setProto3IntField(this,1,e)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress_asB64=function(){return n.Message.bytesAsB64(this.getAddress())},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAddress_asU8=function(){return n.Message.bytesAsU8(this.getAddress())},TronWebProto.TransactionBalanceTrace.Operation.prototype.setAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.TransactionBalanceTrace.Operation.prototype.getAmount=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.TransactionBalanceTrace.Operation.prototype.setAmount=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier_asB64=function(){return n.Message.bytesAsB64(this.getTransactionIdentifier())},TronWebProto.TransactionBalanceTrace.prototype.getTransactionIdentifier_asU8=function(){return n.Message.bytesAsU8(this.getTransactionIdentifier())},TronWebProto.TransactionBalanceTrace.prototype.setTransactionIdentifier=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.TransactionBalanceTrace.prototype.getOperationList=function(){return n.Message.getRepeatedWrapperField(this,TronWebProto.TransactionBalanceTrace.Operation,2)},TronWebProto.TransactionBalanceTrace.prototype.setOperationList=function(e){return n.Message.setRepeatedWrapperField(this,2,e)},TronWebProto.TransactionBalanceTrace.prototype.addOperation=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,TronWebProto.TransactionBalanceTrace.Operation,t)},TronWebProto.TransactionBalanceTrace.prototype.clearOperationList=function(){return this.setOperationList([])},TronWebProto.TransactionBalanceTrace.prototype.getType=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.TransactionBalanceTrace.prototype.setType=function(e){return n.Message.setProto3StringField(this,3,e)},TronWebProto.TransactionBalanceTrace.prototype.getStatus=function(){return n.Message.getFieldWithDefault(this,4,"")},TronWebProto.TransactionBalanceTrace.prototype.setStatus=function(e){return n.Message.setProto3StringField(this,4,e)},TronWebProto.BlockBalanceTrace.repeatedFields_=[3],n.Message.GENERATE_TO_OBJECT&&(TronWebProto.BlockBalanceTrace.prototype.toObject=function(e){return TronWebProto.BlockBalanceTrace.toObject(e,this)},TronWebProto.BlockBalanceTrace.toObject=function(e,t){var r,i={blockIdentifier:(r=t.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(e,r),timestamp:n.Message.getFieldWithDefault(t,2,0),transactionBalanceTraceList:n.Message.toObjectList(t.getTransactionBalanceTraceList(),TronWebProto.TransactionBalanceTrace.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),TronWebProto.BlockBalanceTrace.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.BlockBalanceTrace;return TronWebProto.BlockBalanceTrace.deserializeBinaryFromReader(r,t)},TronWebProto.BlockBalanceTrace.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new TronWebProto.BlockBalanceTrace.BlockIdentifier;t.readMessage(r,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),e.setBlockIdentifier(r);break;case 2:var r=t.readInt64();e.setTimestamp(r);break;case 3:var r=new TronWebProto.TransactionBalanceTrace;t.readMessage(r,TronWebProto.TransactionBalanceTrace.deserializeBinaryFromReader),e.addTransactionBalanceTrace(r);break;default:t.skipField()}return e},TronWebProto.BlockBalanceTrace.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.BlockBalanceTrace.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.BlockBalanceTrace.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBlockIdentifier())&&t.writeMessage(1,r,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter),0!==(r=e.getTimestamp())&&t.writeInt64(2,r),(r=e.getTransactionBalanceTraceList()).length>0&&t.writeRepeatedMessage(3,r,TronWebProto.TransactionBalanceTrace.serializeBinaryToWriter)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.toObject=function(e){return TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(e,this)},TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject=function(e,t){var r={hash:t.getHash_asB64(),number:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.BlockBalanceTrace.BlockIdentifier;return TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader(r,t)},TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setHash(r);break;case 2:var r=t.readInt64();e.setNumber(r);break;default:t.skipField()}return e},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getHash_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getNumber())&&t.writeInt64(2,r)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash_asB64=function(){return n.Message.bytesAsB64(this.getHash())},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getHash_asU8=function(){return n.Message.bytesAsU8(this.getHash())},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.setHash=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.getNumber=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.BlockBalanceTrace.BlockIdentifier.prototype.setNumber=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.BlockBalanceTrace.prototype.getBlockIdentifier=function(){return n.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,1)},TronWebProto.BlockBalanceTrace.prototype.setBlockIdentifier=function(e){return n.Message.setWrapperField(this,1,e)},TronWebProto.BlockBalanceTrace.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.BlockBalanceTrace.prototype.hasBlockIdentifier=function(){return null!=n.Message.getField(this,1)},TronWebProto.BlockBalanceTrace.prototype.getTimestamp=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.BlockBalanceTrace.prototype.setTimestamp=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.BlockBalanceTrace.prototype.getTransactionBalanceTraceList=function(){return n.Message.getRepeatedWrapperField(this,TronWebProto.TransactionBalanceTrace,3)},TronWebProto.BlockBalanceTrace.prototype.setTransactionBalanceTraceList=function(e){return n.Message.setRepeatedWrapperField(this,3,e)},TronWebProto.BlockBalanceTrace.prototype.addTransactionBalanceTrace=function(e,t){return n.Message.addToRepeatedWrapperField(this,3,e,TronWebProto.TransactionBalanceTrace,t)},TronWebProto.BlockBalanceTrace.prototype.clearTransactionBalanceTraceList=function(){return this.setTransactionBalanceTraceList([])},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountTrace.prototype.toObject=function(e){return TronWebProto.AccountTrace.toObject(e,this)},TronWebProto.AccountTrace.toObject=function(e,t){var r={balance:n.Message.getFieldWithDefault(t,1,0),placeholder:n.Message.getFieldWithDefault(t,99,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.AccountTrace.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AccountTrace;return TronWebProto.AccountTrace.deserializeBinaryFromReader(r,t)},TronWebProto.AccountTrace.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setBalance(r);break;case 99:var r=t.readInt64();e.setPlaceholder(r);break;default:t.skipField()}return e},TronWebProto.AccountTrace.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AccountTrace.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AccountTrace.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getBalance())&&t.writeInt64(1,r),0!==(r=e.getPlaceholder())&&t.writeInt64(99,r)},TronWebProto.AccountTrace.prototype.getBalance=function(){return n.Message.getFieldWithDefault(this,1,0)},TronWebProto.AccountTrace.prototype.setBalance=function(e){return n.Message.setProto3IntField(this,1,e)},TronWebProto.AccountTrace.prototype.getPlaceholder=function(){return n.Message.getFieldWithDefault(this,99,0)},TronWebProto.AccountTrace.prototype.setPlaceholder=function(e){return n.Message.setProto3IntField(this,99,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountIdentifier.prototype.toObject=function(e){return TronWebProto.AccountIdentifier.toObject(e,this)},TronWebProto.AccountIdentifier.toObject=function(e,t){var r={address:t.getAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.AccountIdentifier.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AccountIdentifier;return TronWebProto.AccountIdentifier.deserializeBinaryFromReader(r,t)},TronWebProto.AccountIdentifier.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setAddress(r)}else t.skipField();return e},TronWebProto.AccountIdentifier.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AccountIdentifier.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AccountIdentifier.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAddress_asU8()).length>0&&t.writeBytes(1,r)},TronWebProto.AccountIdentifier.prototype.getAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.AccountIdentifier.prototype.getAddress_asB64=function(){return n.Message.bytesAsB64(this.getAddress())},TronWebProto.AccountIdentifier.prototype.getAddress_asU8=function(){return n.Message.bytesAsU8(this.getAddress())},TronWebProto.AccountIdentifier.prototype.setAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountBalanceRequest.prototype.toObject=function(e){return TronWebProto.AccountBalanceRequest.toObject(e,this)},TronWebProto.AccountBalanceRequest.toObject=function(e,t){var r,n={accountIdentifier:(r=t.getAccountIdentifier())&&TronWebProto.AccountIdentifier.toObject(e,r),blockIdentifier:(r=t.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),TronWebProto.AccountBalanceRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AccountBalanceRequest;return TronWebProto.AccountBalanceRequest.deserializeBinaryFromReader(r,t)},TronWebProto.AccountBalanceRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new TronWebProto.AccountIdentifier;t.readMessage(r,TronWebProto.AccountIdentifier.deserializeBinaryFromReader),e.setAccountIdentifier(r);break;case 2:var r=new TronWebProto.BlockBalanceTrace.BlockIdentifier;t.readMessage(r,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),e.setBlockIdentifier(r);break;default:t.skipField()}return e},TronWebProto.AccountBalanceRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AccountBalanceRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AccountBalanceRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getAccountIdentifier())&&t.writeMessage(1,r,TronWebProto.AccountIdentifier.serializeBinaryToWriter),null!=(r=e.getBlockIdentifier())&&t.writeMessage(2,r,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter)},TronWebProto.AccountBalanceRequest.prototype.getAccountIdentifier=function(){return n.Message.getWrapperField(this,TronWebProto.AccountIdentifier,1)},TronWebProto.AccountBalanceRequest.prototype.setAccountIdentifier=function(e){return n.Message.setWrapperField(this,1,e)},TronWebProto.AccountBalanceRequest.prototype.clearAccountIdentifier=function(){return this.setAccountIdentifier(void 0)},TronWebProto.AccountBalanceRequest.prototype.hasAccountIdentifier=function(){return null!=n.Message.getField(this,1)},TronWebProto.AccountBalanceRequest.prototype.getBlockIdentifier=function(){return n.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,2)},TronWebProto.AccountBalanceRequest.prototype.setBlockIdentifier=function(e){return n.Message.setWrapperField(this,2,e)},TronWebProto.AccountBalanceRequest.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.AccountBalanceRequest.prototype.hasBlockIdentifier=function(){return null!=n.Message.getField(this,2)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.AccountBalanceResponse.prototype.toObject=function(e){return TronWebProto.AccountBalanceResponse.toObject(e,this)},TronWebProto.AccountBalanceResponse.toObject=function(e,t){var r,i={balance:n.Message.getFieldWithDefault(t,1,0),blockIdentifier:(r=t.getBlockIdentifier())&&TronWebProto.BlockBalanceTrace.BlockIdentifier.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),TronWebProto.AccountBalanceResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.AccountBalanceResponse;return TronWebProto.AccountBalanceResponse.deserializeBinaryFromReader(r,t)},TronWebProto.AccountBalanceResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setBalance(r);break;case 2:var r=new TronWebProto.BlockBalanceTrace.BlockIdentifier;t.readMessage(r,TronWebProto.BlockBalanceTrace.BlockIdentifier.deserializeBinaryFromReader),e.setBlockIdentifier(r);break;default:t.skipField()}return e},TronWebProto.AccountBalanceResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.AccountBalanceResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.AccountBalanceResponse.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getBalance())&&t.writeInt64(1,r),null!=(r=e.getBlockIdentifier())&&t.writeMessage(2,r,TronWebProto.BlockBalanceTrace.BlockIdentifier.serializeBinaryToWriter)},TronWebProto.AccountBalanceResponse.prototype.getBalance=function(){return n.Message.getFieldWithDefault(this,1,0)},TronWebProto.AccountBalanceResponse.prototype.setBalance=function(e){return n.Message.setProto3IntField(this,1,e)},TronWebProto.AccountBalanceResponse.prototype.getBlockIdentifier=function(){return n.Message.getWrapperField(this,TronWebProto.BlockBalanceTrace.BlockIdentifier,2)},TronWebProto.AccountBalanceResponse.prototype.setBlockIdentifier=function(e){return n.Message.setWrapperField(this,2,e)},TronWebProto.AccountBalanceResponse.prototype.clearBlockIdentifier=function(){return this.setBlockIdentifier(void 0)},TronWebProto.AccountBalanceResponse.prototype.hasBlockIdentifier=function(){return null!=n.Message.getField(this,2)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.FreezeBalanceV2Contract.prototype.toObject=function(e){return TronWebProto.FreezeBalanceV2Contract.toObject(e,this)},TronWebProto.FreezeBalanceV2Contract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),frozenBalance:n.Message.getFieldWithDefault(t,2,0),resource:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.FreezeBalanceV2Contract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.FreezeBalanceV2Contract;return TronWebProto.FreezeBalanceV2Contract.deserializeBinaryFromReader(r,t)},TronWebProto.FreezeBalanceV2Contract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setFrozenBalance(r);break;case 3:var r=t.readEnum();e.setResource(r);break;default:t.skipField()}return e},TronWebProto.FreezeBalanceV2Contract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.FreezeBalanceV2Contract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.FreezeBalanceV2Contract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getFrozenBalance())&&t.writeInt64(2,r),0!==(r=e.getResource())&&t.writeEnum(3,r)},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.FreezeBalanceV2Contract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.FreezeBalanceV2Contract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.FreezeBalanceV2Contract.prototype.getFrozenBalance=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.FreezeBalanceV2Contract.prototype.setFrozenBalance=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.FreezeBalanceV2Contract.prototype.getResource=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.FreezeBalanceV2Contract.prototype.setResource=function(e){return n.Message.setProto3EnumField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnfreezeBalanceV2Contract.prototype.toObject=function(e){return TronWebProto.UnfreezeBalanceV2Contract.toObject(e,this)},TronWebProto.UnfreezeBalanceV2Contract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),unfreezeBalance:n.Message.getFieldWithDefault(t,2,0),resource:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UnfreezeBalanceV2Contract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UnfreezeBalanceV2Contract;return TronWebProto.UnfreezeBalanceV2Contract.deserializeBinaryFromReader(r,t)},TronWebProto.UnfreezeBalanceV2Contract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setUnfreezeBalance(r);break;case 3:var r=t.readEnum();e.setResource(r);break;default:t.skipField()}return e},TronWebProto.UnfreezeBalanceV2Contract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UnfreezeBalanceV2Contract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UnfreezeBalanceV2Contract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getUnfreezeBalance())&&t.writeInt64(2,r),0!==(r=e.getResource())&&t.writeEnum(3,r)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceV2Contract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnfreezeBalanceV2Contract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getUnfreezeBalance=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.UnfreezeBalanceV2Contract.prototype.setUnfreezeBalance=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.UnfreezeBalanceV2Contract.prototype.getResource=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.UnfreezeBalanceV2Contract.prototype.setResource=function(e){return n.Message.setProto3EnumField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.WithdrawExpireUnfreezeContract.prototype.toObject=function(e){return TronWebProto.WithdrawExpireUnfreezeContract.toObject(e,this)},TronWebProto.WithdrawExpireUnfreezeContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.WithdrawExpireUnfreezeContract;return TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinaryFromReader(r,t)},TronWebProto.WithdrawExpireUnfreezeContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setOwnerAddress(r)}else t.skipField();return e},TronWebProto.WithdrawExpireUnfreezeContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.WithdrawExpireUnfreezeContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.WithdrawExpireUnfreezeContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r)},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WithdrawExpireUnfreezeContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WithdrawExpireUnfreezeContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.DelegateResourceContract.prototype.toObject=function(e){return TronWebProto.DelegateResourceContract.toObject(e,this)},TronWebProto.DelegateResourceContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),resource:n.Message.getFieldWithDefault(t,2,0),balance:n.Message.getFieldWithDefault(t,3,0),receiverAddress:t.getReceiverAddress_asB64(),lock:n.Message.getBooleanFieldWithDefault(t,5,!1),lockPeriod:n.Message.getFieldWithDefault(t,6,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.DelegateResourceContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.DelegateResourceContract;return TronWebProto.DelegateResourceContract.deserializeBinaryFromReader(r,t)},TronWebProto.DelegateResourceContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readEnum();e.setResource(r);break;case 3:var r=t.readInt64();e.setBalance(r);break;case 4:var r=t.readBytes();e.setReceiverAddress(r);break;case 5:var r=t.readBool();e.setLock(r);break;case 6:var r=t.readInt64();e.setLockPeriod(r);break;default:t.skipField()}return e},TronWebProto.DelegateResourceContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.DelegateResourceContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.DelegateResourceContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getResource())&&t.writeEnum(2,r),0!==(r=e.getBalance())&&t.writeInt64(3,r),(r=e.getReceiverAddress_asU8()).length>0&&t.writeBytes(4,r),(r=e.getLock())&&t.writeBool(5,r),0!==(r=e.getLockPeriod())&&t.writeInt64(6,r)},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.DelegateResourceContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.DelegateResourceContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.DelegateResourceContract.prototype.getResource=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.DelegateResourceContract.prototype.setResource=function(e){return n.Message.setProto3EnumField(this,2,e)},TronWebProto.DelegateResourceContract.prototype.getBalance=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.DelegateResourceContract.prototype.setBalance=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress=function(){return n.Message.getFieldWithDefault(this,4,"")},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress_asB64=function(){return n.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.DelegateResourceContract.prototype.getReceiverAddress_asU8=function(){return n.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.DelegateResourceContract.prototype.setReceiverAddress=function(e){return n.Message.setProto3BytesField(this,4,e)},TronWebProto.DelegateResourceContract.prototype.getLock=function(){return n.Message.getBooleanFieldWithDefault(this,5,!1)},TronWebProto.DelegateResourceContract.prototype.setLock=function(e){return n.Message.setProto3BooleanField(this,5,e)},TronWebProto.DelegateResourceContract.prototype.getLockPeriod=function(){return n.Message.getFieldWithDefault(this,6,0)},TronWebProto.DelegateResourceContract.prototype.setLockPeriod=function(e){return n.Message.setProto3IntField(this,6,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UnDelegateResourceContract.prototype.toObject=function(e){return TronWebProto.UnDelegateResourceContract.toObject(e,this)},TronWebProto.UnDelegateResourceContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),resource:n.Message.getFieldWithDefault(t,2,0),balance:n.Message.getFieldWithDefault(t,3,0),receiverAddress:t.getReceiverAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UnDelegateResourceContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UnDelegateResourceContract;return TronWebProto.UnDelegateResourceContract.deserializeBinaryFromReader(r,t)},TronWebProto.UnDelegateResourceContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readEnum();e.setResource(r);break;case 3:var r=t.readInt64();e.setBalance(r);break;case 4:var r=t.readBytes();e.setReceiverAddress(r);break;default:t.skipField()}return e},TronWebProto.UnDelegateResourceContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UnDelegateResourceContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UnDelegateResourceContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getResource())&&t.writeEnum(2,r),0!==(r=e.getBalance())&&t.writeInt64(3,r),(r=e.getReceiverAddress_asU8()).length>0&&t.writeBytes(4,r)},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UnDelegateResourceContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UnDelegateResourceContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.UnDelegateResourceContract.prototype.getResource=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.UnDelegateResourceContract.prototype.setResource=function(e){return n.Message.setProto3EnumField(this,2,e)},TronWebProto.UnDelegateResourceContract.prototype.getBalance=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.UnDelegateResourceContract.prototype.setBalance=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress=function(){return n.Message.getFieldWithDefault(this,4,"")},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress_asB64=function(){return n.Message.bytesAsB64(this.getReceiverAddress())},TronWebProto.UnDelegateResourceContract.prototype.getReceiverAddress_asU8=function(){return n.Message.bytesAsU8(this.getReceiverAddress())},TronWebProto.UnDelegateResourceContract.prototype.setReceiverAddress=function(e){return n.Message.setProto3BytesField(this,4,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.CancelAllUnfreezeV2Contract.prototype.toObject=function(e){return TronWebProto.CancelAllUnfreezeV2Contract.toObject(e,this)},TronWebProto.CancelAllUnfreezeV2Contract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.CancelAllUnfreezeV2Contract;return TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinaryFromReader(r,t)},TronWebProto.CancelAllUnfreezeV2Contract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setOwnerAddress(r)}else t.skipField();return e},TronWebProto.CancelAllUnfreezeV2Contract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.CancelAllUnfreezeV2Contract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.CancelAllUnfreezeV2Contract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r)},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.CancelAllUnfreezeV2Contract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.CancelAllUnfreezeV2Contract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},n.object.extend(t,TronWebProto)},79628:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();n.exportSymbol("TronWebProto.ResourceCode",null,i),TronWebProto.ResourceCode={BANDWIDTH:0,ENERGY:1,TRON_POWER:2},n.object.extend(t,TronWebProto)},44561:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();n.exportSymbol("TronWebProto.ExchangeCreateContract",null,i),n.exportSymbol("TronWebProto.ExchangeInjectContract",null,i),n.exportSymbol("TronWebProto.ExchangeTransactionContract",null,i),n.exportSymbol("TronWebProto.ExchangeWithdrawContract",null,i),TronWebProto.ExchangeCreateContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ExchangeCreateContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ExchangeCreateContract.displayName="TronWebProto.ExchangeCreateContract"),TronWebProto.ExchangeInjectContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ExchangeInjectContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ExchangeInjectContract.displayName="TronWebProto.ExchangeInjectContract"),TronWebProto.ExchangeWithdrawContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ExchangeWithdrawContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ExchangeWithdrawContract.displayName="TronWebProto.ExchangeWithdrawContract"),TronWebProto.ExchangeTransactionContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ExchangeTransactionContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ExchangeTransactionContract.displayName="TronWebProto.ExchangeTransactionContract"),n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeCreateContract.prototype.toObject=function(e){return TronWebProto.ExchangeCreateContract.toObject(e,this)},TronWebProto.ExchangeCreateContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),firstTokenId:t.getFirstTokenId_asB64(),firstTokenBalance:n.Message.getFieldWithDefault(t,3,0),secondTokenId:t.getSecondTokenId_asB64(),secondTokenBalance:n.Message.getFieldWithDefault(t,5,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ExchangeCreateContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ExchangeCreateContract;return TronWebProto.ExchangeCreateContract.deserializeBinaryFromReader(r,t)},TronWebProto.ExchangeCreateContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setFirstTokenId(r);break;case 3:var r=t.readInt64();e.setFirstTokenBalance(r);break;case 4:var r=t.readBytes();e.setSecondTokenId(r);break;case 5:var r=t.readInt64();e.setSecondTokenBalance(r);break;default:t.skipField()}return e},TronWebProto.ExchangeCreateContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ExchangeCreateContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ExchangeCreateContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getFirstTokenId_asU8()).length>0&&t.writeBytes(2,r),0!==(r=e.getFirstTokenBalance())&&t.writeInt64(3,r),(r=e.getSecondTokenId_asU8()).length>0&&t.writeBytes(4,r),0!==(r=e.getSecondTokenBalance())&&t.writeInt64(5,r)},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeCreateContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeCreateContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId_asB64=function(){return n.Message.bytesAsB64(this.getFirstTokenId())},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenId_asU8=function(){return n.Message.bytesAsU8(this.getFirstTokenId())},TronWebProto.ExchangeCreateContract.prototype.setFirstTokenId=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.ExchangeCreateContract.prototype.getFirstTokenBalance=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.ExchangeCreateContract.prototype.setFirstTokenBalance=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId=function(){return n.Message.getFieldWithDefault(this,4,"")},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId_asB64=function(){return n.Message.bytesAsB64(this.getSecondTokenId())},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenId_asU8=function(){return n.Message.bytesAsU8(this.getSecondTokenId())},TronWebProto.ExchangeCreateContract.prototype.setSecondTokenId=function(e){return n.Message.setProto3BytesField(this,4,e)},TronWebProto.ExchangeCreateContract.prototype.getSecondTokenBalance=function(){return n.Message.getFieldWithDefault(this,5,0)},TronWebProto.ExchangeCreateContract.prototype.setSecondTokenBalance=function(e){return n.Message.setProto3IntField(this,5,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeInjectContract.prototype.toObject=function(e){return TronWebProto.ExchangeInjectContract.toObject(e,this)},TronWebProto.ExchangeInjectContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),exchangeId:n.Message.getFieldWithDefault(t,2,0),tokenId:t.getTokenId_asB64(),quant:n.Message.getFieldWithDefault(t,4,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ExchangeInjectContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ExchangeInjectContract;return TronWebProto.ExchangeInjectContract.deserializeBinaryFromReader(r,t)},TronWebProto.ExchangeInjectContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setExchangeId(r);break;case 3:var r=t.readBytes();e.setTokenId(r);break;case 4:var r=t.readInt64();e.setQuant(r);break;default:t.skipField()}return e},TronWebProto.ExchangeInjectContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ExchangeInjectContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ExchangeInjectContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getExchangeId())&&t.writeInt64(2,r),(r=e.getTokenId_asU8()).length>0&&t.writeBytes(3,r),0!==(r=e.getQuant())&&t.writeInt64(4,r)},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeInjectContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeInjectContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ExchangeInjectContract.prototype.getExchangeId=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeInjectContract.prototype.setExchangeId=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.ExchangeInjectContract.prototype.getTokenId=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeInjectContract.prototype.getTokenId_asB64=function(){return n.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeInjectContract.prototype.getTokenId_asU8=function(){return n.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeInjectContract.prototype.setTokenId=function(e){return n.Message.setProto3BytesField(this,3,e)},TronWebProto.ExchangeInjectContract.prototype.getQuant=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeInjectContract.prototype.setQuant=function(e){return n.Message.setProto3IntField(this,4,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeWithdrawContract.prototype.toObject=function(e){return TronWebProto.ExchangeWithdrawContract.toObject(e,this)},TronWebProto.ExchangeWithdrawContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),exchangeId:n.Message.getFieldWithDefault(t,2,0),tokenId:t.getTokenId_asB64(),quant:n.Message.getFieldWithDefault(t,4,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ExchangeWithdrawContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ExchangeWithdrawContract;return TronWebProto.ExchangeWithdrawContract.deserializeBinaryFromReader(r,t)},TronWebProto.ExchangeWithdrawContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setExchangeId(r);break;case 3:var r=t.readBytes();e.setTokenId(r);break;case 4:var r=t.readInt64();e.setQuant(r);break;default:t.skipField()}return e},TronWebProto.ExchangeWithdrawContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ExchangeWithdrawContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ExchangeWithdrawContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getExchangeId())&&t.writeInt64(2,r),(r=e.getTokenId_asU8()).length>0&&t.writeBytes(3,r),0!==(r=e.getQuant())&&t.writeInt64(4,r)},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeWithdrawContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeWithdrawContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ExchangeWithdrawContract.prototype.getExchangeId=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeWithdrawContract.prototype.setExchangeId=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId_asB64=function(){return n.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeWithdrawContract.prototype.getTokenId_asU8=function(){return n.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeWithdrawContract.prototype.setTokenId=function(e){return n.Message.setProto3BytesField(this,3,e)},TronWebProto.ExchangeWithdrawContract.prototype.getQuant=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeWithdrawContract.prototype.setQuant=function(e){return n.Message.setProto3IntField(this,4,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ExchangeTransactionContract.prototype.toObject=function(e){return TronWebProto.ExchangeTransactionContract.toObject(e,this)},TronWebProto.ExchangeTransactionContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),exchangeId:n.Message.getFieldWithDefault(t,2,0),tokenId:t.getTokenId_asB64(),quant:n.Message.getFieldWithDefault(t,4,0),expected:n.Message.getFieldWithDefault(t,5,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ExchangeTransactionContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ExchangeTransactionContract;return TronWebProto.ExchangeTransactionContract.deserializeBinaryFromReader(r,t)},TronWebProto.ExchangeTransactionContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setExchangeId(r);break;case 3:var r=t.readBytes();e.setTokenId(r);break;case 4:var r=t.readInt64();e.setQuant(r);break;case 5:var r=t.readInt64();e.setExpected(r);break;default:t.skipField()}return e},TronWebProto.ExchangeTransactionContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ExchangeTransactionContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ExchangeTransactionContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getExchangeId())&&t.writeInt64(2,r),(r=e.getTokenId_asU8()).length>0&&t.writeBytes(3,r),0!==(r=e.getQuant())&&t.writeInt64(4,r),0!==(r=e.getExpected())&&t.writeInt64(5,r)},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ExchangeTransactionContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ExchangeTransactionContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ExchangeTransactionContract.prototype.getExchangeId=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.ExchangeTransactionContract.prototype.setExchangeId=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.ExchangeTransactionContract.prototype.getTokenId=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.ExchangeTransactionContract.prototype.getTokenId_asB64=function(){return n.Message.bytesAsB64(this.getTokenId())},TronWebProto.ExchangeTransactionContract.prototype.getTokenId_asU8=function(){return n.Message.bytesAsU8(this.getTokenId())},TronWebProto.ExchangeTransactionContract.prototype.setTokenId=function(e){return n.Message.setProto3BytesField(this,3,e)},TronWebProto.ExchangeTransactionContract.prototype.getQuant=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.ExchangeTransactionContract.prototype.setQuant=function(e){return n.Message.setProto3IntField(this,4,e)},TronWebProto.ExchangeTransactionContract.prototype.getExpected=function(){return n.Message.getFieldWithDefault(this,5,0)},TronWebProto.ExchangeTransactionContract.prototype.setExpected=function(e){return n.Message.setProto3IntField(this,5,e)},n.object.extend(t,TronWebProto)},44572:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();n.exportSymbol("TronWebProto.ProposalApproveContract",null,i),n.exportSymbol("TronWebProto.ProposalCreateContract",null,i),n.exportSymbol("TronWebProto.ProposalDeleteContract",null,i),TronWebProto.ProposalApproveContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ProposalApproveContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ProposalApproveContract.displayName="TronWebProto.ProposalApproveContract"),TronWebProto.ProposalCreateContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ProposalCreateContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ProposalCreateContract.displayName="TronWebProto.ProposalCreateContract"),TronWebProto.ProposalDeleteContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ProposalDeleteContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ProposalDeleteContract.displayName="TronWebProto.ProposalDeleteContract"),n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalApproveContract.prototype.toObject=function(e){return TronWebProto.ProposalApproveContract.toObject(e,this)},TronWebProto.ProposalApproveContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),proposalId:n.Message.getFieldWithDefault(t,2,0),isAddApproval:n.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ProposalApproveContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ProposalApproveContract;return TronWebProto.ProposalApproveContract.deserializeBinaryFromReader(r,t)},TronWebProto.ProposalApproveContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setProposalId(r);break;case 3:var r=t.readBool();e.setIsAddApproval(r);break;default:t.skipField()}return e},TronWebProto.ProposalApproveContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ProposalApproveContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ProposalApproveContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getProposalId())&&t.writeInt64(2,r),(r=e.getIsAddApproval())&&t.writeBool(3,r)},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalApproveContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalApproveContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ProposalApproveContract.prototype.getProposalId=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.ProposalApproveContract.prototype.setProposalId=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.ProposalApproveContract.prototype.getIsAddApproval=function(){return n.Message.getBooleanFieldWithDefault(this,3,!1)},TronWebProto.ProposalApproveContract.prototype.setIsAddApproval=function(e){return n.Message.setProto3BooleanField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalCreateContract.prototype.toObject=function(e){return TronWebProto.ProposalCreateContract.toObject(e,this)},TronWebProto.ProposalCreateContract.toObject=function(e,t){var r,n={ownerAddress:t.getOwnerAddress_asB64(),parametersMap:(r=t.getParametersMap())?r.toObject(e,void 0):[]};return e&&(n.$jspbMessageInstance=t),n}),TronWebProto.ProposalCreateContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ProposalCreateContract;return TronWebProto.ProposalCreateContract.deserializeBinaryFromReader(r,t)},TronWebProto.ProposalCreateContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=e.getParametersMap();t.readMessage(r,function(e,t){n.Map.deserializeBinary(e,t,n.BinaryReader.prototype.readInt64,n.BinaryReader.prototype.readInt64,null,0,0)});break;default:t.skipField()}return e},TronWebProto.ProposalCreateContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ProposalCreateContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ProposalCreateContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getParametersMap(!0))&&r.getLength()>0&&r.serializeBinary(2,t,n.BinaryWriter.prototype.writeInt64,n.BinaryWriter.prototype.writeInt64)},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalCreateContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalCreateContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ProposalCreateContract.prototype.getParametersMap=function(e){return n.Message.getMapField(this,2,e,null)},TronWebProto.ProposalCreateContract.prototype.clearParametersMap=function(){return this.getParametersMap().clear(),this},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ProposalDeleteContract.prototype.toObject=function(e){return TronWebProto.ProposalDeleteContract.toObject(e,this)},TronWebProto.ProposalDeleteContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),proposalId:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ProposalDeleteContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ProposalDeleteContract;return TronWebProto.ProposalDeleteContract.deserializeBinaryFromReader(r,t)},TronWebProto.ProposalDeleteContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setProposalId(r);break;default:t.skipField()}return e},TronWebProto.ProposalDeleteContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ProposalDeleteContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ProposalDeleteContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getProposalId())&&t.writeInt64(2,r)},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ProposalDeleteContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ProposalDeleteContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ProposalDeleteContract.prototype.getProposalId=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.ProposalDeleteContract.prototype.setProposalId=function(e){return n.Message.setProto3IntField(this,2,e)},n.object.extend(t,TronWebProto)},90856:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")(),s=r(91641);n.object.extend(proto,s),n.exportSymbol("TronWebProto.ClearABIContract",null,i),n.exportSymbol("TronWebProto.ContractState",null,i),n.exportSymbol("TronWebProto.CreateSmartContract",null,i),n.exportSymbol("TronWebProto.SmartContract",null,i),n.exportSymbol("TronWebProto.SmartContract.ABI",null,i),n.exportSymbol("TronWebProto.SmartContract.ABI.Entry",null,i),n.exportSymbol("TronWebProto.SmartContract.ABI.Entry.EntryType",null,i),n.exportSymbol("TronWebProto.SmartContract.ABI.Entry.Param",null,i),n.exportSymbol("TronWebProto.SmartContract.ABI.Entry.StateMutabilityType",null,i),n.exportSymbol("TronWebProto.SmartContractDataWrapper",null,i),n.exportSymbol("TronWebProto.TriggerSmartContract",null,i),n.exportSymbol("TronWebProto.UpdateEnergyLimitContract",null,i),n.exportSymbol("TronWebProto.UpdateSettingContract",null,i),TronWebProto.SmartContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.SmartContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.displayName="TronWebProto.SmartContract"),TronWebProto.SmartContract.ABI=function(e){n.Message.initialize(this,e,0,-1,TronWebProto.SmartContract.ABI.repeatedFields_,null)},n.inherits(TronWebProto.SmartContract.ABI,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.displayName="TronWebProto.SmartContract.ABI"),TronWebProto.SmartContract.ABI.Entry=function(e){n.Message.initialize(this,e,0,-1,TronWebProto.SmartContract.ABI.Entry.repeatedFields_,null)},n.inherits(TronWebProto.SmartContract.ABI.Entry,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.Entry.displayName="TronWebProto.SmartContract.ABI.Entry"),TronWebProto.SmartContract.ABI.Entry.Param=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.SmartContract.ABI.Entry.Param,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.SmartContract.ABI.Entry.Param.displayName="TronWebProto.SmartContract.ABI.Entry.Param"),TronWebProto.ContractState=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ContractState,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ContractState.displayName="TronWebProto.ContractState"),TronWebProto.CreateSmartContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.CreateSmartContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.CreateSmartContract.displayName="TronWebProto.CreateSmartContract"),TronWebProto.TriggerSmartContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.TriggerSmartContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.TriggerSmartContract.displayName="TronWebProto.TriggerSmartContract"),TronWebProto.ClearABIContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.ClearABIContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.ClearABIContract.displayName="TronWebProto.ClearABIContract"),TronWebProto.UpdateSettingContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UpdateSettingContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UpdateSettingContract.displayName="TronWebProto.UpdateSettingContract"),TronWebProto.UpdateEnergyLimitContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UpdateEnergyLimitContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UpdateEnergyLimitContract.displayName="TronWebProto.UpdateEnergyLimitContract"),TronWebProto.SmartContractDataWrapper=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.SmartContractDataWrapper,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.SmartContractDataWrapper.displayName="TronWebProto.SmartContractDataWrapper"),n.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.prototype.toObject=function(e){return TronWebProto.SmartContract.toObject(e,this)},TronWebProto.SmartContract.toObject=function(e,t){var r,i={originAddress:t.getOriginAddress_asB64(),contractAddress:t.getContractAddress_asB64(),abi:(r=t.getAbi())&&TronWebProto.SmartContract.ABI.toObject(e,r),bytecode:t.getBytecode_asB64(),callValue:n.Message.getFieldWithDefault(t,5,0),consumeUserResourcePercent:n.Message.getFieldWithDefault(t,6,0),name:n.Message.getFieldWithDefault(t,7,""),originEnergyLimit:n.Message.getFieldWithDefault(t,8,0),codeHash:t.getCodeHash_asB64(),trxHash:t.getTrxHash_asB64(),version:n.Message.getFieldWithDefault(t,11,0)};return e&&(i.$jspbMessageInstance=t),i}),TronWebProto.SmartContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.SmartContract;return TronWebProto.SmartContract.deserializeBinaryFromReader(r,t)},TronWebProto.SmartContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOriginAddress(r);break;case 2:var r=t.readBytes();e.setContractAddress(r);break;case 3:var r=new TronWebProto.SmartContract.ABI;t.readMessage(r,TronWebProto.SmartContract.ABI.deserializeBinaryFromReader),e.setAbi(r);break;case 4:var r=t.readBytes();e.setBytecode(r);break;case 5:var r=t.readInt64();e.setCallValue(r);break;case 6:var r=t.readInt64();e.setConsumeUserResourcePercent(r);break;case 7:var r=t.readString();e.setName(r);break;case 8:var r=t.readInt64();e.setOriginEnergyLimit(r);break;case 9:var r=t.readBytes();e.setCodeHash(r);break;case 10:var r=t.readBytes();e.setTrxHash(r);break;case 11:var r=t.readInt32();e.setVersion(r);break;default:t.skipField()}return e},TronWebProto.SmartContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.SmartContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.SmartContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOriginAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getContractAddress_asU8()).length>0&&t.writeBytes(2,r),null!=(r=e.getAbi())&&t.writeMessage(3,r,TronWebProto.SmartContract.ABI.serializeBinaryToWriter),(r=e.getBytecode_asU8()).length>0&&t.writeBytes(4,r),0!==(r=e.getCallValue())&&t.writeInt64(5,r),0!==(r=e.getConsumeUserResourcePercent())&&t.writeInt64(6,r),(r=e.getName()).length>0&&t.writeString(7,r),0!==(r=e.getOriginEnergyLimit())&&t.writeInt64(8,r),(r=e.getCodeHash_asU8()).length>0&&t.writeBytes(9,r),(r=e.getTrxHash_asU8()).length>0&&t.writeBytes(10,r),0!==(r=e.getVersion())&&t.writeInt32(11,r)},TronWebProto.SmartContract.ABI.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.prototype.toObject=function(e){return TronWebProto.SmartContract.ABI.toObject(e,this)},TronWebProto.SmartContract.ABI.toObject=function(e,t){var r={entrysList:n.Message.toObjectList(t.getEntrysList(),TronWebProto.SmartContract.ABI.Entry.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.SmartContract.ABI.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.SmartContract.ABI;return TronWebProto.SmartContract.ABI.deserializeBinaryFromReader(r,t)},TronWebProto.SmartContract.ABI.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new TronWebProto.SmartContract.ABI.Entry;t.readMessage(r,TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader),e.addEntrys(r)}else t.skipField();return e},TronWebProto.SmartContract.ABI.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.SmartContract.ABI.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.SmartContract.ABI.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getEntrysList()).length>0&&t.writeRepeatedMessage(1,r,TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter)},TronWebProto.SmartContract.ABI.Entry.repeatedFields_=[4,5],n.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.Entry.prototype.toObject=function(e){return TronWebProto.SmartContract.ABI.Entry.toObject(e,this)},TronWebProto.SmartContract.ABI.Entry.toObject=function(e,t){var r={anonymous:n.Message.getBooleanFieldWithDefault(t,1,!1),constant:n.Message.getBooleanFieldWithDefault(t,2,!1),name:n.Message.getFieldWithDefault(t,3,""),inputsList:n.Message.toObjectList(t.getInputsList(),TronWebProto.SmartContract.ABI.Entry.Param.toObject,e),outputsList:n.Message.toObjectList(t.getOutputsList(),TronWebProto.SmartContract.ABI.Entry.Param.toObject,e),type:n.Message.getFieldWithDefault(t,6,0),payable:n.Message.getBooleanFieldWithDefault(t,7,!1),statemutability:n.Message.getFieldWithDefault(t,8,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.SmartContract.ABI.Entry.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.SmartContract.ABI.Entry;return TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader(r,t)},TronWebProto.SmartContract.ABI.Entry.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setAnonymous(r);break;case 2:var r=t.readBool();e.setConstant(r);break;case 3:var r=t.readString();e.setName(r);break;case 4:var r=new TronWebProto.SmartContract.ABI.Entry.Param;t.readMessage(r,TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader),e.addInputs(r);break;case 5:var r=new TronWebProto.SmartContract.ABI.Entry.Param;t.readMessage(r,TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader),e.addOutputs(r);break;case 6:var r=t.readEnum();e.setType(r);break;case 7:var r=t.readBool();e.setPayable(r);break;case 8:var r=t.readEnum();e.setStatemutability(r);break;default:t.skipField()}return e},TronWebProto.SmartContract.ABI.Entry.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.SmartContract.ABI.Entry.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAnonymous())&&t.writeBool(1,r),(r=e.getConstant())&&t.writeBool(2,r),(r=e.getName()).length>0&&t.writeString(3,r),(r=e.getInputsList()).length>0&&t.writeRepeatedMessage(4,r,TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter),(r=e.getOutputsList()).length>0&&t.writeRepeatedMessage(5,r,TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter),0!==(r=e.getType())&&t.writeEnum(6,r),(r=e.getPayable())&&t.writeBool(7,r),0!==(r=e.getStatemutability())&&t.writeEnum(8,r)},TronWebProto.SmartContract.ABI.Entry.EntryType={UNKNOWNENTRYTYPE:0,CONSTRUCTOR:1,FUNCTION:2,EVENT:3,FALLBACK:4,RECEIVE:5,ERROR:6},TronWebProto.SmartContract.ABI.Entry.StateMutabilityType={UNKNOWNMUTABILITYTYPE:0,PURE:1,VIEW:2,NONPAYABLE:3,PAYABLE:4},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContract.ABI.Entry.Param.prototype.toObject=function(e){return TronWebProto.SmartContract.ABI.Entry.Param.toObject(e,this)},TronWebProto.SmartContract.ABI.Entry.Param.toObject=function(e,t){var r={indexed:n.Message.getBooleanFieldWithDefault(t,1,!1),name:n.Message.getFieldWithDefault(t,2,""),type:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.SmartContract.ABI.Entry.Param;return TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader(r,t)},TronWebProto.SmartContract.ABI.Entry.Param.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setIndexed(r);break;case 2:var r=t.readString();e.setName(r);break;case 3:var r=t.readString();e.setType(r);break;default:t.skipField()}return e},TronWebProto.SmartContract.ABI.Entry.Param.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.SmartContract.ABI.Entry.Param.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getIndexed())&&t.writeBool(1,r),(r=e.getName()).length>0&&t.writeString(2,r),(r=e.getType()).length>0&&t.writeString(3,r)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getIndexed=function(){return n.Message.getBooleanFieldWithDefault(this,1,!1)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setIndexed=function(e){return n.Message.setProto3BooleanField(this,1,e)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getName=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setName=function(e){return n.Message.setProto3StringField(this,2,e)},TronWebProto.SmartContract.ABI.Entry.Param.prototype.getType=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.SmartContract.ABI.Entry.Param.prototype.setType=function(e){return n.Message.setProto3StringField(this,3,e)},TronWebProto.SmartContract.ABI.Entry.prototype.getAnonymous=function(){return n.Message.getBooleanFieldWithDefault(this,1,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setAnonymous=function(e){return n.Message.setProto3BooleanField(this,1,e)},TronWebProto.SmartContract.ABI.Entry.prototype.getConstant=function(){return n.Message.getBooleanFieldWithDefault(this,2,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setConstant=function(e){return n.Message.setProto3BooleanField(this,2,e)},TronWebProto.SmartContract.ABI.Entry.prototype.getName=function(){return n.Message.getFieldWithDefault(this,3,"")},TronWebProto.SmartContract.ABI.Entry.prototype.setName=function(e){return n.Message.setProto3StringField(this,3,e)},TronWebProto.SmartContract.ABI.Entry.prototype.getInputsList=function(){return n.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry.Param,4)},TronWebProto.SmartContract.ABI.Entry.prototype.setInputsList=function(e){return n.Message.setRepeatedWrapperField(this,4,e)},TronWebProto.SmartContract.ABI.Entry.prototype.addInputs=function(e,t){return n.Message.addToRepeatedWrapperField(this,4,e,TronWebProto.SmartContract.ABI.Entry.Param,t)},TronWebProto.SmartContract.ABI.Entry.prototype.clearInputsList=function(){return this.setInputsList([])},TronWebProto.SmartContract.ABI.Entry.prototype.getOutputsList=function(){return n.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry.Param,5)},TronWebProto.SmartContract.ABI.Entry.prototype.setOutputsList=function(e){return n.Message.setRepeatedWrapperField(this,5,e)},TronWebProto.SmartContract.ABI.Entry.prototype.addOutputs=function(e,t){return n.Message.addToRepeatedWrapperField(this,5,e,TronWebProto.SmartContract.ABI.Entry.Param,t)},TronWebProto.SmartContract.ABI.Entry.prototype.clearOutputsList=function(){return this.setOutputsList([])},TronWebProto.SmartContract.ABI.Entry.prototype.getType=function(){return n.Message.getFieldWithDefault(this,6,0)},TronWebProto.SmartContract.ABI.Entry.prototype.setType=function(e){return n.Message.setProto3EnumField(this,6,e)},TronWebProto.SmartContract.ABI.Entry.prototype.getPayable=function(){return n.Message.getBooleanFieldWithDefault(this,7,!1)},TronWebProto.SmartContract.ABI.Entry.prototype.setPayable=function(e){return n.Message.setProto3BooleanField(this,7,e)},TronWebProto.SmartContract.ABI.Entry.prototype.getStatemutability=function(){return n.Message.getFieldWithDefault(this,8,0)},TronWebProto.SmartContract.ABI.Entry.prototype.setStatemutability=function(e){return n.Message.setProto3EnumField(this,8,e)},TronWebProto.SmartContract.ABI.prototype.getEntrysList=function(){return n.Message.getRepeatedWrapperField(this,TronWebProto.SmartContract.ABI.Entry,1)},TronWebProto.SmartContract.ABI.prototype.setEntrysList=function(e){return n.Message.setRepeatedWrapperField(this,1,e)},TronWebProto.SmartContract.ABI.prototype.addEntrys=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,TronWebProto.SmartContract.ABI.Entry,t)},TronWebProto.SmartContract.ABI.prototype.clearEntrysList=function(){return this.setEntrysList([])},TronWebProto.SmartContract.prototype.getOriginAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.SmartContract.prototype.getOriginAddress_asB64=function(){return n.Message.bytesAsB64(this.getOriginAddress())},TronWebProto.SmartContract.prototype.getOriginAddress_asU8=function(){return n.Message.bytesAsU8(this.getOriginAddress())},TronWebProto.SmartContract.prototype.setOriginAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.SmartContract.prototype.getContractAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContract.prototype.getContractAddress_asB64=function(){return n.Message.bytesAsB64(this.getContractAddress())},TronWebProto.SmartContract.prototype.getContractAddress_asU8=function(){return n.Message.bytesAsU8(this.getContractAddress())},TronWebProto.SmartContract.prototype.setContractAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.SmartContract.prototype.getAbi=function(){return n.Message.getWrapperField(this,TronWebProto.SmartContract.ABI,3)},TronWebProto.SmartContract.prototype.setAbi=function(e){return n.Message.setWrapperField(this,3,e)},TronWebProto.SmartContract.prototype.clearAbi=function(){return this.setAbi(void 0)},TronWebProto.SmartContract.prototype.hasAbi=function(){return null!=n.Message.getField(this,3)},TronWebProto.SmartContract.prototype.getBytecode=function(){return n.Message.getFieldWithDefault(this,4,"")},TronWebProto.SmartContract.prototype.getBytecode_asB64=function(){return n.Message.bytesAsB64(this.getBytecode())},TronWebProto.SmartContract.prototype.getBytecode_asU8=function(){return n.Message.bytesAsU8(this.getBytecode())},TronWebProto.SmartContract.prototype.setBytecode=function(e){return n.Message.setProto3BytesField(this,4,e)},TronWebProto.SmartContract.prototype.getCallValue=function(){return n.Message.getFieldWithDefault(this,5,0)},TronWebProto.SmartContract.prototype.setCallValue=function(e){return n.Message.setProto3IntField(this,5,e)},TronWebProto.SmartContract.prototype.getConsumeUserResourcePercent=function(){return n.Message.getFieldWithDefault(this,6,0)},TronWebProto.SmartContract.prototype.setConsumeUserResourcePercent=function(e){return n.Message.setProto3IntField(this,6,e)},TronWebProto.SmartContract.prototype.getName=function(){return n.Message.getFieldWithDefault(this,7,"")},TronWebProto.SmartContract.prototype.setName=function(e){return n.Message.setProto3StringField(this,7,e)},TronWebProto.SmartContract.prototype.getOriginEnergyLimit=function(){return n.Message.getFieldWithDefault(this,8,0)},TronWebProto.SmartContract.prototype.setOriginEnergyLimit=function(e){return n.Message.setProto3IntField(this,8,e)},TronWebProto.SmartContract.prototype.getCodeHash=function(){return n.Message.getFieldWithDefault(this,9,"")},TronWebProto.SmartContract.prototype.getCodeHash_asB64=function(){return n.Message.bytesAsB64(this.getCodeHash())},TronWebProto.SmartContract.prototype.getCodeHash_asU8=function(){return n.Message.bytesAsU8(this.getCodeHash())},TronWebProto.SmartContract.prototype.setCodeHash=function(e){return n.Message.setProto3BytesField(this,9,e)},TronWebProto.SmartContract.prototype.getTrxHash=function(){return n.Message.getFieldWithDefault(this,10,"")},TronWebProto.SmartContract.prototype.getTrxHash_asB64=function(){return n.Message.bytesAsB64(this.getTrxHash())},TronWebProto.SmartContract.prototype.getTrxHash_asU8=function(){return n.Message.bytesAsU8(this.getTrxHash())},TronWebProto.SmartContract.prototype.setTrxHash=function(e){return n.Message.setProto3BytesField(this,10,e)},TronWebProto.SmartContract.prototype.getVersion=function(){return n.Message.getFieldWithDefault(this,11,0)},TronWebProto.SmartContract.prototype.setVersion=function(e){return n.Message.setProto3IntField(this,11,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ContractState.prototype.toObject=function(e){return TronWebProto.ContractState.toObject(e,this)},TronWebProto.ContractState.toObject=function(e,t){var r={energyUsage:n.Message.getFieldWithDefault(t,1,0),energyFactor:n.Message.getFieldWithDefault(t,2,0),updateCycle:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ContractState.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ContractState;return TronWebProto.ContractState.deserializeBinaryFromReader(r,t)},TronWebProto.ContractState.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setEnergyUsage(r);break;case 2:var r=t.readInt64();e.setEnergyFactor(r);break;case 3:var r=t.readInt64();e.setUpdateCycle(r);break;default:t.skipField()}return e},TronWebProto.ContractState.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ContractState.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ContractState.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getEnergyUsage())&&t.writeInt64(1,r),0!==(r=e.getEnergyFactor())&&t.writeInt64(2,r),0!==(r=e.getUpdateCycle())&&t.writeInt64(3,r)},TronWebProto.ContractState.prototype.getEnergyUsage=function(){return n.Message.getFieldWithDefault(this,1,0)},TronWebProto.ContractState.prototype.setEnergyUsage=function(e){return n.Message.setProto3IntField(this,1,e)},TronWebProto.ContractState.prototype.getEnergyFactor=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.ContractState.prototype.setEnergyFactor=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.ContractState.prototype.getUpdateCycle=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.ContractState.prototype.setUpdateCycle=function(e){return n.Message.setProto3IntField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.CreateSmartContract.prototype.toObject=function(e){return TronWebProto.CreateSmartContract.toObject(e,this)},TronWebProto.CreateSmartContract.toObject=function(e,t){var r,i={ownerAddress:t.getOwnerAddress_asB64(),newContract:(r=t.getNewContract())&&TronWebProto.SmartContract.toObject(e,r),callTokenValue:n.Message.getFieldWithDefault(t,3,0),tokenId:n.Message.getFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),TronWebProto.CreateSmartContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.CreateSmartContract;return TronWebProto.CreateSmartContract.deserializeBinaryFromReader(r,t)},TronWebProto.CreateSmartContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=new TronWebProto.SmartContract;t.readMessage(r,TronWebProto.SmartContract.deserializeBinaryFromReader),e.setNewContract(r);break;case 3:var r=t.readInt64();e.setCallTokenValue(r);break;case 4:var r=t.readInt64();e.setTokenId(r);break;default:t.skipField()}return e},TronWebProto.CreateSmartContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.CreateSmartContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.CreateSmartContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),null!=(r=e.getNewContract())&&t.writeMessage(2,r,TronWebProto.SmartContract.serializeBinaryToWriter),0!==(r=e.getCallTokenValue())&&t.writeInt64(3,r),0!==(r=e.getTokenId())&&t.writeInt64(4,r)},TronWebProto.CreateSmartContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.CreateSmartContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.CreateSmartContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.CreateSmartContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.CreateSmartContract.prototype.getNewContract=function(){return n.Message.getWrapperField(this,TronWebProto.SmartContract,2)},TronWebProto.CreateSmartContract.prototype.setNewContract=function(e){return n.Message.setWrapperField(this,2,e)},TronWebProto.CreateSmartContract.prototype.clearNewContract=function(){return this.setNewContract(void 0)},TronWebProto.CreateSmartContract.prototype.hasNewContract=function(){return null!=n.Message.getField(this,2)},TronWebProto.CreateSmartContract.prototype.getCallTokenValue=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.CreateSmartContract.prototype.setCallTokenValue=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.CreateSmartContract.prototype.getTokenId=function(){return n.Message.getFieldWithDefault(this,4,0)},TronWebProto.CreateSmartContract.prototype.setTokenId=function(e){return n.Message.setProto3IntField(this,4,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.TriggerSmartContract.prototype.toObject=function(e){return TronWebProto.TriggerSmartContract.toObject(e,this)},TronWebProto.TriggerSmartContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),contractAddress:t.getContractAddress_asB64(),callValue:n.Message.getFieldWithDefault(t,3,0),data:t.getData_asB64(),callTokenValue:n.Message.getFieldWithDefault(t,5,0),tokenId:n.Message.getFieldWithDefault(t,6,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.TriggerSmartContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.TriggerSmartContract;return TronWebProto.TriggerSmartContract.deserializeBinaryFromReader(r,t)},TronWebProto.TriggerSmartContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setContractAddress(r);break;case 3:var r=t.readInt64();e.setCallValue(r);break;case 4:var r=t.readBytes();e.setData(r);break;case 5:var r=t.readInt64();e.setCallTokenValue(r);break;case 6:var r=t.readInt64();e.setTokenId(r);break;default:t.skipField()}return e},TronWebProto.TriggerSmartContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.TriggerSmartContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.TriggerSmartContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getContractAddress_asU8()).length>0&&t.writeBytes(2,r),0!==(r=e.getCallValue())&&t.writeInt64(3,r),(r=e.getData_asU8()).length>0&&t.writeBytes(4,r),0!==(r=e.getCallTokenValue())&&t.writeInt64(5,r),0!==(r=e.getTokenId())&&t.writeInt64(6,r)},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.TriggerSmartContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.TriggerSmartContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.TriggerSmartContract.prototype.getContractAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.TriggerSmartContract.prototype.getContractAddress_asB64=function(){return n.Message.bytesAsB64(this.getContractAddress())},TronWebProto.TriggerSmartContract.prototype.getContractAddress_asU8=function(){return n.Message.bytesAsU8(this.getContractAddress())},TronWebProto.TriggerSmartContract.prototype.setContractAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.TriggerSmartContract.prototype.getCallValue=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.TriggerSmartContract.prototype.setCallValue=function(e){return n.Message.setProto3IntField(this,3,e)},TronWebProto.TriggerSmartContract.prototype.getData=function(){return n.Message.getFieldWithDefault(this,4,"")},TronWebProto.TriggerSmartContract.prototype.getData_asB64=function(){return n.Message.bytesAsB64(this.getData())},TronWebProto.TriggerSmartContract.prototype.getData_asU8=function(){return n.Message.bytesAsU8(this.getData())},TronWebProto.TriggerSmartContract.prototype.setData=function(e){return n.Message.setProto3BytesField(this,4,e)},TronWebProto.TriggerSmartContract.prototype.getCallTokenValue=function(){return n.Message.getFieldWithDefault(this,5,0)},TronWebProto.TriggerSmartContract.prototype.setCallTokenValue=function(e){return n.Message.setProto3IntField(this,5,e)},TronWebProto.TriggerSmartContract.prototype.getTokenId=function(){return n.Message.getFieldWithDefault(this,6,0)},TronWebProto.TriggerSmartContract.prototype.setTokenId=function(e){return n.Message.setProto3IntField(this,6,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.ClearABIContract.prototype.toObject=function(e){return TronWebProto.ClearABIContract.toObject(e,this)},TronWebProto.ClearABIContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),contractAddress:t.getContractAddress_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.ClearABIContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.ClearABIContract;return TronWebProto.ClearABIContract.deserializeBinaryFromReader(r,t)},TronWebProto.ClearABIContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setContractAddress(r);break;default:t.skipField()}return e},TronWebProto.ClearABIContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.ClearABIContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.ClearABIContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getContractAddress_asU8()).length>0&&t.writeBytes(2,r)},TronWebProto.ClearABIContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.ClearABIContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.ClearABIContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.ClearABIContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.ClearABIContract.prototype.getContractAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.ClearABIContract.prototype.getContractAddress_asB64=function(){return n.Message.bytesAsB64(this.getContractAddress())},TronWebProto.ClearABIContract.prototype.getContractAddress_asU8=function(){return n.Message.bytesAsU8(this.getContractAddress())},TronWebProto.ClearABIContract.prototype.setContractAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateSettingContract.prototype.toObject=function(e){return TronWebProto.UpdateSettingContract.toObject(e,this)},TronWebProto.UpdateSettingContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),contractAddress:t.getContractAddress_asB64(),consumeUserResourcePercent:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UpdateSettingContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UpdateSettingContract;return TronWebProto.UpdateSettingContract.deserializeBinaryFromReader(r,t)},TronWebProto.UpdateSettingContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setContractAddress(r);break;case 3:var r=t.readInt64();e.setConsumeUserResourcePercent(r);break;default:t.skipField()}return e},TronWebProto.UpdateSettingContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UpdateSettingContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UpdateSettingContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getContractAddress_asU8()).length>0&&t.writeBytes(2,r),0!==(r=e.getConsumeUserResourcePercent())&&t.writeInt64(3,r)},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateSettingContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateSettingContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.UpdateSettingContract.prototype.getContractAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateSettingContract.prototype.getContractAddress_asB64=function(){return n.Message.bytesAsB64(this.getContractAddress())},TronWebProto.UpdateSettingContract.prototype.getContractAddress_asU8=function(){return n.Message.bytesAsU8(this.getContractAddress())},TronWebProto.UpdateSettingContract.prototype.setContractAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.UpdateSettingContract.prototype.getConsumeUserResourcePercent=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.UpdateSettingContract.prototype.setConsumeUserResourcePercent=function(e){return n.Message.setProto3IntField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateEnergyLimitContract.prototype.toObject=function(e){return TronWebProto.UpdateEnergyLimitContract.toObject(e,this)},TronWebProto.UpdateEnergyLimitContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),contractAddress:t.getContractAddress_asB64(),originEnergyLimit:n.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UpdateEnergyLimitContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UpdateEnergyLimitContract;return TronWebProto.UpdateEnergyLimitContract.deserializeBinaryFromReader(r,t)},TronWebProto.UpdateEnergyLimitContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setContractAddress(r);break;case 3:var r=t.readInt64();e.setOriginEnergyLimit(r);break;default:t.skipField()}return e},TronWebProto.UpdateEnergyLimitContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UpdateEnergyLimitContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UpdateEnergyLimitContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getContractAddress_asU8()).length>0&&t.writeBytes(2,r),0!==(r=e.getOriginEnergyLimit())&&t.writeInt64(3,r)},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress_asB64=function(){return n.Message.bytesAsB64(this.getContractAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.getContractAddress_asU8=function(){return n.Message.bytesAsU8(this.getContractAddress())},TronWebProto.UpdateEnergyLimitContract.prototype.setContractAddress=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.UpdateEnergyLimitContract.prototype.getOriginEnergyLimit=function(){return n.Message.getFieldWithDefault(this,3,0)},TronWebProto.UpdateEnergyLimitContract.prototype.setOriginEnergyLimit=function(e){return n.Message.setProto3IntField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.SmartContractDataWrapper.prototype.toObject=function(e){return TronWebProto.SmartContractDataWrapper.toObject(e,this)},TronWebProto.SmartContractDataWrapper.toObject=function(e,t){var r,n={smartContract:(r=t.getSmartContract())&&TronWebProto.SmartContract.toObject(e,r),runtimecode:t.getRuntimecode_asB64(),contractState:(r=t.getContractState())&&TronWebProto.ContractState.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),TronWebProto.SmartContractDataWrapper.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.SmartContractDataWrapper;return TronWebProto.SmartContractDataWrapper.deserializeBinaryFromReader(r,t)},TronWebProto.SmartContractDataWrapper.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new TronWebProto.SmartContract;t.readMessage(r,TronWebProto.SmartContract.deserializeBinaryFromReader),e.setSmartContract(r);break;case 2:var r=t.readBytes();e.setRuntimecode(r);break;case 3:var r=new TronWebProto.ContractState;t.readMessage(r,TronWebProto.ContractState.deserializeBinaryFromReader),e.setContractState(r);break;default:t.skipField()}return e},TronWebProto.SmartContractDataWrapper.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.SmartContractDataWrapper.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.SmartContractDataWrapper.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getSmartContract())&&t.writeMessage(1,r,TronWebProto.SmartContract.serializeBinaryToWriter),(r=e.getRuntimecode_asU8()).length>0&&t.writeBytes(2,r),null!=(r=e.getContractState())&&t.writeMessage(3,r,TronWebProto.ContractState.serializeBinaryToWriter)},TronWebProto.SmartContractDataWrapper.prototype.getSmartContract=function(){return n.Message.getWrapperField(this,TronWebProto.SmartContract,1)},TronWebProto.SmartContractDataWrapper.prototype.setSmartContract=function(e){return n.Message.setWrapperField(this,1,e)},TronWebProto.SmartContractDataWrapper.prototype.clearSmartContract=function(){return this.setSmartContract(void 0)},TronWebProto.SmartContractDataWrapper.prototype.hasSmartContract=function(){return null!=n.Message.getField(this,1)},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode_asB64=function(){return n.Message.bytesAsB64(this.getRuntimecode())},TronWebProto.SmartContractDataWrapper.prototype.getRuntimecode_asU8=function(){return n.Message.bytesAsU8(this.getRuntimecode())},TronWebProto.SmartContractDataWrapper.prototype.setRuntimecode=function(e){return n.Message.setProto3BytesField(this,2,e)},TronWebProto.SmartContractDataWrapper.prototype.getContractState=function(){return n.Message.getWrapperField(this,TronWebProto.ContractState,3)},TronWebProto.SmartContractDataWrapper.prototype.setContractState=function(e){return n.Message.setWrapperField(this,3,e)},TronWebProto.SmartContractDataWrapper.prototype.clearContractState=function(){return this.setContractState(void 0)},TronWebProto.SmartContractDataWrapper.prototype.hasContractState=function(){return null!=n.Message.getField(this,3)},n.object.extend(t,TronWebProto)},32586:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();n.exportSymbol("TronWebProto.BuyStorageBytesContract",null,i),n.exportSymbol("TronWebProto.BuyStorageContract",null,i),n.exportSymbol("TronWebProto.SellStorageContract",null,i),n.exportSymbol("TronWebProto.UpdateBrokerageContract",null,i),TronWebProto.BuyStorageBytesContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.BuyStorageBytesContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.BuyStorageBytesContract.displayName="TronWebProto.BuyStorageBytesContract"),TronWebProto.BuyStorageContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.BuyStorageContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.BuyStorageContract.displayName="TronWebProto.BuyStorageContract"),TronWebProto.SellStorageContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.SellStorageContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.SellStorageContract.displayName="TronWebProto.SellStorageContract"),TronWebProto.UpdateBrokerageContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.UpdateBrokerageContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.UpdateBrokerageContract.displayName="TronWebProto.UpdateBrokerageContract"),n.Message.GENERATE_TO_OBJECT&&(TronWebProto.BuyStorageBytesContract.prototype.toObject=function(e){return TronWebProto.BuyStorageBytesContract.toObject(e,this)},TronWebProto.BuyStorageBytesContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),bytes:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.BuyStorageBytesContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.BuyStorageBytesContract;return TronWebProto.BuyStorageBytesContract.deserializeBinaryFromReader(r,t)},TronWebProto.BuyStorageBytesContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setBytes(r);break;default:t.skipField()}return e},TronWebProto.BuyStorageBytesContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.BuyStorageBytesContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.BuyStorageBytesContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getBytes())&&t.writeInt64(2,r)},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.BuyStorageBytesContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.BuyStorageBytesContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.BuyStorageBytesContract.prototype.getBytes=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.BuyStorageBytesContract.prototype.setBytes=function(e){return n.Message.setProto3IntField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.BuyStorageContract.prototype.toObject=function(e){return TronWebProto.BuyStorageContract.toObject(e,this)},TronWebProto.BuyStorageContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),quant:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.BuyStorageContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.BuyStorageContract;return TronWebProto.BuyStorageContract.deserializeBinaryFromReader(r,t)},TronWebProto.BuyStorageContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setQuant(r);break;default:t.skipField()}return e},TronWebProto.BuyStorageContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.BuyStorageContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.BuyStorageContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getQuant())&&t.writeInt64(2,r)},TronWebProto.BuyStorageContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.BuyStorageContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.BuyStorageContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.BuyStorageContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.BuyStorageContract.prototype.getQuant=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.BuyStorageContract.prototype.setQuant=function(e){return n.Message.setProto3IntField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.SellStorageContract.prototype.toObject=function(e){return TronWebProto.SellStorageContract.toObject(e,this)},TronWebProto.SellStorageContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),storageBytes:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.SellStorageContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.SellStorageContract;return TronWebProto.SellStorageContract.deserializeBinaryFromReader(r,t)},TronWebProto.SellStorageContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt64();e.setStorageBytes(r);break;default:t.skipField()}return e},TronWebProto.SellStorageContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.SellStorageContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.SellStorageContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getStorageBytes())&&t.writeInt64(2,r)},TronWebProto.SellStorageContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.SellStorageContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.SellStorageContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.SellStorageContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.SellStorageContract.prototype.getStorageBytes=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.SellStorageContract.prototype.setStorageBytes=function(e){return n.Message.setProto3IntField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.UpdateBrokerageContract.prototype.toObject=function(e){return TronWebProto.UpdateBrokerageContract.toObject(e,this)},TronWebProto.UpdateBrokerageContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),brokerage:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.UpdateBrokerageContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.UpdateBrokerageContract;return TronWebProto.UpdateBrokerageContract.deserializeBinaryFromReader(r,t)},TronWebProto.UpdateBrokerageContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readInt32();e.setBrokerage(r);break;default:t.skipField()}return e},TronWebProto.UpdateBrokerageContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.UpdateBrokerageContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.UpdateBrokerageContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getBrokerage())&&t.writeInt32(2,r)},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.UpdateBrokerageContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.UpdateBrokerageContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.UpdateBrokerageContract.prototype.getBrokerage=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.UpdateBrokerageContract.prototype.setBrokerage=function(e){return n.Message.setProto3IntField(this,2,e)},n.object.extend(t,TronWebProto)},52160:function(e,t,r){var n=r(5657),i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||(function(){return this}).call(null)||Function("return this")();n.exportSymbol("TronWebProto.VoteWitnessContract",null,i),n.exportSymbol("TronWebProto.VoteWitnessContract.Vote",null,i),n.exportSymbol("TronWebProto.WitnessCreateContract",null,i),n.exportSymbol("TronWebProto.WitnessUpdateContract",null,i),TronWebProto.WitnessCreateContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.WitnessCreateContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.WitnessCreateContract.displayName="TronWebProto.WitnessCreateContract"),TronWebProto.WitnessUpdateContract=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.WitnessUpdateContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.WitnessUpdateContract.displayName="TronWebProto.WitnessUpdateContract"),TronWebProto.VoteWitnessContract=function(e){n.Message.initialize(this,e,0,-1,TronWebProto.VoteWitnessContract.repeatedFields_,null)},n.inherits(TronWebProto.VoteWitnessContract,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.VoteWitnessContract.displayName="TronWebProto.VoteWitnessContract"),TronWebProto.VoteWitnessContract.Vote=function(e){n.Message.initialize(this,e,0,-1,null,null)},n.inherits(TronWebProto.VoteWitnessContract.Vote,n.Message),n.DEBUG&&!COMPILED&&(TronWebProto.VoteWitnessContract.Vote.displayName="TronWebProto.VoteWitnessContract.Vote"),n.Message.GENERATE_TO_OBJECT&&(TronWebProto.WitnessCreateContract.prototype.toObject=function(e){return TronWebProto.WitnessCreateContract.toObject(e,this)},TronWebProto.WitnessCreateContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),url:t.getUrl_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.WitnessCreateContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.WitnessCreateContract;return TronWebProto.WitnessCreateContract.deserializeBinaryFromReader(r,t)},TronWebProto.WitnessCreateContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=t.readBytes();e.setUrl(r);break;default:t.skipField()}return e},TronWebProto.WitnessCreateContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.WitnessCreateContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.WitnessCreateContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getUrl_asU8()).length>0&&t.writeBytes(2,r)},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WitnessCreateContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WitnessCreateContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.WitnessCreateContract.prototype.getUrl=function(){return n.Message.getFieldWithDefault(this,2,"")},TronWebProto.WitnessCreateContract.prototype.getUrl_asB64=function(){return n.Message.bytesAsB64(this.getUrl())},TronWebProto.WitnessCreateContract.prototype.getUrl_asU8=function(){return n.Message.bytesAsU8(this.getUrl())},TronWebProto.WitnessCreateContract.prototype.setUrl=function(e){return n.Message.setProto3BytesField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.WitnessUpdateContract.prototype.toObject=function(e){return TronWebProto.WitnessUpdateContract.toObject(e,this)},TronWebProto.WitnessUpdateContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),updateUrl:t.getUpdateUrl_asB64()};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.WitnessUpdateContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.WitnessUpdateContract;return TronWebProto.WitnessUpdateContract.deserializeBinaryFromReader(r,t)},TronWebProto.WitnessUpdateContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 12:var r=t.readBytes();e.setUpdateUrl(r);break;default:t.skipField()}return e},TronWebProto.WitnessUpdateContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.WitnessUpdateContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.WitnessUpdateContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getUpdateUrl_asU8()).length>0&&t.writeBytes(12,r)},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.WitnessUpdateContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.WitnessUpdateContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl=function(){return n.Message.getFieldWithDefault(this,12,"")},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl_asB64=function(){return n.Message.bytesAsB64(this.getUpdateUrl())},TronWebProto.WitnessUpdateContract.prototype.getUpdateUrl_asU8=function(){return n.Message.bytesAsU8(this.getUpdateUrl())},TronWebProto.WitnessUpdateContract.prototype.setUpdateUrl=function(e){return n.Message.setProto3BytesField(this,12,e)},TronWebProto.VoteWitnessContract.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(TronWebProto.VoteWitnessContract.prototype.toObject=function(e){return TronWebProto.VoteWitnessContract.toObject(e,this)},TronWebProto.VoteWitnessContract.toObject=function(e,t){var r={ownerAddress:t.getOwnerAddress_asB64(),votesList:n.Message.toObjectList(t.getVotesList(),TronWebProto.VoteWitnessContract.Vote.toObject,e),support:n.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.VoteWitnessContract.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.VoteWitnessContract;return TronWebProto.VoteWitnessContract.deserializeBinaryFromReader(r,t)},TronWebProto.VoteWitnessContract.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setOwnerAddress(r);break;case 2:var r=new TronWebProto.VoteWitnessContract.Vote;t.readMessage(r,TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader),e.addVotes(r);break;case 3:var r=t.readBool();e.setSupport(r);break;default:t.skipField()}return e},TronWebProto.VoteWitnessContract.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.VoteWitnessContract.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.VoteWitnessContract.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getOwnerAddress_asU8()).length>0&&t.writeBytes(1,r),(r=e.getVotesList()).length>0&&t.writeRepeatedMessage(2,r,TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter),(r=e.getSupport())&&t.writeBool(3,r)},n.Message.GENERATE_TO_OBJECT&&(TronWebProto.VoteWitnessContract.Vote.prototype.toObject=function(e){return TronWebProto.VoteWitnessContract.Vote.toObject(e,this)},TronWebProto.VoteWitnessContract.Vote.toObject=function(e,t){var r={voteAddress:t.getVoteAddress_asB64(),voteCount:n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),TronWebProto.VoteWitnessContract.Vote.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new TronWebProto.VoteWitnessContract.Vote;return TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader(r,t)},TronWebProto.VoteWitnessContract.Vote.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setVoteAddress(r);break;case 2:var r=t.readInt64();e.setVoteCount(r);break;default:t.skipField()}return e},TronWebProto.VoteWitnessContract.Vote.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter(this,e),e.getResultBuffer()},TronWebProto.VoteWitnessContract.Vote.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getVoteAddress_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getVoteCount())&&t.writeInt64(2,r)},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress_asB64=function(){return n.Message.bytesAsB64(this.getVoteAddress())},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteAddress_asU8=function(){return n.Message.bytesAsU8(this.getVoteAddress())},TronWebProto.VoteWitnessContract.Vote.prototype.setVoteAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.VoteWitnessContract.Vote.prototype.getVoteCount=function(){return n.Message.getFieldWithDefault(this,2,0)},TronWebProto.VoteWitnessContract.Vote.prototype.setVoteCount=function(e){return n.Message.setProto3IntField(this,2,e)},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress=function(){return n.Message.getFieldWithDefault(this,1,"")},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress_asB64=function(){return n.Message.bytesAsB64(this.getOwnerAddress())},TronWebProto.VoteWitnessContract.prototype.getOwnerAddress_asU8=function(){return n.Message.bytesAsU8(this.getOwnerAddress())},TronWebProto.VoteWitnessContract.prototype.setOwnerAddress=function(e){return n.Message.setProto3BytesField(this,1,e)},TronWebProto.VoteWitnessContract.prototype.getVotesList=function(){return n.Message.getRepeatedWrapperField(this,TronWebProto.VoteWitnessContract.Vote,2)},TronWebProto.VoteWitnessContract.prototype.setVotesList=function(e){return n.Message.setRepeatedWrapperField(this,2,e)},TronWebProto.VoteWitnessContract.prototype.addVotes=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,TronWebProto.VoteWitnessContract.Vote,t)},TronWebProto.VoteWitnessContract.prototype.clearVotesList=function(){return this.setVotesList([])},TronWebProto.VoteWitnessContract.prototype.getSupport=function(){return n.Message.getBooleanFieldWithDefault(this,3,!1)},TronWebProto.VoteWitnessContract.prototype.setSupport=function(e){return n.Message.setProto3BooleanField(this,3,e)},n.object.extend(t,TronWebProto)},57837:function(e,t,r){"use strict";r.d(t,{ConfigCtrl:function(){return P},zv:function(){return b},uA:function(){return w},ExplorerCtrl:function(){return $},jb:function(){return V},OptionsCtrl:function(){return A},AV:function(){return m},ThemeCtrl:function(){return X},ToastCtrl:function(){return et}}),Symbol();let n=Symbol(),i=Object.getPrototypeOf,s=new WeakMap,o=e=>e&&(s.has(e)?s.get(e):i(e)===Object.prototype||i(e)===Array.prototype),a=e=>o(e)&&e[n]||null,c=(e,t=!0)=>{s.set(e,t)},l=e=>"object"==typeof e&&null!==e,u=new WeakMap,h=new WeakSet,[d]=((e=Object.is,t=(e,t)=>new Proxy(e,t),r=e=>l(e)&&!h.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),n=e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},i=new WeakMap,s=(e,t,r=n)=>{let o=i.get(e);if((null==o?void 0:o[0])===t)return o[1];let a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return c(a,!0),i.set(e,[t,a]),Reflect.ownKeys(e).forEach(t=>{if(Object.getOwnPropertyDescriptor(a,t))return;let n=Reflect.get(e,t),i={value:n,enumerable:!0,configurable:!0};if(h.has(n))c(n,!1);else if(n instanceof Promise)delete i.value,i.get=()=>r(n);else if(u.has(n)){let[e,t]=u.get(n);i.value=s(e,t(),r)}Object.defineProperty(a,t,i)}),Object.preventExtensions(a)},o=new WeakMap,d=[1,1],f=n=>{if(!l(n))throw Error("object required");let i=o.get(n);if(i)return i;let c=d[0],p=new Set,g=(e,t=++d[0])=>{c!==t&&(c=t,p.forEach(r=>r(e,t)))},y=d[1],m=(e=++d[1])=>(y===e||p.size||(y=e,v.forEach(([t])=>{let r=t[1](e);r>c&&(c=r)})),c),b=e=>(t,r)=>{let n=[...t];n[1]=[e,...n[1]],g(n,r)},v=new Map,w=(e,t)=>{if(v.has(e))throw Error("prop listener already exists");if(p.size){let r=t[3](b(e));v.set(e,[t,r])}else v.set(e,[t])},E=e=>{var t;let r=v.get(e);r&&(v.delete(e),null==(t=r[1])||t.call(r))},A=e=>{p.add(e),1===p.size&&v.forEach(([e,t],r)=>{if(t)throw Error("remove already exists");let n=e[3](b(r));v.set(r,[e,n])});let t=()=>{p.delete(e),0===p.size&&v.forEach(([e,t],r)=>{t&&(t(),v.set(r,[e]))})};return t},_=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n)),P={deleteProperty(e,t){let r=Reflect.get(e,t);E(t);let n=Reflect.deleteProperty(e,t);return n&&g(["delete",[t],r]),n},set(t,n,i,s){let c=Reflect.has(t,n),d=Reflect.get(t,n,s);if(c&&(e(d,i)||o.has(i)&&e(d,o.get(i))))return!0;E(n),l(i)&&(i=a(i)||i);let p=i;if(i instanceof Promise)i.then(e=>{i.status="fulfilled",i.value=e,g(["resolve",[n],e])}).catch(e=>{i.status="rejected",i.reason=e,g(["reject",[n],e])});else{!u.has(i)&&r(i)&&(p=f(i));let e=!h.has(p)&&u.get(p);e&&w(n,e)}return Reflect.set(t,n,p,s),g(["set",[n],i,d]),!0}},T=t(_,P);o.set(n,T);let I=[_,m,s,A];return u.set(T,I),Reflect.ownKeys(n).forEach(e=>{let t=Object.getOwnPropertyDescriptor(n,e);"value"in t&&(T[e]=n[e],delete t.value,delete t.writable),Object.defineProperty(_,e,t)}),T})=>[f,u,h,e,t,r,n,i,s,o,d])();function f(e={}){return d(e)}function p(e,t,r){let n;let i=u.get(e);i||console.warn("Please use proxy object");let s=[],o=i[3],a=!1,c=o(e=>{if(s.push(e),r){t(s.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}var g=r(82957).lW;let y=f({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),m={state:y,subscribe:e=>p(y,()=>e(y)),push(e,t){e!==y.view&&(y.view=e,t&&(y.data=t),y.history.push(e))},reset(e){y.view=e,y.history=[e]},replace(e){y.history.length>1&&(y.history[y.history.length-1]=e,y.view=e)},goBack(){if(y.history.length>1){y.history.pop();let[e]=y.history.slice(-1);y.view=e}},setData(e){y.data=e}},b={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>"undefined"!=typeof window&&!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>b.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){let e=navigator.userAgent.toLowerCase();return b.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,isTelegram:()=>"undefined"!=typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),formatNativeUrl(e,t,r){if(b.isHttpUrl(e))return this.formatUniversalUrl(e,t,r);let n=e;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);let i=encodeURIComponent(t);return`${n}wc?uri=${i}`},formatUniversalUrl(e,t,r){if(!b.isHttpUrl(e))return this.formatNativeUrl(e,t,r);let n=e;if(n.startsWith("https://t.me")){let e=g.from(t).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,r);let i=new URL(n);return i.searchParams.set("startapp",e),i.toString()}n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);let i=encodeURIComponent(t);return`${n}wc?uri=${i}`},wait:async e=>new Promise(t=>{setTimeout(t,e)}),openHref(e,t){let r=this.isTelegram()?"_blank":t;window.open(e,r,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(b.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(e){console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{let[t]=e.split("?");localStorage.setItem(b.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch(e){console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(b.WALLETCONNECT_DEEPLINK_CHOICE)}catch(e){console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{"undefined"!=typeof localStorage&&localStorage.setItem(b.WCM_VERSION,"2.7.0")}catch(e){console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;let t=null==(e=m.state.data)?void 0:e.Wallet;if(!t)throw Error('Missing "Wallet" view data');return t}},v=f({enabled:"undefined"!=typeof location&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),w={state:v,subscribe:e=>p(v.events,()=>e(function(e,t){let r=u.get(e);r||console.warn("Please use proxy object");let[n,i,s]=r;return s(n,i(),void 0)}(v.events[v.events.length-1]))),initialize(){v.enabled&&void 0!==(null==crypto?void 0:crypto.randomUUID)&&(v.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){v.connectedWalletId=e},click(e){if(v.enabled){let t={type:"CLICK",name:e.name,userSessionId:v.userSessionId,timestamp:Date.now(),data:e};v.events.push(t)}},track(e){if(v.enabled){let t={type:"TRACK",name:e.name,userSessionId:v.userSessionId,timestamp:Date.now(),data:e};v.events.push(t)}},view(e){if(v.enabled){let t={type:"VIEW",name:e.name,userSessionId:v.userSessionId,timestamp:Date.now(),data:e};v.events.push(t)}}},E=f({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),A={state:E,subscribe:e=>p(E,()=>e(E)),setChains(e){E.chains=e},setWalletConnectUri(e){E.walletConnectUri=e},setIsCustomDesktop(e){E.isCustomDesktop=e},setIsCustomMobile(e){E.isCustomMobile=e},setIsDataLoaded(e){E.isDataLoaded=e},setIsUiLoaded(e){E.isUiLoaded=e},setIsAuth(e){E.isAuth=e}},_=f({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),P={state:_,subscribe:e=>p(_,()=>e(_)),setConfig(e){var t,r;w.initialize(),A.setChains(e.chains),A.setIsAuth(!!e.enableAuthMode),A.setIsCustomMobile(!!(null==(t=e.mobileWallets)?void 0:t.length)),A.setIsCustomDesktop(!!(null==(r=e.desktopWallets)?void 0:r.length)),b.setModalVersionInStorage(),Object.assign(_,e)}};var T=Object.defineProperty,I=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(e,t,r)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))C.call(t,r)&&O(e,r,t[r]);if(I)for(var r of I(t))S.call(t,r)&&O(e,r,t[r]);return e};let R="https://explorer-api.walletconnect.com",M="js-2.7.0";async function B(e,t){let r=x({sdkType:"wcm",sdkVersion:M},t),n=new URL(e,R);return n.searchParams.append("projectId",P.state.projectId),Object.entries(r).forEach(([e,t])=>{t&&n.searchParams.append(e,String(t))}),(await fetch(n)).json()}let N={getDesktopListings:async e=>B("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>B("/w3m/v1/getMobileListings",e),getAllListings:async e=>B("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${R}/w3m/v1/getWalletImage/${e}?projectId=${P.state.projectId}&sdkType=wcm&sdkVersion=${M}`,getAssetImageUrl:e=>`${R}/w3m/v1/getAssetImage/${e}?projectId=${P.state.projectId}&sdkType=wcm&sdkVersion=${M}`};var D=Object.defineProperty,k=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,F=(e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L=(e,t)=>{for(var r in t||(t={}))W.call(t,r)&&F(e,r,t[r]);if(k)for(var r of k(t))U.call(t,r)&&F(e,r,t[r]);return e};let j=b.isMobile(),z=f({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),$={state:z,async getRecomendedWallets(){let{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=P.state;if("NONE"===e||"ALL"===t&&!e)return z.recomendedWallets;if(b.isArray(e)){let t=e.join(","),{listings:r}=await N.getAllListings({recommendedIds:t}),n=Object.values(r);n.sort((t,r)=>e.indexOf(t.id)-e.indexOf(r.id)),z.recomendedWallets=n}else{let{chains:e,isAuth:r}=A.state,n=null==e?void 0:e.join(","),i=b.isArray(t),s={page:1,sdks:r?"auth_v1":void 0,entries:b.RECOMMENDED_WALLET_AMOUNT,chains:n,version:2,excludedIds:i?t.join(","):void 0},{listings:o}=j?await N.getMobileListings(s):await N.getDesktopListings(s);z.recomendedWallets=Object.values(o)}return z.recomendedWallets},async getWallets(e){let t=L({},e),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=P.state,{recomendedWallets:i}=z;if("ALL"===n)return z.wallets;i.length?t.excludedIds=i.map(e=>e.id).join(","):b.isArray(r)&&(t.excludedIds=r.join(",")),b.isArray(n)&&(t.excludedIds=[t.excludedIds,n].filter(Boolean).join(",")),A.state.isAuth&&(t.sdks="auth_v1");let{page:s,search:o}=e,{listings:a,total:c}=j?await N.getMobileListings(t):await N.getDesktopListings(t),l=Object.values(a),u=o?"search":"wallets";return z[u]={listings:[...z[u].listings,...l],total:c,page:null!=s?s:1},{listings:l,total:c}},getWalletImageUrl:e=>N.getWalletImageUrl(e),getAssetImageUrl:e=>N.getAssetImageUrl(e),resetSearch(){z.search={listings:[],total:0,page:1}}},q=f({open:!1}),V={state:q,subscribe:e=>p(q,()=>e(q)),open:async e=>new Promise(t=>{let{isUiLoaded:r,isDataLoaded:n}=A.state;if(b.removeWalletConnectDeepLink(),A.setWalletConnectUri(null==e?void 0:e.uri),A.setChains(null==e?void 0:e.chains),m.reset("ConnectWallet"),r&&n)q.open=!0,t();else{let e=setInterval(()=>{let r=A.state;r.isUiLoaded&&r.isDataLoaded&&(clearInterval(e),q.open=!0,t())},200)}}),close(){q.open=!1}};var H=Object.defineProperty,G=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Z=(e,t,r)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Y=(e,t)=>{for(var r in t||(t={}))K.call(t,r)&&Z(e,r,t[r]);if(G)for(var r of G(t))J.call(t,r)&&Z(e,r,t[r]);return e};let Q=f({themeMode:"undefined"!=typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:Q,subscribe:e=>p(Q,()=>e(Q)),setThemeConfig(e){let{themeMode:t,themeVariables:r}=e;t&&(Q.themeMode=t),r&&(Q.themeVariables=Y({},r))}},ee=f({open:!1,message:"",variant:"success"}),et={state:ee,subscribe:e=>p(ee,()=>e(ee)),openToast(e,t){ee.open=!0,ee.message=e,ee.variant=t},closeToast(){ee.open=!1}}},44978:function(e,t,r){"use strict";r.d(t,{WalletConnectModal:function(){return i}});var n=r(57837);class i{constructor(e){this.openModal=n.jb.open,this.closeModal=n.jb.close,this.subscribeModal=n.jb.subscribe,this.setTheme=n.ThemeCtrl.setThemeConfig,n.ThemeCtrl.setThemeConfig(e),n.ConfigCtrl.setConfig(e),this.initUi()}async initUi(){if("undefined"!=typeof window){await r.e(275).then(r.bind(r,46275));let e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),n.OptionsCtrl.setIsUiLoaded(!0)}}}},81864:function(e,t,r){"use strict";let n,i,s;r.d(t,{CU:function(){return h$}});var o,a,c,l,u,h,d,f,p,g,y,m,b,v,w,E,A,_,P,T,I,C,S,O,x,R,M={};r.r(M),r.d(M,{base64DecodeFromString:function(){return X},base64EncodeToString:function(){return ee},byte2hexStr:function(){return J},byteArray2hexStr:function(){return Q},bytesToString:function(){return Z},hextoString:function(){return Y}});var B={};r.r(B),r.d(B,{arrayEquals:function(){return er},base64DecodeFromString:function(){return X},base64EncodeToString:function(){return ee},bin2String:function(){return et},byte2hexStr:function(){return J},byteArray2hexStr:function(){return Q},bytesToString:function(){return Z},getStringType:function(){return el},hexChar2byte:function(){return ei},hexStr2byteArray:function(){return eo},hextoString:function(){return Y},isHexChar:function(){return es},isNumber:function(){return ec},strToDate:function(){return ea},stringToBytes:function(){return en}});var N={};r.r(N),r.d(N,{hasProperties:function(){return ek},hasProperty:function(){return eD},isArray:function(){return eC},isBigNumber:function(){return ex},isBoolean:function(){return eO},isFunction:function(){return eM},isHex:function(){return eB},isInteger:function(){return eN},isJson:function(){return eS},isNotNullOrUndefined:function(){return eL},isObject:function(){return eI},isString:function(){return eR},isValidURL:function(){return eT},mapEvent:function(){return eW},padLeft:function(){return eF},parseEvent:function(){return eU},sleep:function(){return ej}});var D={};r.r(D),r.d(D,{dQ:function(){return nh},ci:function(){return nr},bytesToNumberBE:function(){return ns},ty:function(){return no},eV:function(){return nu},n$:function(){return np},ql:function(){return nl},hexToBytes:function(){return ni},tL:function(){return na},S5:function(){return nc},FF:function(){return ny}});var k={};r.r(k),r.d(k,{AbiCoder:function(){return iH},FormatTypes:function(){return az},Interface:function(){return aW},Mnemonic:function(){return rY},Signature:function(){return tE},SigningKey:function(){return nG},Wordlist:function(){return r$},arrayify:function(){return aj},concat:function(){return e9},ethersHDNodeWallet:function(){return oK},id:function(){return rF},isValidMnemonic:function(){return a$},joinSignature:function(){return aL},keccak256:function(){return rU},recoverAddress:function(){return nJ},sha256:function(){return ru},splitSignature:function(){return aF},toUtf8Bytes:function(){return rb},toUtf8String:function(){return rv},wordlists:function(){return oZ}});var W={};r.r(W),r.d(W,{ADDRESS_PREFIX:function(){return aV},ADDRESS_PREFIX_BYTE:function(){return aH},ADDRESS_PREFIX_REGEX:function(){return aG},ADDRESS_SIZE:function(){return aq},TRON_BIP39_PATH_INDEX_0:function(){return aJ},TRON_BIP39_PATH_PREFIX:function(){return aK},fromHex:function(){return aZ},fromPrivateKey:function(){return a0},isAddress:function(){return a1},isChecksumAddress:function(){return aX},toChecksumAddress:function(){return aQ},toHex:function(){return aY}});var U={};r.r(U),r.d(U,{decode58:function(){return a4},encode58:function(){return a6}});var F={};r.r(F),r.d(F,{hasBrowserEnv:function(){return c1},hasStandardBrowserEnv:function(){return c3},hasStandardBrowserWebWorkerEnv:function(){return c6},navigator:function(){return c2},origin:function(){return c4}});var L={};r.r(L),r.d(L,{decodeParams:function(){return l6},decodeParamsV2ByABI:function(){return l7},encodeParams:function(){return l4},encodeParamsV2ByABI:function(){return l9}});var j={};r.r(j),r.d(j,{txCheck:function(){return hv},txCheckWithArgs:function(){return hw},txJsonToPb:function(){return hg},txJsonToPbWithArgs:function(){return hy},txPbToRawDataHex:function(){return hb},txPbToTxID:function(){return hE}});var z={};r.r(z),r.d(z,{gk:function(){return db},dQ:function(){return dR},ci:function(){return dw},bytesToNumberBE:function(){return dT},ty:function(){return dI},eV:function(){return dx},n$:function(){return dN},ql:function(){return dO},hexToBytes:function(){return dP},_t:function(){return dm},tL:function(){return dC},S5:function(){return dS},FF:function(){return dk}});var $={};r.r($),r.d($,{ECKeySign:function(){return fE},SHA256:function(){return fA},_signTypedData:function(){return fu},arrayToBase64String:function(){return fc},computeAddress:function(){return ff},decode58Check:function(){return fg},decodeBase58Address:function(){return fs},ecRecover:function(){return fa},genPriKey:function(){return fd},getAddressFromPriKey:function(){return fp},getAddressFromPriKeyBase64String:function(){return fv},getBase58CheckAddress:function(){return fi},getBase58CheckAddressFromPriKeyBase64String:function(){return fm},getHexStrAddressFromPriKeyBase64String:function(){return fb},getPubKeyFromPriKey:function(){return fw},getRowBytesFromTransactionBase64:function(){return fh},isAddressValid:function(){return fy},passwordToAddress:function(){return f_},pkToAddress:function(){return fP},sha3:function(){return fT},signBytes:function(){return fl},signTransaction:function(){return fo}});var q={};r.r(q),r.d(q,{generateAccount:function(){return fI},generateAccountWithMnemonic:function(){return fS},generateRandom:function(){return fC}});var V={};r.r(V),r.d(V,{TRON_MESSAGE_PREFIX:function(){return fO},hashMessage:function(){return fx},signMessage:function(){return fR},verifyMessage:function(){return fM}});var H={};r.r(H),r.d(H,{AccountType:function(){return C},ContractType:function(){return T},Permission_PermissionType:function(){return I},ResourceCode:function(){return S}});let G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";class K{encode(e){let t,r,n,i,s,o,a,c="",l=0;for(;l<e.length;)t=e.charCodeAt(l++),r=e.charCodeAt(l++),n=e.charCodeAt(l++),i=t>>2,s=(3&t)<<4|r>>4,o=(15&r)<<2|n>>6,a=63&n,isNaN(r)?o=a=64:isNaN(n)&&(a=64),c=c+G.charAt(i)+G.charAt(s)+G.charAt(o)+G.charAt(a);return c}encodeIgnoreUtf8(e){let t,r,n,i,s,o,a,c="",l=0;for(;l<e.length;)t=e[l++],r=e[l++],n=e[l++],i=t>>2,s=(3&t)<<4|r>>4,o=(15&r)<<2|n>>6,a=63&n,isNaN(r)?o=a=64:isNaN(n)&&(a=64),c=c+G.charAt(i)+G.charAt(s)+G.charAt(o)+G.charAt(a);return c}decode(e){let t,r,n,i,s,o,a,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)i=G.indexOf(e.charAt(l++)),s=G.indexOf(e.charAt(l++)),o=G.indexOf(e.charAt(l++)),a=G.indexOf(e.charAt(l++)),t=i<<2|s>>4,r=(15&s)<<4|o>>2,n=(3&o)<<6|a,c+=String.fromCharCode(t),64!=o&&(c+=String.fromCharCode(r)),64!=a&&(c+=String.fromCharCode(n));return this._utf8_decode(c)}decodeToByteArray(e){let t,r,n,i,s,o,a,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)i=G.indexOf(e.charAt(l++)),s=G.indexOf(e.charAt(l++)),o=G.indexOf(e.charAt(l++)),a=G.indexOf(e.charAt(l++)),t=i<<2|s>>4,r=(15&s)<<4|o>>2,n=(3&o)<<6|a,c+=String.fromCharCode(t),64!=o&&(c+=String.fromCharCode(r)),64!=a&&(c+=String.fromCharCode(n));return this._out2ByteArray(c)}_out2ByteArray(e){let t=Array(e.length),r=0,n=0;for(;r<e.length;)n=e.charCodeAt(r),t[r]=n,r++;return t}_utf8_encode(e){e=e.replace(/\r\n/g,"\n");let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?t+=String.fromCharCode(n>>6|192)+String.fromCharCode(63&n|128):t+=String.fromCharCode(n>>12|224)+String.fromCharCode(n>>6&63|128)+String.fromCharCode(63&n|128)}return t}_utf8_decode(e){let t="",r=0,n=0,i=0;for(;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(t+=String.fromCharCode((31&n)<<6|63&e.charCodeAt(r+1)),r+=2):(t+=String.fromCharCode((15&n)<<12|(63&e.charCodeAt(r+1))<<6|63&e.charCodeAt(r+2)),r+=3);return t}}function J(e){if(e<0||e>255)throw Error("Input must be a byte");let t="0123456789ABCDEF";return""+(t.charAt(e>>4)+t.charAt(15&e))}function Z(e){let t="";for(let r=0;r<e.length;r++){let n=e[r].toString(2),i=n.match(/^1+?(?=0)/);if(i&&8===n.length){let n=i[0].length,s=e[r].toString(2).slice(7-n);for(let t=1;t<n;t++)s+=e[t+r].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),r+=n-1}else t+=String.fromCharCode(e[r])}return t}function Y(e){let t=e.replace(/^0x/,"").split(""),r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(parseInt(`0x${t[2*e]}${t[2*e+1]}`));return r}function Q(e){let t="";for(let r=0;r<e.length;r++)t+=J(e[r]);return t}function X(e){return new K().decodeToByteArray(e)}function ee(e){return new K().encodeIgnoreUtf8(e)}function et(e){return Z(e)}function er(e,t,r=!1){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(r){if(e[n]!=t[n])return!1}else if(JSON.stringify(e[n])!=JSON.stringify(t[n]))return!1;return!0}function en(e){let t;let r=[],n=e.length;for(let i=0;i<n;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);return r}function ei(e){let t;if(e>="A"&&e<="F"?t=e.charCodeAt(0)-65+10:e>="a"&&e<="f"?t=e.charCodeAt(0)-97+10:e>="0"&&e<="9"&&(t=e.charCodeAt(0)-48),"number"==typeof t)return t;throw Error("The passed hex char is not a valid hex char")}function es(e){return e>="A"&&e<="F"||e>="a"&&e<="f"||e>="0"&&e<="9"?1:0}function eo(e,t=!1){let r=e.length;t&&r%2&&(e=`0${e}`,r++);let n=[],i=0,s=0,o=0;for(let t=0;t<r;t++){let r=e.charAt(t);if(es(r))i<<=4,i+=ei(r),0==++s%2&&(n[o++]=i,i=0);else throw Error("The passed hex char is not a valid hex string")}return n}function ea(e){if(!/^\d{4}-\d{2}-\d{2}( \d{2}-\d{2}-\d{2}|)/.test(e))throw Error("The passed date string is not valid");let t=e.split(" "),r=t[0].split("-"),n=parseInt(r[0],10),i=parseInt(r[1],10)-1,s=parseInt(r[2],10);if(t.length>1){let e=t[1].split("-");return new Date(n,i,s,parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10))}return new Date(n,i,s)}function ec(e){return e>="0"&&e<="9"?1:0}function el(e){if(null==e||0==e.length||""==e)return -1;let t=0;if(40==e.length)for(;t<40&&es(e.charAt(t));t++);if(40==t)return 1;for(t=0;t<e.length&&ec(e.charAt(t));t++);if(t==e.length)return 2;for(t=0;t<e.length;t++)if(e.charAt(t)>" ")return 3;return -1}var eu=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,eh=Math.ceil,ed=Math.floor,ef="[BigNumber Error] ",ep=ef+"Number primitive has more than 15 significant digits: ",eg=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function ey(e){var t=0|e;return e>0||e===t?t:t-1}function em(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function eb(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,l=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(o=0,a=(c=i.length)<(l=s.length)?c:l;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function ev(e,t,r,n){if(e<t||e>r||e!==ed(e))throw Error(ef+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function ew(e){var t=e.c.length-1;return ey(e.e/14)==t&&e.c[t]%2!=0}function eE(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function eA(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var e_=function e(t){var r,n,i,s,o,a,c,l,u,h=T.prototype={constructor:T,toString:null,valueOf:null},d=new T(1),f=20,p=4,g=-7,y=21,m=-1e7,b=1e7,v=!1,w=1,E=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},_="0123456789abcdefghijklmnopqrstuvwxyz",P=!0;function T(e,t){var r,n,i,s,o,a,c,h,d=this;if(!(d instanceof T))return new T(e,t);if(null==t){if(e&&!0===e._isBigNumber){d.s=e.s,!e.c||e.e>b?d.c=d.e=null:e.e<m?d.c=[d.e=0]:(d.e=e.e,d.c=e.c.slice());return}if((a="number"==typeof e)&&0*e==0){if(d.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,o=e;o>=10;o/=10,s++);s>b?d.c=d.e=null:(d.e=s,d.c=[e]);return}h=String(e)}else{if(!eu.test(h=String(e)))return u(d,h,a);d.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(s=h.indexOf("."))>-1&&(h=h.replace(".","")),(o=h.search(/e/i))>0?(s<0&&(s=o),s+=+h.slice(o+1),h=h.substring(0,o)):s<0&&(s=h.length)}else{if(ev(t,2,_.length,"Base"),10==t&&P)return O(d=new T(e),f+d.e+1,p);if(h=String(e),a="number"==typeof e){if(0*e!=0)return u(d,h,a,t);if(d.s=1/e<0?(h=h.slice(1),-1):1,T.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(ep+e)}else d.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=_.slice(0,t),s=o=0,c=h.length;o<c;o++)if(0>r.indexOf(n=h.charAt(o))){if("."==n){if(o>s){s=c;continue}}else if(!i&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){i=!0,o=-1,s=0;continue}return u(d,String(e),a,t)}a=!1,(s=(h=l(h,t,10,d.s)).indexOf("."))>-1?h=h.replace(".",""):s=h.length}for(o=0;48===h.charCodeAt(o);o++);for(c=h.length;48===h.charCodeAt(--c););if(h=h.slice(o,++c)){if(c-=o,a&&T.DEBUG&&c>15&&(e>9007199254740991||e!==ed(e)))throw Error(ep+d.s*e);if((s=s-o-1)>b)d.c=d.e=null;else if(s<m)d.c=[d.e=0];else{if(d.e=s,d.c=[],o=(s+1)%14,s<0&&(o+=14),o<c){for(o&&d.c.push(+h.slice(0,o)),c-=14;o<c;)d.c.push(+h.slice(o,o+=14));o=14-(h=h.slice(o)).length}else o-=c;for(;o--;h+="0");d.c.push(+h)}}else d.c=[d.e=0]}function I(e,t,r,n){var i,s,o,a,c;if(null==r?r=p:ev(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=em(e.c),c=1==n||2==n&&(o<=g||o>=y)?eE(c,o):eA(c,o,"0");else if(s=(e=O(new T(e),t,r)).e,a=(c=em(e.c)).length,1==n||2==n&&(t<=s||s<=g)){for(;a<t;c+="0",a++);c=eE(c,s)}else if(t-=o,c=eA(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function C(e,t){for(var r,n,i=1,s=new T(e[0]);i<e.length;i++)(n=new T(e[i])).s&&(r=eb(s,n))!==t&&(0!==r||s.s!==t)||(s=n);return s}function S(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>b?e.c=e.e=null:r<m?e.c=[e.e=0]:(e.e=r,e.c=t),e}function O(e,t,r,n){var i,s,o,a,c,l,u,h=e.c;if(h){r:{for(i=1,a=h[0];a>=10;a/=10,i++);if((s=t-i)<0)s+=14,o=t,u=ed((c=h[l=0])/eg[i-o-1]%10);else if((l=eh((s+1)/14))>=h.length){if(n){for(;h.length<=l;h.push(0));c=u=0,i=1,s%=14,o=s-14+1}else break r}else{for(i=1,c=a=h[l];a>=10;a/=10,i++);s%=14,u=(o=s-14+i)<0?0:ed(c/eg[i-o-1]%10)}if(n=n||t<0||null!=h[l+1]||(o<0?c:c%eg[i-o-1]),n=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?o>0?c/eg[i-o]:0:h[l-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=eg[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=l,a=1,l--):(h.length=l+1,a=eg[14-s],h[l]=o>0?ed(c/eg[i-o]%eg[o])*a:0),n)for(;;){if(0==l){for(s=1,o=h[0];o>=10;o/=10,s++);for(o=h[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(e.e++,1e14==h[0]&&(h[0]=1));break}if(h[l]+=a,1e14!=h[l])break;h[l--]=0,a=1}for(s=h.length;0===h[--s];h.pop());}e.e>b?e.c=e.e=null:e.e<m&&(e.c=[e.e=0])}return e}function x(e){var t,r=e.e;return null===r?e.toString():(t=em(e.c),t=r<=g||r>=y?eE(t,r):eA(t,r,"0"),e.s<0?"-"+t:t)}return T.clone=e,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(ev(r=e[t],0,1e9,t),f=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(ev(r=e[t],0,8,t),p=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(ev(r[0],-1e9,0,t),ev(r[1],0,1e9,t),g=r[0],y=r[1]):(ev(r,-1e9,1e9,t),g=-(y=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)ev(r[0],-1e9,-1,t),ev(r[1],1,1e9,t),m=r[0],b=r[1];else if(ev(r,-1e9,1e9,t),r)m=-(b=r<0?-r:r);else throw Error(ef+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))v=r;else throw v=!r,Error(ef+"crypto unavailable")}else v=r}else throw Error(ef+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(ev(r=e[t],0,9,t),w=r),e.hasOwnProperty(t="POW_PRECISION")&&(ev(r=e[t],0,1e9,t),E=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))A=r;else throw Error(ef+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(ef+t+" invalid: "+r);P="0123456789"==r.slice(0,10),_=r}}else throw Error(ef+"Object expected: "+e)}return{DECIMAL_PLACES:f,ROUNDING_MODE:p,EXPONENTIAL_AT:[g,y],RANGE:[m,b],CRYPTO:v,MODULO_MODE:w,POW_PRECISION:E,FORMAT:A,ALPHABET:_}},T.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!T.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;r:if("[object Array]"==({}).toString.call(n)){if((1===s||-1===s)&&i>=-1e9&&i<=1e9&&i===ed(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break r}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==ed(r))break r;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(ef+"Invalid BigNumber: "+e)},T.maximum=T.max=function(){return C(arguments,-1)},T.minimum=T.min=function(){return C(arguments,1)},T.random=(r=9007199254740992*Math.random()&2097151?function(){return ed(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,i,s,o,a=0,c=[],l=new T(d);if(null==e?e=f:ev(e,0,1e9),s=eh(e/14),v){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));a<s;)(o=131072*t[a]+(t[a+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[a]=n[0],t[a+1]=n[1]):(c.push(o%1e14),a+=2);a=s/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(s*=7);a<s;)(o=(31&t[a])*281474976710656+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(c.push(o%1e14),a+=7);a=s/7}else throw v=!1,Error(ef+"crypto unavailable")}if(!v)for(;a<s;)(o=r())<9e15&&(c[a++]=o%1e14);for(s=c[--a],e%=14,s&&e&&(o=eg[14-e],c[a]=ed(s/o)*o);0===c[a];c.pop(),a--);if(a<0)c=[i=0];else{for(i=-1;0===c[0];c.splice(0,1),i-=14);for(a=1,o=c[0];o>=10;o/=10,a++);a<14&&(i-=14-a)}return l.e=i,l.c=c,l}),T.sum=function(){for(var e=1,t=arguments,r=new T(t[0]);e<t.length;)r=r.plus(t[e++]);return r},l=function(){var e="0123456789";function t(e,t,r,n){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(r,n,i,s,o){var a,l,u,h,d,g,y,m,b=r.indexOf("."),v=f,w=p;for(b>=0&&(h=E,E=0,r=r.replace(".",""),g=(m=new T(n)).pow(r.length-b),E=h,m.c=t(eA(em(g.c),g.e,"0"),10,i,e),m.e=m.c.length),u=h=(y=t(r,n,i,o?(a=_,e):(a=e,_))).length;0==y[--h];y.pop());if(!y[0])return a.charAt(0);if(b<0?--u:(g.c=y,g.e=u,g.s=s,y=(g=c(g,m,v,w,i)).c,d=g.r,u=g.e),b=y[l=u+v+1],h=i/2,d=d||l<0||null!=y[l+1],d=w<4?(null!=b||d)&&(0==w||w==(g.s<0?3:2)):b>h||b==h&&(4==w||d||6==w&&1&y[l-1]||w==(g.s<0?8:7)),l<1||!y[0])r=d?eA(a.charAt(1),-v,a.charAt(0)):a.charAt(0);else{if(y.length=l,d)for(--i;++y[--l]>i;)y[l]=0,l||(++u,y=[1].concat(y));for(h=y.length;!y[--h];);for(b=0,r="";b<=h;r+=a.charAt(y[b++]));r=eA(r,u,a.charAt(0))}return r}}(),c=function(){function e(e,t,r){var n,i,s,o,a=0,c=e.length,l=t%1e7,u=t/1e7|0;for(e=e.slice();c--;)n=u*(s=e[c]%1e7)+(o=e[c]/1e7|0)*l,a=((i=l*s+n%1e7*1e7+a)/r|0)+(n/1e7|0)+u*o,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,o,a){var c,l,u,h,d,f,p,g,y,m,b,v,w,E,A,_,P,I=n.s==i.s?1:-1,C=n.c,S=i.c;if(!C||!C[0]||!S||!S[0])return new T(n.s&&i.s&&(C?!S||C[0]!=S[0]:S)?C&&0==C[0]||!S?0*I:I/0:NaN);for(y=(g=new T(I)).c=[],I=s+(l=n.e-i.e)+1,a||(a=1e14,l=ey(n.e/14)-ey(i.e/14),I=I/14|0),u=0;S[u]==(C[u]||0);u++);if(S[u]>(C[u]||0)&&l--,I<0)y.push(1),h=!0;else{for(E=C.length,_=S.length,u=0,I+=2,(d=ed(a/(S[0]+1)))>1&&(S=e(S,d,a),C=e(C,d,a),_=S.length,E=C.length),w=_,b=(m=C.slice(0,_)).length;b<_;m[b++]=0);P=[0].concat(P=S.slice()),A=S[0],S[1]>=a/2&&A++;do{if(d=0,(c=t(S,m,_,b))<0){if(v=m[0],_!=b&&(v=v*a+(m[1]||0)),(d=ed(v/A))>1)for(d>=a&&(d=a-1),p=(f=e(S,d,a)).length,b=m.length;1==t(f,m,p,b);)d--,r(f,_<p?P:S,p,a),p=f.length,c=1;else 0==d&&(c=d=1),p=(f=S.slice()).length;if(p<b&&(f=[0].concat(f)),r(m,f,b,a),b=m.length,-1==c)for(;1>t(S,m,_,b);)d++,r(m,_<b?P:S,b,a),b=m.length}else 0===c&&(d++,m=[0]);y[u++]=d,m[0]?m[b++]=C[w]||0:(m=[C[w]],b=1)}while((w++<E||null!=m[0])&&I--);h=null!=m[0],y[0]||y.splice(0,1)}if(1e14==a){for(u=1,I=y[0];I>=10;I/=10,u++);O(g,s+(g.e=u+14*l-1)+1,o,h)}else g.e=l,g.r=+h;return g}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,s=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g,u=function(e,t,r,c){var l,u=r?t:t.replace(a,"");if(o.test(u))e.s=isNaN(u)?null:u<0?-1:1;else{if(!r&&(u=u.replace(n,function(e,t,r){return l="x"==(r=r.toLowerCase())?16:"b"==r?2:8,c&&c!=l?e:t}),c&&(l=c,u=u.replace(i,"$1").replace(s,"0.$1")),t!=u))return new T(u,l);if(T.DEBUG)throw Error(ef+"Not a"+(c?" base "+c:"")+" number: "+t);e.s=null}e.c=e.e=null},h.absoluteValue=h.abs=function(){var e=new T(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,t){return eb(this,new T(e,t))},h.decimalPlaces=h.dp=function(e,t){var r,n,i;if(null!=e)return ev(e,0,1e9),null==t?t=p:ev(t,0,8),O(new T(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-ey(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},h.dividedBy=h.div=function(e,t){return c(this,new T(e,t),f,p)},h.dividedToIntegerBy=h.idiv=function(e,t){return c(this,new T(e,t),0,1)},h.exponentiatedBy=h.pow=function(e,t){var r,n,i,s,o,a,c,l,u,h=this;if((e=new T(e)).c&&!e.isInteger())throw Error(ef+"Exponent not an integer: "+x(e));if(null!=t&&(t=new T(t)),a=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return u=new T(Math.pow(+x(h),a?e.s*(2-ew(e)):+x(e))),t?u.mod(t):u;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new T(NaN);(n=!c&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||a&&h.c[1]>=24e7:h.c[0]<8e13||a&&h.c[0]<=9999975e7)))return s=h.s<0&&ew(e)?-0:0,h.e>-1&&(s=1/s),new T(c?1/s:s);E&&(s=eh(E/14+2))}for(a?(r=new T(.5),c&&(e.s=1),l=ew(e)):l=(i=Math.abs(+x(e)))%2,u=new T(d);;){if(l){if(!(u=u.times(h)).c)break;s?u.c.length>s&&(u.c.length=s):n&&(u=u.mod(t))}if(i){if(0===(i=ed(i/2)))break;l=i%2}else if(O(e=e.times(r),e.e+1,1),e.e>14)l=ew(e);else{if(0==(i=+x(e)))break;l=i%2}h=h.times(h),s?h.c&&h.c.length>s&&(h.c.length=s):n&&(h=h.mod(t))}return n?u:(c&&(u=d.div(u)),t?u.mod(t):s?O(u,E,p,o):u)},h.integerValue=function(e){var t=new T(this);return null==e?e=p:ev(e,0,8),O(t,t.e+1,e)},h.isEqualTo=h.eq=function(e,t){return 0===eb(this,new T(e,t))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,t){return eb(this,new T(e,t))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,t){return 1===(t=eb(this,new T(e,t)))||0===t},h.isInteger=function(){return!!this.c&&ey(this.e/14)>this.c.length-2},h.isLessThan=h.lt=function(e,t){return 0>eb(this,new T(e,t))},h.isLessThanOrEqualTo=h.lte=function(e,t){return -1===(t=eb(this,new T(e,t)))||0===t},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(e,t){var r,n,i,s,o=this.s;if(t=(e=new T(e,t)).s,!o||!t)return new T(NaN);if(o!=t)return e.s=-t,this.plus(e);var a=this.e/14,c=e.e/14,l=this.c,u=e.c;if(!a||!c){if(!l||!u)return l?(e.s=-t,e):new T(u?this:NaN);if(!l[0]||!u[0])return u[0]?(e.s=-t,e):new T(l[0]?this:3==p?-0:0)}if(a=ey(a),c=ey(c),l=l.slice(),o=a-c){for((s=o<0)?(o=-o,i=l):(c=a,i=u),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(n=(s=(o=l.length)<(t=u.length))?o:t,o=t=0;t<n;t++)if(l[t]!=u[t]){s=l[t]<u[t];break}if(s&&(i=l,l=u,u=i,e.s=-e.s),(t=(n=u.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=1e14-1;n>o;){if(l[--n]<u[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=1e14}l[n]-=u[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?S(e,l,c):(e.s=3==p?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,t){var r,n;return(e=new T(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==w?(n=e.s,e.s=1,r=c(this,e,0,3),e.s=n,r.s*=n):r=c(this,e,0,w),(e=this.minus(r.times(e))).c[0]||1!=w||(e.s=this.s),e):new T(this):new T(NaN)},h.multipliedBy=h.times=function(e,t){var r,n,i,s,o,a,c,l,u,h,d,f,p,g=this.c,y=(e=new T(e,t)).c;if(!g||!y||!g[0]||!y[0])return this.s&&e.s&&(!g||g[0]||y)&&(!y||y[0]||g)?(e.s*=this.s,g&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=ey(this.e/14)+ey(e.e/14),e.s*=this.s,(c=g.length)<(h=y.length)&&(p=g,g=y,y=p,i=c,c=h,h=i),i=c+h,p=[];i--;p.push(0));for(i=h;--i>=0;){for(r=0,d=y[i]%1e7,f=y[i]/1e7|0,s=i+(o=c);s>i;)a=f*(l=g[--o]%1e7)+(u=g[o]/1e7|0)*d,r=((l=d*l+a%1e7*1e7+p[s]+r)/1e14|0)+(a/1e7|0)+f*u,p[s--]=l%1e14;p[s]=r}return r?++n:p.splice(0,1),S(e,p,n)},h.negated=function(){var e=new T(this);return e.s=-e.s||null,e},h.plus=function(e,t){var r,n=this.s;if(t=(e=new T(e,t)).s,!n||!t)return new T(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,s=e.e/14,o=this.c,a=e.c;if(!i||!s){if(!o||!a)return new T(n/0);if(!o[0]||!a[0])return a[0]?e:new T(o[0]?this:0*n)}if(i=ey(i),s=ey(s),o=o.slice(),n=i-s){for(n>0?(s=i,r=a):(n=-n,r=o),r.reverse();n--;r.push(0));r.reverse()}for((n=o.length)-(t=a.length)<0&&(r=a,a=o,o=r,t=n),n=0;t;)n=(o[--t]=o[t]+a[t]+n)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return n&&(o=[n].concat(o),++s),S(e,o,s)},h.precision=h.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return ev(e,1,1e9),null==t?t=p:ev(t,0,8),O(new T(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},h.shiftedBy=function(e){return ev(e,-9007199254740991,9007199254740991),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,t,r,n,i,s=this.c,o=this.s,a=this.e,l=f+4,u=new T("0.5");if(1!==o||!s||!s[0])return new T(!o||o<0&&(!s||s[0])?NaN:s?this:1/0);if(0==(o=Math.sqrt(+x(this)))||o==1/0?(((t=em(s)).length+a)%2==0&&(t+="0"),o=Math.sqrt(+t),a=ey((a+1)/2)-(a<0||a%2),r=new T(t=o==1/0?"5e"+a:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new T(o+""),r.c[0]){for((o=(a=r.e)+l)<3&&(o=0);;)if(i=r,r=u.times(i.plus(c(this,i,l,1))),em(i.c).slice(0,o)===(t=em(r.c)).slice(0,o)){if(r.e<a&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(O(r,r.e+f+2,1),e=!r.times(r).eq(this));break}if(!n&&(O(i,i.e+f+2,0),i.times(i).eq(this))){r=i;break}l+=4,o+=4,n=1}}return O(r,r.e+f+1,p,e)},h.toExponential=function(e,t){return null!=e&&(ev(e,0,1e9),e++),I(this,e,t,1)},h.toFixed=function(e,t){return null!=e&&(ev(e,0,1e9),e=e+this.e+1),I(this,e,t)},h.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=A;else if("object"!=typeof r)throw Error(ef+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,s=n.split("."),o=+r.groupSize,a=+r.secondaryGroupSize,c=r.groupSeparator||"",l=s[0],u=s[1],h=this.s<0,d=h?l.slice(1):l,f=d.length;if(a&&(i=o,o=a,a=i,f-=i),o>0&&f>0){for(i=f%o||o,l=d.substr(0,i);i<f;i+=o)l+=c+d.substr(i,o);a>0&&(l+=c+d.slice(i)),h&&(l="-"+l)}n=u?l+(r.decimalSeparator||"")+((a=+r.fractionGroupSize)?u.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):u):l}return(r.prefix||"")+n+(r.suffix||"")},h.toFraction=function(e){var t,r,n,i,s,o,a,l,u,h,f,g,y=this.c;if(null!=e&&(!(a=new T(e)).isInteger()&&(a.c||1!==a.s)||a.lt(d)))throw Error(ef+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+x(a));if(!y)return new T(this);for(t=new T(d),u=r=new T(d),n=l=new T(d),g=em(y),s=t.e=g.length-this.e-1,t.c[0]=eg[(o=s%14)<0?14+o:o],e=!e||a.comparedTo(t)>0?s>0?t:u:a,o=b,b=1/0,a=new T(g),l.c[0]=0;h=c(a,t,0,1),1!=(i=r.plus(h.times(n))).comparedTo(e);)r=n,n=i,u=l.plus(h.times(i=u)),l=i,t=a.minus(h.times(i=t)),a=i;return i=c(e.minus(r),n,0,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=this.s,s*=2,f=1>c(u,n,s,p).minus(this).abs().comparedTo(c(l,r,s,p).minus(this).abs())?[u,n]:[l,r],b=o,f},h.toNumber=function(){return+x(this)},h.toPrecision=function(e,t){return null!=e&&ev(e,1,1e9),I(this,e,t,2)},h.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=g||i>=y?eE(em(r.c),i):eA(em(r.c),i,"0"):10===e&&P?t=eA(em((r=O(new T(r),f+i+1,p)).c),r.e,"0"):(ev(e,2,_.length,"Base"),t=l(eA(em(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},h.valueOf=h.toJSON=function(){return x(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=t&&T.set(t),T}(),eP=r(5661);function eT(e){return"string"==typeof e&&eP.isURL(e.toString(),{protocols:["http","https"],require_tld:!1})}function eI(e){return e===Object(e)&&"[object Array]"!==Object.prototype.toString.call(e)}function eC(e){return Array.isArray(e)}function eS(e){try{return!!JSON.parse(e)}catch(e){return!1}}function eO(e){return"boolean"==typeof e}function ex(e){return!!e&&(e instanceof e_||e.constructor&&"BigNumber"===e.constructor.name)}function eR(e){return"string"==typeof e||!!e&&e.constructor&&"String"===e.constructor.name}function eM(e){return"function"==typeof e}function eB(e){return"string"==typeof e&&!isNaN(parseInt(e,16))&&/^(0x|)[a-fA-F0-9]+$/.test(e)}function eN(e){return null!==e&&Number.isInteger(Number(e))}function eD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ek(e,...t){return t.length&&!t.map(t=>eD(e,t)).includes(!1)}function eW(e){let t={block:e.block_number,timestamp:e.block_timestamp,contract:e.contract_address,name:e.event_name,transaction:e.transaction_id,result:e.result,resourceNode:e.resource_Node||(e._unconfirmed?"fullNode":"solidityNode")};return e._unconfirmed&&(t.unconfirmed=e._unconfirmed),e._fingerprint&&(t.fingerprint=e._fingerprint),t}function eU(e,{inputs:t}){if(!e.result)return e;if(eI(e.result))for(let r=0;r<t.length;r++){let n=t[r];"address"==n.type&&n.name in e.result&&(e.result[n.name]=aV+e.result[n.name].substr(2).toLowerCase())}else eC(e.result)&&(e.result=e.result.reduce((e,r,n)=>{let{name:i,type:s}=t[n];return"address"==s&&(r=aV+r.substr(2).toLowerCase()),e[i]=r,e},{}));return e}function eF(e,t,r){let n=e.toString();for(;n.length<r;)n=t+n;return n}function eL(e){return null!=e}async function ej(e=1e3){return new Promise(t=>setTimeout(t,e))}let ez="0x0000000000000000000000000000000000000000000000000000000000000000",e$="6.13.4";async function eq(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,n)=>(e[t[n]]=r,e),{})}function eV(e,t,r){for(let n in t){let i=t[n],s=r?r[n]:null;s&&function(e,t,r){let n=t.split("|").map(e=>e.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let i=Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}(i,s,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function eH(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(eH).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4]+t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return eH(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{ "+t.map(t=>`${eH(t)}: ${eH(e[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function eG(e,t){return e&&e.code===t}function eK(e,t,r){let n,i=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${eH(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+eH(t))}}n.push(`code=${t}`),n.push(`version=${e$}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return eV(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&eV(n,{shortMessage:i}),n}function eJ(e,t,r,n){if(!e)throw eK(t,r,n)}function eZ(e,t,r,n){eJ(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function eY(e,t,r){null==r&&(r=""),r&&(r=": "+r),eJ(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),eJ(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}let eQ=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function eX(e){eJ(eQ.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function e0(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),eJ(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function e1(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}eZ(!1,"invalid BytesLike value",t||"value",e)}function e2(e,t){return e1(e,t,!1)}function e3(e,t){return e1(e,t,!0)}function e6(e,t){return!!("string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/))&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function e4(e){return e6(e,!0)||e instanceof Uint8Array}let e5="0123456789abcdef";function e8(e){let t=e2(e),r="0x";for(let e=0;e<t.length;e++){let n=t[e];r+=e5[(240&n)>>4]+e5[15&n]}return r}function e9(e){return"0x"+e.map(e=>e8(e).substring(2)).join("")}function e7(e){return e6(e,!0)?(e.length-2)/2:e2(e).length}function te(e,t,r){let n=e2(e);return null!=r&&r>n.length&&eJ(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),e8(n.slice(null==t?0:t,null==r?n.length:r))}function tt(e,t){return function(e,t,r){let n=e2(e);eJ(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});let i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),e8(i)}(e,t,!0)}let tr=BigInt(0),tn=BigInt(1);function ti(e,t){let r=to(e,"value"),n=BigInt(tu(t,"width")),i=tn<<n-tn;return r<tr?(eJ((r=-r)<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(tn<<n)-tn)+tn):(eJ(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function ts(e,t){return ta(e,"value")&(tn<<BigInt(tu(t,"bits")))-tn}function to(e,t){switch(typeof e){case"bigint":return e;case"number":return eZ(Number.isInteger(e),"underflow",t||"value",e),eZ(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){eZ(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}eZ(!1,"invalid BigNumberish value",t||"value",e)}function ta(e,t){let r=to(e,t);return eJ(r>=tr,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let tc="0123456789abcdef";function tl(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=tc[r>>4]+tc[15&r];return BigInt(t)}return to(e)}function tu(e,t){switch(typeof e){case"bigint":return eZ(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),Number(e);case"number":return eZ(Number.isInteger(e),"underflow",t||"value",e),eZ(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return tu(BigInt(e),t)}catch(r){eZ(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}eZ(!1,"invalid numeric value",t||"value",e)}function th(e,t){let r=ta(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{let n=tu(t,"width");for(eJ(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function td(e){let t=ta(e,"value");if(t===tr)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){let t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}function tf(e){let t=e8(e4(e)?e:td(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}let tp=BigInt(0),tg=BigInt(1),ty=BigInt(2),tm=BigInt(27),tb=BigInt(28),tv=BigInt(35),tw={};class tE{#e;#t;#r;#n;get r(){return this.#e}set r(e){eZ(32===e7(e),"invalid r","value",e),this.#e=e8(e)}get s(){return this.#t}set s(e){eZ(32===e7(e),"invalid s","value",e);let t=e8(e);eZ(8>parseInt(t.substring(0,3)),"non-canonical s","value",t),this.#t=t}get v(){return this.#r}set v(e){let t=tu(e,"value");eZ(27===t||28===t,"invalid v","v",e),this.#r=t}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return null==e?null:tE.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){let e=e2(this.s);return this.yParity&&(e[0]|=128),e8(e)}get compactSerialized(){return e9([this.r,this.yParityAndS])}get serialized(){return e9([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){e0(e,tw,"Signature"),this.#e=t,this.#t=r,this.#r=n,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new tE(tw,this.r,this.s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let t=to(e,"v");return t==tm||t==tb?tp:(eZ(t>=tv,"invalid EIP-155 v","v",e),(t-tv)/ty)}static getChainIdV(e,t){return to(e)*ty+BigInt(35+t-27)}static getNormalizedV(e){let t=to(e);return t===tp||t===tm?27:t===tg||t===tb?28:(eZ(t>=tv,"invalid v","v",e),t&tg?27:28)}static from(e){function t(t,r){eZ(t,r,"signature",e)}if(null==e)return new tE(tw,ez,ez,27);if("string"==typeof e){let r=e2(e,"signature");if(64===r.length){let e=e8(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new tE(tw,e,e8(t),n)}if(65===r.length){let e=e8(r.slice(0,32)),n=r.slice(32,64);t((128&n[0])==0,"non-canonical s");let i=tE.getNormalizedV(r[64]);return new tE(tw,e,e8(n),i)}t(!1,"invalid raw signature length")}if(e instanceof tE)return e.clone();let r=e.r;t(null!=r,"missing r");let n=tt(td(r),32),i=function(e,r){if(null!=e)return tt(td(e),32);if(null!=r){t(e6(r,32),"invalid yParityAndS");let e=e2(r);return e[0]&=127,e8(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t((128&e2(i)[0])==0,"non-canonical s");let{networkV:s,v:o}=function(e,r,n){if(null!=e){let t=to(e);return{networkV:t>=tv?t:void 0,v:tE.getNormalizedV(t)}}if(null!=r)return t(e6(r,32),"invalid yParityAndS"),{v:128&e2(r)[0]?28:27};if(null!=n){switch(tu(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new tE(tw,n,i,o);return s&&(a.#n=s),t(null==e.yParity||tu(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}function tA(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function t_(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function tP(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");tA(e.outputLen),tA(e.blockLen)}function tT(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tI(e,t){t_(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let tC="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,tS=e=>e instanceof Uint8Array,tO=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),tx=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),tR=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");let tM=async()=>{};async function tB(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await tM(),n+=e)}}function tN(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!tS(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class tD{clone(){return this._cloneInto()}}let tk={}.toString;function tW(e,t){if(void 0!==t&&"[object Object]"!==tk.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function tU(e){let t=t=>e().update(tN(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function tF(e=32){if(tC&&"function"==typeof tC.getRandomValues)return tC.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}class tL extends tD{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tP(e);let r=tN(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return tT(this),this.iHash.update(e),this}digestInto(e){tT(this),t_(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let tj=(e,t,r)=>new tL(e,t).update(r).digest();function tz(e,t,r,n){var i;let s;let{c:o,dkLen:a,DK:c,PRF:l,PRFSalt:u}=function(e,t,r,n){tP(e);let{c:i,dkLen:s,asyncTick:o}=tW({dkLen:32,asyncTick:10},n);if(tA(i),tA(s),tA(o),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let a=tN(t),c=tN(r),l=new Uint8Array(s),u=tj.create(e,a),h=u._cloneInto().update(c);return{c:i,dkLen:s,asyncTick:o,DK:l,PRF:u,PRFSalt:h}}(e,t,r,n),h=new Uint8Array(4),d=tx(h),f=new Uint8Array(l.outputLen);for(let e=1,t=0;t<a;e++,t+=l.outputLen){let r=c.subarray(t,t+l.outputLen);d.setInt32(0,e,!1),(s=u._cloneInto(s)).update(h).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<o;e++){l._cloneInto(s).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return i=s,l.destroy(),u.destroy(),i&&i.destroy(),f.fill(0),c}tj.create=(e,t)=>new tL(e,t);class t$ extends tD{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tx(this.buffer)}update(e){tT(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=tN(e)).length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let t=tx(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tT(this),tI(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=tx(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let tq=(e,t,r)=>e&t^~e&r,tV=(e,t,r)=>e&t^e&r^t&r,tH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tG=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tK=new Uint32Array(64);class tJ extends t${constructor(){super(64,32,8,!1),this.A=0|tG[0],this.B=0|tG[1],this.C=0|tG[2],this.D=0|tG[3],this.E=0|tG[4],this.F=0|tG[5],this.G=0|tG[6],this.H=0|tG[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)tK[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tK[e-15],r=tK[e-2],n=tR(t,7)^tR(t,18)^t>>>3,i=tR(r,17)^tR(r,19)^r>>>10;tK[e]=i+tK[e-7]+n+tK[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){let t=l+(tR(o,6)^tR(o,11)^tR(o,25))+tq(o,a,c)+tH[e]+tK[e]|0,u=(tR(r,2)^tR(r,13)^tR(r,22))+tV(r,n,i)|0;l=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){tK.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let tZ=tU(()=>new tJ),tY=BigInt(4294967296-1),tQ=BigInt(32);function tX(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=function(e,t=!1){return t?{h:Number(e&tY),l:Number(e>>tQ&tY)}:{h:0|Number(e>>tQ&tY),l:0|Number(e&tY)}}(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}let t0=(e,t,r)=>e<<r|t>>>32-r,t1=(e,t,r)=>t<<r|e>>>32-r,t2=(e,t,r)=>t<<r-32|e>>>64-r,t3=(e,t,r)=>e<<r-32|t>>>64-r;var t6={split:tX,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let[t4,t5]=t6.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),t8=new Uint32Array(80),t9=new Uint32Array(80);class t7 extends t${constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,r,n,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)t8[r]=e.getUint32(t),t9[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|t8[e-15],r=0|t9[e-15],n=t6.rotrSH(t,r,1)^t6.rotrSH(t,r,8)^t6.shrSH(t,r,7),i=t6.rotrSL(t,r,1)^t6.rotrSL(t,r,8)^t6.shrSL(t,r,7),s=0|t8[e-2],o=0|t9[e-2],a=t6.rotrSH(s,o,19)^t6.rotrBH(s,o,61)^t6.shrSH(s,o,6),c=t6.rotrSL(s,o,19)^t6.rotrBL(s,o,61)^t6.shrSL(s,o,6),l=t6.add4L(i,c,t9[e-7],t9[e-16]),u=t6.add4H(l,n,a,t8[e-7],t8[e-16]);t8[e]=0|u,t9[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let e=0;e<80;e++){let t=t6.rotrSH(u,h,14)^t6.rotrSH(u,h,18)^t6.rotrBH(u,h,41),b=t6.rotrSL(u,h,14)^t6.rotrSL(u,h,18)^t6.rotrBL(u,h,41),v=u&d^~u&p,w=h&f^~h&g,E=t6.add5L(m,b,w,t5[e],t9[e]),A=t6.add5H(E,y,t,v,t4[e],t8[e]),_=0|E,P=t6.rotrSH(r,n,28)^t6.rotrBH(r,n,34)^t6.rotrBH(r,n,39),T=t6.rotrSL(r,n,28)^t6.rotrBL(r,n,34)^t6.rotrBL(r,n,39),I=r&i^r&o^i&o,C=n&s^n&a^s&a;y=0|p,m=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=t6.add(0|c,0|l,0|A,0|_)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;let S=t6.add3L(_,T,C);r=t6.add3H(S,A,P,I),n=0|S}({h:r,l:n}=t6.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=t6.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=t6.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=t6.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=t6.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=t6.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=t6.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=t6.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(r,n,i,s,o,a,c,l,u,h,d,f,p,g,y,m)}roundClean(){t8.fill(0),t9.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let re=tU(()=>new t7),rt=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}(),rr=rt.crypto||rt.msCrypto;function rn(e){switch(e){case"sha256":return tZ.create();case"sha512":return re.create()}eZ(!1,"invalid hashing algorithm name","algorithm",e)}let ri=function(e){return rn("sha256").update(e).digest()},rs=function(e){return rn("sha512").update(e).digest()},ro=ri,ra=rs,rc=!1,rl=!1;function ru(e){let t=e2(e,"data");return e8(ro(t))}function rh(e){let t=e2(e,"data");return e8(ra(t))}ru._=ri,ru.lock=function(){rc=!0},ru.register=function(e){if(rc)throw Error("sha256 is locked");ro=e},Object.freeze(ru),rh._=rs,rh.lock=function(){rl=!0},rh.register=function(e){if(rl)throw Error("sha512 is locked");ra=e},Object.freeze(ru);let rd=!1,rf=function(e,t,r,n,i){return function(e,t,r,n,i){let s={sha256:tZ,sha512:re}[i];return eZ(null!=s,"invalid pbkdf2 algorithm","algorithm",i),tz(s,e,t,{c:r,dkLen:n})}(e,t,r,n,i)},rp=rf;function rg(e,t,r,n,i){let s=e2(e,"password"),o=e2(t,"salt");return e8(rp(s,o,r,n,i))}function ry(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}rg._=rf,rg.lock=function(){rd=!0},rg.register=function(e){if(rd)throw Error("pbkdf2 is locked");rp=e},Object.freeze(rg);let rm=Object.freeze({error:function(e,t,r,n,i){eZ(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:ry,replace:function(e,t,r,n,i){return"OVERLONG"===e?(eZ("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),ry(e,t,r,n,i))}});function rb(e,t){eZ("string"==typeof e,"invalid string value","str",e),null!=t&&(eX(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);eZ(t<e.length&&(64512&i)==56320,"invalid surrogate pair","str",e);let s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function rv(e,t){return(function(e,t){null==t&&(t=rm.error);let r=e2(e,"bytes"),n=[],i=0;for(;i<r.length;){let e=r[i++];if(e>>7==0){n.push(e);continue}let s=null,o=null;if((224&e)==192)s=1,o=127;else if((240&e)==224)s=2,o=2047;else if((248&e)==240)s=3,o=65535;else{(192&e)==128?i+=t("UNEXPECTED_CONTINUE",i-1,r,n):i+=t("BAD_PREFIX",i-1,r,n);continue}if(i-1+s>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let a=e&(1<<8-s-1)-1;for(let e=0;e<s;e++){let e=r[i];if((192&e)!=128){i+=t("MISSING_CONTINUE",i,r,n),a=null;break}a=a<<6|63&e,i++}if(null!==a){if(a>1114111){i+=t("OUT_OF_RANGE",i-1-s,r,n,a);continue}if(a>=55296&&a<=57343){i+=t("UTF16_SURROGATE",i-1-s,r,n,a);continue}if(a<=o){i+=t("OVERLONG",i-1-s,r,n,a);continue}n.push(a)}}return n})(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}let[rw,rE,rA]=[[],[],[]],r_=BigInt(0),rP=BigInt(1),rT=BigInt(2),rI=BigInt(7),rC=BigInt(256),rS=BigInt(113);for(let e=0,t=rP,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],rw.push(2*(5*n+r)),rE.push((e+1)*(e+2)/2%64);let i=r_;for(let e=0;e<7;e++)(t=(t<<rP^(t>>rI)*rS)%rC)&rT&&(i^=rP<<(rP<<BigInt(e))-rP);rA.push(i)}let[rO,rx]=tX(rA,!0),rR=(e,t,r)=>r>32?t2(e,t,r):t0(e,t,r),rM=(e,t,r)=>r>32?t3(e,t,r):t1(e,t,r);class rB extends tD{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tA(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=tO(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=rR(s,o,1)^r[n],c=rM(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=rE[r],s=rR(t,i,n),o=rM(t,i,n),a=rw[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=rO[n],e[1]^=rx[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){tT(this);let{blockLen:t,state:r}=this,n=(e=tN(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){tT(this,!1),t_(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tI(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new rB(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let rN=tU(()=>new rB(136,1,32)),rD=!1,rk=function(e){return rN(e)},rW=rk;function rU(e){let t=e2(e,"data");return e8(rW(t))}function rF(e){return rU(rb(e))}rU._=rk,rU.lock=function(){rD=!0},rU.register=function(e){if(rD)throw TypeError("keccak256 is locked");rW=e},Object.freeze(rU);let rL=" !#$%&'()*+,-./<=>?@[]^_`{|}~",rj=/^[a-z]*$/i;function rz(e,t){let r=97;return e.reduce((e,n)=>(n===t?r++:n.match(rj)?e.push(String.fromCharCode(r)+n):(r=97,e.push(n)),e),[])}class r${locale;constructor(e){eV(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class rq extends r${#i;#s;constructor(e,t,r){super(e),this.#i=t,this.#s=r,this.#o=null}get _data(){return this.#i}_decodeWords(){var e;return eZ("0"===(e=this.#i)[0],"unsupported auwl data","data",e),function(e,t){for(let r=rL.length-1;r>=0;r--)e=e.split(rL[r]).join(t.substring(2*r,2*r+2));let r=[],n=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,n,i)=>{if(n)for(let e=parseInt(n);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""});if(n)throw Error(`leftovers: ${JSON.stringify(n)}`);return rz(rz(r,";"),":")}(e.substring(1+2*rL.length),e.substring(1,1+2*rL.length))}#o;#a(){if(null==this.#o){let e=this._decodeWords();if(rF(e.join("\n")+"\n")!==this.#s)throw Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#o=e}return this.#o}getWord(e){let t=this.#a();return eZ(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#a().indexOf(e)}}let rV=null;class rH extends rq{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==rV&&(rV=new rH),rV}}function rG(e){return(1<<e)-1<<8-e&255}function rK(e,t){eX("NFKD"),null==t&&(t=rH.wordlist());let r=t.split(e);eZ(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*r.length/8)),i=0;for(let e=0;e<r.length;e++){let s=t.getWordIndex(r[e].normalize("NFKD"));eZ(s>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)s&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}let s=32*r.length/3,o=rG(r.length/3);return eZ((e2(ru(n.slice(0,s/8)))[0]&o)==(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),e8(n.slice(0,s/8))}function rJ(e,t){eZ(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=rH.wordlist());let r=[0],n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&((1<<8-n)-1&255)),n+=3);let i=e.length/4,s=parseInt(ru(e).substring(2,4),16)&rG(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,t.join(r.map(e=>t.getWord(e)))}let rZ={};class rY{phrase;password;wordlist;entropy;constructor(e,t,r,n,i){null==n&&(n=""),null==i&&(i=rH.wordlist()),e0(e,rZ,"Mnemonic"),eV(this,{phrase:r,password:n,wordlist:i,entropy:t})}computeSeed(){let e=rb("mnemonic"+this.password,"NFKD");return rg(rb(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let n=rK(e,r);return e=rJ(e2(n),r),new rY(rZ,n,e,t,r)}static fromEntropy(e,t,r){let n=e2(e,"entropy"),i=rJ(n,r);return new rY(rZ,e8(n),i,t,r)}static entropyToPhrase(e,t){return rJ(e2(e,"entropy"),t)}static phraseToEntropy(e,t){return rK(e,t)}static isValidMnemonic(e,t){try{return rK(e,t),!0}catch(e){}return!1}}let rQ=!1,rX=function(e,t,r){return(function(e,t){let r={sha256:tZ,sha512:re}[e];return eZ(null!=r,"invalid hmac algorithm","algorithm",e),tj.create(r,t)})(e,t).update(r).digest()},r0=rX;function r1(e,t,r){let n=e2(t,"key"),i=e2(r,"data");return e8(r0(e,n,i))}r1._=rX,r1.lock=function(){rQ=!0},r1.register=function(e){if(rQ)throw Error("computeHmac is locked");r0=e},Object.freeze(r1);let r2=BigInt(0),r3=BigInt(36);function r6(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=e2(rU(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let r4={};for(let e=0;e<10;e++)r4[String(e)]=String(e);for(let e=0;e<26;e++)r4[String.fromCharCode(65+e)]=String(10+e);let r5=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function r8(e){if(eZ("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=r6(e);return eZ(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){eZ(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>r4[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=r2;for(let r=0;r<e.length;r++)t=t*r3+r5[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return r6("0x"+t)}eZ(!1,"invalid address","address",e)}BigInt(0);let r9=BigInt(1),r7=BigInt(2),ne=e=>e instanceof Uint8Array,nt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nr(e){if(!ne(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=nt[e[r]];return t}function nn(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ni(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function ns(e){return nn(nr(e))}function no(e){if(!ne(e))throw Error("Uint8Array expected");return nn(nr(Uint8Array.from(e).reverse()))}function na(e,t){return ni(e.toString(16).padStart(2*t,"0"))}function nc(e,t){return na(e,t).reverse()}function nl(e,t,r){let n;if("string"==typeof t)try{n=ni(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(ne(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function nu(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!ne(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}let nh=e=>(r7<<BigInt(e-1))-r9,nd=e=>new Uint8Array(e),nf=e=>Uint8Array.from(e);function np(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=nd(e),i=nd(e),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=nd())=>{i=a(nf([0]),e),n=a(),0!==e.length&&(i=a(nf([1]),e),n=a())},l=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return nu(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}let ng={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ny(e,t,r={}){let n=(t,r,n)=>{let i=ng[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let nm=BigInt(0),nb=BigInt(1),nv=BigInt(2),nw=BigInt(3),nE=BigInt(4),nA=BigInt(5),n_=BigInt(8);function nP(e,t){let r=e%t;return r>=nm?r:t+r}function nT(e,t,r){let n=e;for(;t-- >nm;)n*=n,n%=r;return n}function nI(e,t){if(e===nm||t<=nm)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=nP(e,t),n=t,i=nm,s=nb,o=nb,a=nm;for(;r!==nm;){let e=n/r,t=n%r,c=i-o*e,l=s-a*e;n=r,r=t,i=o,s=a,o=c,a=l}if(n!==nb)throw Error("invert: does not exist");return nP(i,t)}BigInt(9),BigInt(16);let nC=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nS(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function nO(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function nx(e){let t=nO(e);return t+Math.ceil(t/2)}let nR=BigInt(0),nM=BigInt(1);function nB(e){return ny(e.Fp,nC.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),ny(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nS(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:nN,hexToBytes:nD}=D,nk={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=nk;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:nN(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=nk,r="string"==typeof e?nD(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=nk._parseInt(r.subarray(2)),{d:o,l:a}=nk._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},nW=BigInt(0),nU=BigInt(1),nF=(BigInt(2),BigInt(3));BigInt(4);let nL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),nz=BigInt(1),n$=BigInt(2),nq=(e,t)=>(e+t/n$)/t,nV=function(e,t,r=!1,n={}){if(e<=nm)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=nS(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(e){if(e%nE===nw){let t=(e+nb)/nE;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%n_===nA){let t=(e-nA)/n_;return function(e,r){let n=e.mul(r,nv),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,nv),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,n;let i=(e-nb)/nv;for(t=e-nb,r=0;t%nv===nm;t/=nv,r++);for(n=nv;n<e&&function(e,t,r){if(r<=nm||t<nm)throw Error("Expected power/modulo > 0");if(r===nb)return nm;let n=nb;for(;t>nm;)t&nb&&(n=n*e%r),e=e*e%r,t>>=nb;return n}(n,i,e)!==e-nb;n++);if(1===r){let t=(e+nb)/nE;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+nb)/nv;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,n),t),l=e.pow(o,s),u=e.pow(o,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(c,nb<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),a=t}return l}}(e)}(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:nh(i),ZERO:nm,ONE:nb,create:t=>nP(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return nm<=t&&t<e},is0:e=>e===nm,isOdd:e=>(e&nb)===nb,neg:t=>nP(-t,e),eql:(e,t)=>e===t,sqr:t=>nP(t*t,e),add:(t,r)=>nP(t+r,e),sub:(t,r)=>nP(t-r,e),mul:(t,r)=>nP(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<nm)throw Error("Expected power > 0");if(r===nm)return e.ONE;if(r===nb)return t;let n=e.ONE,i=t;for(;r>nm;)r&nb&&(n=e.mul(n,i)),i=e.sqr(i),r>>=nb;return n})(a,e,t),div:(t,r)=>nP(t*nI(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>nI(t,e),sqrt:n.sqrt||(e=>o(a,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?nc(e,s):na(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?no(e):ns(e)}});return Object.freeze(a)}(nL,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%nL,l=c*c*e%nL,u=nT(l,t,nL)*l%nL,h=nT(u,t,nL)*l%nL,d=nT(h,n$,nL)*c%nL,f=nT(d,n,nL)*d%nL,p=nT(f,i,nL)*f%nL,g=nT(p,o,nL)*p%nL,y=nT(g,a,nL)*g%nL,m=nT(y,o,nL)*p%nL,b=nT(m,t,nL)*l%nL,v=nT(b,s,nL)*f%nL,w=nT(v,r,nL)*c%nL,E=nT(w,n$,nL);if(!nV.eql(nV.sqr(E),e))throw Error("Cannot find square root");return E}}),nH=function(e,t){let r=t=>(function(e){let t=function(e){let t=nB(e);return ny(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return nP(e,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:u}=function(e){let t=function(e){let t=nB(e);ny(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return nu(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function o(e){return"bigint"==typeof e&&nW<e&&e<t.n}function a(e){if(!o(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:o}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=nr(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:ns(nl("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(r=nP(r,o)),a(r),r}let l=new Map;function u(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?h.ZERO:new h(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(i(nl("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),o=s(e);if(!r.eql(i,o))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){u(e);let{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,nF),{px:s,py:o,pz:a}=this,c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),u=r.mul(s,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(i,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(g,c),u=r.mul(i,u),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,g),l=r.add(l,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,g),c=r.sub(c,d),u=r.mul(p,f),u=r.add(u,u),new h(c,l,u=r.add(u,u))}add(e){u(e);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e,l=r.ZERO,d=r.ZERO,f=r.ZERO,p=t.a,g=r.mul(t.b,nF),y=r.mul(n,o),m=r.mul(i,a),b=r.mul(s,c),v=r.add(n,i),w=r.add(o,a);v=r.mul(v,w),w=r.add(y,m),v=r.sub(v,w),w=r.add(n,s);let E=r.add(o,c);return w=r.mul(w,E),E=r.add(y,b),w=r.sub(w,E),E=r.add(i,s),l=r.add(a,c),E=r.mul(E,l),l=r.add(m,b),E=r.sub(E,l),f=r.mul(p,w),l=r.mul(g,b),f=r.add(l,f),l=r.sub(m,f),f=r.add(m,f),d=r.mul(l,f),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),w=r.mul(g,w),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),w=r.add(w,b),y=r.mul(m,w),d=r.add(d,y),y=r.mul(E,w),l=r.mul(v,l),l=r.sub(l,y),y=r.mul(v,m),f=r.mul(E,f),new h(l,d,f=r.add(f,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)})}multiplyUnsafe(e){let n=h.ZERO;if(e===nW)return n;if(a(e),e===nU)return this;let{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=n,d=n,p=this;for(;o>nW||l>nW;)o&nU&&(u=u.add(p)),l&nU&&(d=d.add(p)),p=p.double(),o>>=nU,l>>=nU;return s&&(u=u.negate()),c&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(e){let n,i;a(e);let{endo:s}=t;if(s){let{k1neg:t,k1:o,k2neg:a,k2:c}=s.splitScalar(e),{p:l,f:u}=this.wNAF(o),{p:d,f:p}=this.wNAF(c);l=f.constTimeNegate(t,l),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=l.add(d),i=u.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=h.BASE,i=(e,t)=>t!==nW&&t!==nU&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===nU)return!0;if(r)return r(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===nU?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(h,this,e)}toHex(e=!0){return nr(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let d=t.nBitLength,f=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>nR;)r&nM&&(n=n.add(i)),i=i.double(),r>>=nM;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){let{windows:o,windowSize:a}=n(t),c=e.ZERO,l=e.BASE,u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){let t=e*a,n=Number(s&u);s>>=d,n>a&&(n-=h,s+=nM);let o=t+Math.abs(n)-1,f=e%2!=0,p=n<0;0===n?l=l.add(r(f,i[t])):c=c.add(r(p,i[o]))}return{p:c,f:l}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),o=nu;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],o=e.subarray(1);if(t===i&&(2===n||3===n)){let e=ns(o);if(!(nW<e&&e<r.ORDER))throw Error("Point is not on curve");let t=l(e),i=r.sqrt(t);return(1&n)==1!=((i&nU)===nU)&&(i=r.neg(i)),{x:e,y:i}}if(t===s&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),h=e=>nr(na(e,t.nByteLength)),d=(e,t,r)=>ns(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(d(e=nl("compactSignature",e,2*r),0,r),d(e,r,2*r))}static fromDER(e){let{r:t,s:r}=nk.toSig(nl("DER",e));return new f(t,r)}assertValidity(){if(!u(this.r))throw Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:c}=this,l=y(nl("msgHash",e));if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");let u=2===c||3===c?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&c)==0?"02":"03",f=a.fromHex(d+h(u)),p=nI(u,n),g=o(-l*p),m=o(s*p),b=a.BASE.multiplyAndAddUnsafe(f,g,m);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>nU}normalizeS(){return this.hasHighS()?new f(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ni(this.toDERHex())}toDERHex(){return nk.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ni(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}function p(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof a}let g=t.bits2int||function(e){let r=ns(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},y=t.bits2int_modN||function(e){return o(g(e))},m=nh(t.nBitLength);function b(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(nW<=e&&e<m))throw Error(`bigint expected < 2^${t.nBitLength}`);return na(e,t.nByteLength)}let v={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return a.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return a.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,i,s=v){let{seed:l,k2sig:h}=function(e,i,s=v){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:l,randomBytes:h}=t,{lowS:d,prehash:p,extraEntropy:m}=s;null==d&&(d=!0),e=nl("msgHash",e),p&&(e=nl("prehashed msgHash",l(e)));let w=y(e),E=c(i),A=[b(E),b(w)];if(null!=m){let e=!0===m?h(r.BYTES):m;A.push(nl("extraEntropy",e))}return{seed:nu(...A),k2sig:function(e){let t=g(e);if(!u(t))return;let r=nI(t,n),i=a.BASE.multiply(t).toAffine(),s=o(i.x);if(s===nW)return;let c=o(r*o(w+s*E));if(c===nW)return;let l=(i.x===s?0:2)|Number(i.y&nU),h=c;if(d&&c>n>>nU)h=c>n>>nU?o(-c):c,l^=1;return new f(s,h,l)}}}(e,i,s);return np(t.hash.outputLen,t.nByteLength,t.hmac)(l,h)},verify:function(e,r,i,s=w){let c,l;if(r=nl("msgHash",r),i=nl("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:u,prehash:h}=s;try{if("string"==typeof e||e instanceof Uint8Array)try{l=f.fromDER(e)}catch(t){if(!(t instanceof nk.Err))throw t;l=f.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;l=new f(t,r)}else throw Error("PARSE");c=a.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&l.hasHighS())return!1;h&&(r=t.hash(r));let{r:d,s:p}=l,g=y(r),m=nI(p,n),b=o(g*m),v=o(d*m),E=a.BASE.multiplyAndAddUnsafe(c,b,v)?.toAffine();return!!E&&o(E.x)===d},ProjectivePoint:a,Signature:f,utils:{isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=nx(t.n);return function(e,t,r=!1){let n=e.length,i=nO(t),s=nx(t);if(n<16||n<s||n>1024)throw Error(`expected ${s}-1024 bytes of input, got ${n}`);let o=nP(r?ns(e):no(e),t-nb)+nb;return r?nc(o,i):na(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=a.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>tj(t,e,function(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!tS(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(...r)),randomBytes:tF});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:nV,n:nj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-nz*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=nq(t*e,nj),o=nq(-r*e,nj),a=nP(e-s*t-o*n,nj),c=nP(-s*r-o*t,nj),l=a>i,u=c>i;if(l&&(a=nj-a),u&&(c=nj-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:a,k2neg:u,k2:c}}}},tZ);BigInt(0),nH.ProjectivePoint;class nG{#c;constructor(e){eZ(32===e7(e),"invalid private key","privateKey","[REDACTED]"),this.#c=e8(e)}get privateKey(){return this.#c}get publicKey(){return nG.computePublicKey(this.#c)}get compressedPublicKey(){return nG.computePublicKey(this.#c,!0)}sign(e){eZ(32===e7(e),"invalid digest length","digest",e);let t=nH.sign(e3(e),e3(this.#c),{lowS:!0});return tE.from({r:th(t.r,32),s:th(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=nG.computePublicKey(e);return e8(nH.getSharedSecret(e3(this.#c),e2(t),!1))}static computePublicKey(e,t){let r=e2(e,"key");if(32===r.length)return e8(nH.getPublicKey(r,!!t));if(64===r.length){let e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return e8(nH.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){eZ(32===e7(e),"invalid digest length","digest",e);let r=tE.from(t),n=nH.Signature.fromCompact(e3(e9([r.r,r.s]))),i=(n=n.addRecoveryBit(r.yParity)).recoverPublicKey(e3(e));return eZ(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){let n=nH.ProjectivePoint.fromHex(nG.computePublicKey(e).substring(2)),i=nH.ProjectivePoint.fromHex(nG.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}function nK(e){return r8(rU("0x"+("string"==typeof e?nG.computePublicKey(e,!1):e.publicKey).substring(4)).substring(26))}function nJ(e,t){return nK(nG.recoverPublicKey(e,t))}let nZ=new Uint8Array(32),nY=["then"],nQ={},nX=new WeakMap;function n0(e){return nX.get(e)}function n1(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class n2 extends Array{#l;constructor(...e){var t,r;let n=e[0],i=e[1],s=(e[2]||[]).slice(),o=!0;n!==nQ&&(i=e,s=[],o=!1),super(i.length),i.forEach((e,t)=>{this[t]=e});let a=s.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(t=Object.freeze(i.map((e,t)=>{let r=s[t];return null!=r&&1===a.get(r)?r:null})),nX.set(this,t),this.#l=[],null==this.#l&&this.#l,!o)return;Object.freeze(this);let c=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=tu(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let n=e[r];return n instanceof Error&&n1(`index ${r}`,n),n}if(nY.indexOf(t)>=0)return Reflect.get(e,t,r);let n=e[t];if(n instanceof Function)return function(...t){return n.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return r=n0(this),nX.set(c,r),c}toArray(e){let t=[];return this.forEach((r,n)=>{r instanceof Error&&n1(`index ${n}`,r),e&&r instanceof n2&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=n0(this);return t.reduce((r,n,i)=>(eJ(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function e(t,r,n){return t.indexOf(null)>=0?r.map((t,r)=>t instanceof n2?e(n0(t),t,n):t):t.reduce((t,i,s)=>{let o=r.getValue(i);return i in t||(n&&o instanceof n2&&(o=e(n0(o),o,n)),t[i]=o),t},{})}(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=n0(this),n=[],i=[];for(let s=e;s<t;s++)n.push(this[s]),i.push(r[s]);return new n2(nQ,n,i)}filter(e,t){let r=n0(this),n=[],i=[];for(let s=0;s<this.length;s++){let o=this[s];o instanceof Error&&n1(`index ${s}`,o),e.call(t,o,s,this)&&(n.push(o),i.push(r[s]))}return new n2(nQ,n,i)}map(e,t){let r=[];for(let n=0;n<this.length;n++){let i=this[n];i instanceof Error&&n1(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){let t=n0(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&n1(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new n2(nQ,e,t)}}function n3(e){let t=td(e);return eJ(t.length<=32,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:32,offset:t.length}),32!==t.length&&(t=e3(e9([nZ.slice(t.length%32),t]))),t}class n6{name;type;localName;dynamic;constructor(e,t,r,n){eV(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){eZ(!1,e,this.localName,t)}}class n4{#i;#u;constructor(){this.#i=[],this.#u=0}get data(){return e9(this.#i)}get length(){return this.#u}#h(e){return this.#i.push(e),this.#u+=e.length,e.length}appendWriter(e){return this.#h(e3(e.data))}writeBytes(e){let t=e3(e),r=t.length%32;return r&&(t=e3(e9([t,nZ.slice(r)]))),this.#h(t)}writeValue(e){return this.#h(n3(e))}writeUpdatableValue(){let e=this.#i.length;return this.#i.push(nZ),this.#u+=32,t=>{this.#i[e]=n3(t)}}}class n5{allowLoose;#i;#d;#f;#p;#g;constructor(e,t,r){eV(this,{allowLoose:!!t}),this.#i=e3(e),this.#f=0,this.#p=null,this.#g=null!=r?r:1024,this.#d=0}get data(){return e8(this.#i)}get dataLength(){return this.#i.length}get consumed(){return this.#d}get bytes(){return new Uint8Array(this.#i)}#y(e){if(this.#p)return this.#p.#y(e);this.#f+=e,eJ(this.#g<1||this.#f<=this.#g*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#g} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:e3(this.#i),offset:this.#d,length:e,info:{bytesRead:this.#f,dataLength:this.dataLength}})}#m(e,t,r){let n=32*Math.ceil(t/32);return this.#d+n>this.#i.length&&(this.allowLoose&&r&&this.#d+t<=this.#i.length?n=t:eJ(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:e3(this.#i),length:this.#i.length,offset:this.#d+n})),this.#i.slice(this.#d,this.#d+n)}subReader(e){let t=new n5(this.#i.slice(this.#d+e),this.allowLoose,this.#g);return t.#p=this,t}readBytes(e,t){let r=this.#m(0,e,!!t);return this.#y(e),this.#d+=r.length,r.slice(0,e)}readValue(){return tl(this.readBytes(32))}readIndex(){return tu(tl(this.readBytes(32)))}}let n8={};function n9(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new it(n8,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function n7(e,t){return new it(n8,`bytes${t||""}`,e,{size:t})}let ie=Symbol.for("_ethers_typed");class it{type;value;#b;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),e0(n8,e,"Typed"),eV(this,{_typedSymbol:ie,type:t,value:r}),this.#b=n,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#b}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#b?-1:!1===this.#b?this.value.length:null}static from(e,t){return new it(n8,e,t)}static uint8(e){return n9(e,8)}static uint16(e){return n9(e,16)}static uint24(e){return n9(e,24)}static uint32(e){return n9(e,32)}static uint40(e){return n9(e,40)}static uint48(e){return n9(e,48)}static uint56(e){return n9(e,56)}static uint64(e){return n9(e,64)}static uint72(e){return n9(e,72)}static uint80(e){return n9(e,80)}static uint88(e){return n9(e,88)}static uint96(e){return n9(e,96)}static uint104(e){return n9(e,104)}static uint112(e){return n9(e,112)}static uint120(e){return n9(e,120)}static uint128(e){return n9(e,128)}static uint136(e){return n9(e,136)}static uint144(e){return n9(e,144)}static uint152(e){return n9(e,152)}static uint160(e){return n9(e,160)}static uint168(e){return n9(e,168)}static uint176(e){return n9(e,176)}static uint184(e){return n9(e,184)}static uint192(e){return n9(e,192)}static uint200(e){return n9(e,200)}static uint208(e){return n9(e,208)}static uint216(e){return n9(e,216)}static uint224(e){return n9(e,224)}static uint232(e){return n9(e,232)}static uint240(e){return n9(e,240)}static uint248(e){return n9(e,248)}static uint256(e){return n9(e,256)}static uint(e){return n9(e,256)}static int8(e){return n9(e,-8)}static int16(e){return n9(e,-16)}static int24(e){return n9(e,-24)}static int32(e){return n9(e,-32)}static int40(e){return n9(e,-40)}static int48(e){return n9(e,-48)}static int56(e){return n9(e,-56)}static int64(e){return n9(e,-64)}static int72(e){return n9(e,-72)}static int80(e){return n9(e,-80)}static int88(e){return n9(e,-88)}static int96(e){return n9(e,-96)}static int104(e){return n9(e,-104)}static int112(e){return n9(e,-112)}static int120(e){return n9(e,-120)}static int128(e){return n9(e,-128)}static int136(e){return n9(e,-136)}static int144(e){return n9(e,-144)}static int152(e){return n9(e,-152)}static int160(e){return n9(e,-160)}static int168(e){return n9(e,-168)}static int176(e){return n9(e,-176)}static int184(e){return n9(e,-184)}static int192(e){return n9(e,-192)}static int200(e){return n9(e,-200)}static int208(e){return n9(e,-208)}static int216(e){return n9(e,-216)}static int224(e){return n9(e,-224)}static int232(e){return n9(e,-232)}static int240(e){return n9(e,-240)}static int248(e){return n9(e,-248)}static int256(e){return n9(e,-256)}static int(e){return n9(e,-256)}static bytes1(e){return n7(e,1)}static bytes2(e){return n7(e,2)}static bytes3(e){return n7(e,3)}static bytes4(e){return n7(e,4)}static bytes5(e){return n7(e,5)}static bytes6(e){return n7(e,6)}static bytes7(e){return n7(e,7)}static bytes8(e){return n7(e,8)}static bytes9(e){return n7(e,9)}static bytes10(e){return n7(e,10)}static bytes11(e){return n7(e,11)}static bytes12(e){return n7(e,12)}static bytes13(e){return n7(e,13)}static bytes14(e){return n7(e,14)}static bytes15(e){return n7(e,15)}static bytes16(e){return n7(e,16)}static bytes17(e){return n7(e,17)}static bytes18(e){return n7(e,18)}static bytes19(e){return n7(e,19)}static bytes20(e){return n7(e,20)}static bytes21(e){return n7(e,21)}static bytes22(e){return n7(e,22)}static bytes23(e){return n7(e,23)}static bytes24(e){return n7(e,24)}static bytes25(e){return n7(e,25)}static bytes26(e){return n7(e,26)}static bytes27(e){return n7(e,27)}static bytes28(e){return n7(e,28)}static bytes29(e){return n7(e,29)}static bytes30(e){return n7(e,30)}static bytes31(e){return n7(e,31)}static bytes32(e){return n7(e,32)}static address(e){return new it(n8,"address",e)}static bool(e){return new it(n8,"bool",!!e)}static bytes(e){return new it(n8,"bytes",e)}static string(e){return new it(n8,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new it(n8,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===ie}static dereference(e,t){if(it.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class ir extends n6{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=it.dereference(t,"string");try{r=r8(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return r8(th(e.readValue(),20))}}class ii extends n6{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function is(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return eJ(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),eJ(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]})}else eZ(!1,"invalid tuple value","tuple",r);eZ(t.length===n.length,"types/value length mismatch","tuple",r);let i=new n4,s=new n4,o=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();o.push(e=>{n(e+t)})}else e.encode(i,r)}),o.forEach(e=>{e(i.length)}),e.appendWriter(i)+e.appendWriter(s)}function io(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{s=t.decode(n)}catch(e){if(eG(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if(eG(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw Error("investigate");r.push(s),n.push(t.localName||null)}),n2.fromItems(r,n)}class ia extends n6{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),eV(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=it.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),eY(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return is(e,i,r)}decode(e){let t=this.length;-1===t&&eJ(32*(t=e.readIndex())<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:32*t,length:e.dataLength});let r=[];for(let e=0;e<t;e++)r.push(new ii(this.coder));return io(e,r)}}class ic extends n6{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=it.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class il extends n6{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=e3(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class iu extends il{constructor(e){super("bytes",e)}decode(e){return e8(super.decode(e))}}class ih extends n6{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),eV(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=e3(it.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e8(e.readBytes(this.size))}}let id=new Uint8Array([]);class ip extends n6{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(id)}decode(e){return e.readBytes(0),null}}let ig=BigInt(0),iy=BigInt(1),im=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ib extends n6{size;signed;constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),eV(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=to(it.dereference(t,this.type)),n=ts(im,256);if(this.signed){let e=ts(n,8*this.size-1);(r>e||r<-(e+iy))&&this._throwError("value out-of-bounds",t),r=ti(r,256)}else(r<ig||r>ts(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=ts(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){let r=ta(e,"value"),n=BigInt(tu(t,"width"));return(eJ(r>>n===tr,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-tn)?-((~r&(tn<<n)-tn)+tn):r}(t,8*this.size)),t}}class iv extends il{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,rb(it.dereference(t,"string")))}decode(e){return rv(super.decode(e))}}class iw extends n6{coders;constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),eV(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){let r=it.dereference(t,"tuple");return is(e,this.coders,r)}decode(e){return io(e,this.coders)}}function iE(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}iE("external public payable override".split(" "));let iA="constant external internal payable private public pure view override";iE(iA.split(" "));let i_="constructor error event fallback function receive struct";iE(i_.split(" "));let iP="calldata memory storage payable indexed",iT=iE(iP.split(" ")),iI=iE([i_,iP,"tuple returns",iA].join(" ").split(" ")),iC={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},iS=RegExp("^(\\s*)"),iO=RegExp("^([0-9]+)"),ix=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),iR=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),iM=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class iB{#d;#v;get offset(){return this.#d}get length(){return this.#v.length-this.#d}constructor(e){this.#d=0,this.#v=e.slice()}clone(){return new iB(this.#v)}reset(){this.#d=0}#w(e=0,t=0){return new iB(this.#v.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#w(this.#d+1,e.match+1);return this.#d=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#d<e.match-1;){let e=this.peek().linkNext;t.push(this.#w(this.#d+1,e)),this.#d=e}return this.#d=e.match+1,t}peek(){if(this.#d>=this.#v.length)throw Error("out-of-bounds");return this.#v[this.#d]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#d++,e}toString(){let e=[];for(let t=this.#d;t<this.#v.length;t++){let r=this.#v[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function iN(e,t){let r=new Set;for(;;){let n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}let iD=new RegExp(/^(.*)\[([0-9]*)\]$/);function ik(e){let t=e.match(iM);if(eZ(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);eZ(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);eZ(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let iW={},iU=Symbol.for("_ethers_internal"),iF="_ParamTypeInternal";class iL{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,s,o,a){if(e0(e,iW,"ParamType"),Object.defineProperty(this,iU,{value:iF}),s&&(s=Object.freeze(s.slice())),"array"===n){if(null==o||null==a)throw Error("")}else if(null!=o||null!=a)throw Error("");if("tuple"===n){if(null==s)throw Error("")}else if(null!=s)throw Error("");eV(this,{name:t,type:r,baseType:n,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?t+=this.arrayChildren.format(e)+`[${this.arrayLength<0?"":String(this.arrayLength)}]`:this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,n)=>r.components[n].walk(e,t))}return t(this.type,e)}#E(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let i=this.arrayChildren,s=t.slice();s.forEach((t,n)=>{i.#E(e,t,r,e=>{s[n]=e})}),n(s);return}if(this.isTuple()){let i;let s=this.components;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");i=s.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(i.length!==this.components.length)throw Error("array is wrong length");i.forEach((t,n)=>{s[n].#E(e,t,r,e=>{i[n]=e})}),n(i);return}let i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){let r=[],n=[e];return this.#E(r,e,t,e=>{n[0]=e}),r.length&&await Promise.all(r),n[0]}static from(e,t){if(iL.isParamType(e))return e;if("string"==typeof e)try{return iL.from(function(e){let t=[],r=t=>{let r=s<e.length?JSON.stringify(e[s]):"$EOI";throw Error(`invalid token ${r} at ${s}: ${t}`)},n=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(iS);a&&(s+=a[1].length,o=e.substring(s));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=iC[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===n.length&&r("no matching open bracket"),c.match=n.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=tu(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(a=o.match(ix)){if(c.text=a[1],s+=c.text.length,iI.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(iM)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(iO)){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new iB(t.map(e=>Object.freeze(e)))}(e),t)}catch(t){eZ(!1,"invalid param type","obj",e)}else if(e instanceof iB){let r="",n="",i=null;iN(e,iE(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map(e=>iL.from(e)),r=`tuple(${i.map(e=>e.format()).join(",")})`):n=r=ik(e.popType("TYPE"));let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();s=new iL(iW,"",r,n,null,i,o,s),o=t.value,r+=t.text,n="array",i=null}let a=null;if(iN(e,iT).has("indexed")){if(!t)throw Error("");a=!0}let c=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new iL(iW,c,r,n,a,i,o,s)}let r=e.name;eZ(!r||"string"==typeof r&&r.match(iR),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(eZ(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,s=i.match(iD);if(s){let t=parseInt(s[2]||"-1"),o=iL.from({type:s[1],components:e.components});return new iL(iW,r||"",i,"array",n,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){let t=null!=e.components?e.components.map(e=>iL.from(e)):null;return new iL(iW,r||"",i,"tuple",n,t,null,null)}return new iL(iW,r||"",i=ik(e.type),i,n,null,null,null)}static isParamType(e){return e&&e[iU]===iF}}let ij=new Map;ij.set(0,"GENERIC_PANIC"),ij.set(1,"ASSERT_FALSE"),ij.set(17,"OVERFLOW"),ij.set(18,"DIVIDE_BY_ZERO"),ij.set(33,"ENUM_RANGE_ERROR"),ij.set(34,"BAD_STORAGE_DATA"),ij.set(49,"STACK_UNDERFLOW"),ij.set(50,"ARRAY_RANGE_ERROR"),ij.set(65,"OUT_OF_MEMORY"),ij.set(81,"UNINITIALIZED_FUNCTION_CALL");let iz=new RegExp(/^bytes([0-9]*)$/),i$=new RegExp(/^(u?int)([0-9]*)$/),iq=null,iV=1024;class iH{#A(e){if(e.isArray())return new ia(this.#A(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new iw(e.components.map(e=>this.#A(e)),e.name);switch(e.baseType){case"address":return new ir(e.name);case"bool":return new ic(e.name);case"string":return new iv(e.name);case"bytes":return new iu(e.name);case"":return new ip(e.name)}let t=e.type.match(i$);if(t){let r=parseInt(t[2]||"256");return eZ(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new ib(r/8,"int"===t[1],e.name)}if(t=e.type.match(iz)){let r=parseInt(t[1]);return eZ(0!==r&&r<=32,"invalid bytes length","param",e),new ih(r,e.name)}eZ(!1,"invalid type","type",e.type)}getDefaultValue(e){return new iw(e.map(e=>this.#A(iL.from(e))),"_").defaultValue()}encode(e,t){eY(t.length,e.length,"types/values length mismatch");let r=new iw(e.map(e=>this.#A(iL.from(e))),"_"),n=new n4;return r.encode(n,t),n.data}decode(e,t,r){return new iw(e.map(e=>this.#A(iL.from(e))),"_").decode(new n5(t,r,iV))}static _setDefaultMaxInflation(e){eZ("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),iV=e}static defaultAbiCoder(){return null==iq&&(iq=new iH),iq}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",s=null,o=null;if(r){i="execution reverted";let e=e2(r);if(r=e8(r),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===e8(e.slice(0,4)))try{s=n.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===e8(e.slice(0,4)))try{let t=Number(n.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${ij.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let a={to:t.to?r8(t.to):null,data:t.data||"0x"};return t.from&&(a.from=r8(t.from)),eK(i,"CALL_EXCEPTION",{action:e,data:r,reason:s,transaction:a,invocation:null,revert:o})}(e,t,r,iH.defaultAbiCoder())}}let iG=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),iK=Uint8Array.from({length:16},(e,t)=>t),iJ=iK.map(e=>(9*e+5)%16),iZ=[iK],iY=[iJ];for(let e=0;e<4;e++)for(let t of[iZ,iY])t.push(t[e].map(e=>iG[e]));let iQ=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),iX=iZ.map((e,t)=>e.map(e=>iQ[t][e])),i0=iY.map((e,t)=>e.map(e=>iQ[t][e])),i1=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),i2=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),i3=(e,t)=>e<<t|e>>>32-t;function i6(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}let i4=new Uint32Array(16);class i5 extends t${constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)i4[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,o=0|this.h2,a=o,c=0|this.h3,l=c,u=0|this.h4,h=u;for(let e=0;e<5;e++){let t=4-e,d=i1[e],f=i2[e],p=iZ[e],g=iY[e],y=iX[e],m=i0[e];for(let t=0;t<16;t++){let n=i3(r+i6(e,i,o,c)+i4[p[t]]+d,y[t])+u|0;r=u,u=c,c=0|i3(o,10),o=i,i=n}for(let e=0;e<16;e++){let r=i3(n+i6(t,s,a,l)+i4[g[e]]+f,m[e])+h|0;n=h,h=l,l=0|i3(a,10),a=s,s=r}}this.set(this.h1+o+l|0,this.h2+c+h|0,this.h3+u+n|0,this.h4+r+s|0,this.h0+i+a|0)}roundClean(){i4.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let i8=tU(()=>new i5),i9=!1,i7=function(e){return i8(e)},se=i7;function st(e){let t=e2(e,"data");return e8(se(t))}st._=i7,st.lock=function(){i9=!0},st.register=function(e){if(i9)throw TypeError("ripemd160 is locked");se=e},Object.freeze(st);let sr=!1,sn=function(e){return new Uint8Array(function(e){eJ(null!=rr,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),eZ(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);let t=new Uint8Array(e);return rr.getRandomValues(t),t}(e))},si=sn;function ss(e){return si(e)}async function so(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(eJ("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),eZ(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),r8(r)}function sa(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?r8(e):(eJ(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),so(e,t.resolveName(e))):e&&"function"==typeof e.getAddress?so(e,e.getAddress()):e&&"function"==typeof e.then?so(e,e):void eZ(!1,"unsupported addressable value","target",e)}ss._=sn,ss.lock=function(){sr=!0},ss.register=function(e){if(sr)throw Error("randomBytes is locked");si=e},Object.freeze(ss);let sc="0x0000000000000000000000000000000000000000";function sl(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function su(e,t,r,n){let i=[];for(;r<t+1+n;){let s=sh(e,r);i.push(s.result),eJ((r+=s.consumed)<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function sh(e,t){eJ(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let r=t=>{eJ(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){let n=e[t]-247;r(t+1+n);let i=sl(e,t+1,n);return r(t+1+n+i),su(e,t,t+1+n,n+i)}if(e[t]>=192){let n=e[t]-192;return r(t+1+n),su(e,t,t+1,n)}if(e[t]>=184){let n=e[t]-183;r(t+1+n);let i=sl(e,t+1,n);r(t+1+n+i);let s=e8(e.slice(t+1+n,t+1+n+i));return{consumed:1+n+i,result:s}}if(e[t]>=128){let n=e[t]-128;r(t+1+n);let i=e8(e.slice(t+1,t+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:function(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}(e[t])}}function sd(e){let t=e2(e,"data"),r=sh(t,0);return eZ(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function sf(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}let sp="0123456789abcdef";function sg(e){let t="0x";for(let r of function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=sf(r.length);return n.unshift(247+n.length),n.concat(r)}let r=Array.prototype.slice.call(e2(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=sf(r.length);return n.unshift(183+n.length),n.concat(r)}(e))t+=sp[r>>4]+sp[15&r];return t}function sy(e,t){return{address:r8(e),storageKeys:t.map((e,t)=>(eZ(e6(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function sm(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(eZ(2===t.length,"invalid slot set",`value[${r}]`,t),sy(t[0],t[1])):(eZ(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),sy(t.address,t.storageKeys)));eZ(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return sy(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}let sb=BigInt(0),sv=BigInt(2),sw=BigInt(27),sE=BigInt(28),sA=BigInt(35),s_=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function sP(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return"0x"+(r+=ru(t).substring(4))}function sT(e){return"0x"===e?null:r8(e)}function sI(e,t){try{return sm(e)}catch(r){eZ(!1,r.message,t,e)}}function sC(e,t){return"0x"===e?0:tu(e,t)}function sS(e,t){if("0x"===e)return sb;let r=to(e,t);return eZ(r<=s_,"value exceeds uint size",t,r),r}function sO(e,t){let r=to(e,"value"),n=td(r);return eZ(n.length<=32,"value too large",`tx.${t}`,r),n}function sx(e){return sm(e).map(e=>[e.address,e.storageKeys])}function sR(e,t){let r;try{if(r=sC(t[0],"yParity"),0!==r&&1!==r)throw Error("bad yParity")}catch(e){eZ(!1,"invalid yParity","yParity",t[0])}let n=tt(t[1],32),i=tt(t[2],32),s=tE.from({r:n,s:i,yParity:r});e.signature=s}class sM{#_;#P;#i;#T;#I;#C;#S;#O;#x;#R;#M;#B;#N;#D;#k;#W;get type(){return this.#_}set type(e){switch(e){case null:this.#_=null;break;case 0:case"legacy":this.#_=0;break;case 1:case"berlin":case"eip-2930":this.#_=1;break;case 2:case"london":case"eip-1559":this.#_=2;break;case 3:case"cancun":case"eip-4844":this.#_=3;break;default:eZ(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let e=this.#P;return null==e&&3===this.type?sc:e}set to(e){this.#P=null==e?null:r8(e)}get nonce(){return this.#T}set nonce(e){this.#T=tu(e,"value")}get gasLimit(){return this.#I}set gasLimit(e){this.#I=to(e)}get gasPrice(){let e=this.#C;return null==e&&(0===this.type||1===this.type)?sb:e}set gasPrice(e){this.#C=null==e?null:to(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#S;return null==e?2===this.type||3===this.type?sb:null:e}set maxPriorityFeePerGas(e){this.#S=null==e?null:to(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#O;return null==e?2===this.type||3===this.type?sb:null:e}set maxFeePerGas(e){this.#O=null==e?null:to(e,"maxFeePerGas")}get data(){return this.#i}set data(e){this.#i=e8(e)}get value(){return this.#x}set value(e){this.#x=to(e,"value")}get chainId(){return this.#R}set chainId(e){this.#R=to(e)}get signature(){return this.#M||null}set signature(e){this.#M=null==e?null:tE.from(e)}get accessList(){let e=this.#B||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#B=null==e?null:sm(e)}get maxFeePerBlobGas(){let e=this.#N;return null==e&&3===this.type?sb:e}set maxFeePerBlobGas(e){this.#N=null==e?null:to(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#D;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){eZ(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)eZ(e6(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#D=e}get blobs(){return null==this.#W?null:this.#W.map(e=>Object.assign({},e))}set blobs(e){if(null==e){this.#W=null;return}let t=[],r=[];for(let n=0;n<e.length;n++){let i=e[n];if(e4(i)){eJ(this.#k,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=e2(i);if(eZ(e.length<=131072,"blob is too large",`blobs[${n}]`,i),131072!==e.length){let t=new Uint8Array(131072);t.set(e),e=t}let s=this.#k.blobToKzgCommitment(e),o=e8(this.#k.computeBlobKzgProof(e,s));t.push({data:e8(e),commitment:e8(s),proof:o}),r.push(sP(1,s))}else{let e=e8(i.commitment);t.push({data:e8(i.data),commitment:e,proof:e8(i.proof)}),r.push(sP(1,e))}}this.#W=t,this.#D=r}get kzg(){return this.#k}set kzg(e){this.#k=e}constructor(){this.#_=null,this.#P=null,this.#T=0,this.#I=sb,this.#C=null,this.#S=null,this.#O=null,this.#i="0x",this.#x=sb,this.#R=sb,this.#M=null,this.#B=null,this.#N=null,this.#D=null,this.#W=null,this.#k=null}get hash(){return null==this.signature?null:rU(this.#U(!0,!1))}get unsignedHash(){return rU(this.unsignedSerialized)}get from(){return null==this.signature?null:nJ(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:nG.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#U(e,t){eJ(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){let r=[sO(e.nonce,"nonce"),sO(e.gasPrice||0,"gasPrice"),sO(e.gasLimit,"gasLimit"),e.to||"0x",sO(e.value,"value"),e.data],n=sb;if(e.chainId!=sb)n=to(e.chainId,"tx.chainId"),eZ(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==sb&&(r.push(td(n)),r.push("0x"),r.push("0x")),sg(r);let i=BigInt(27+t.yParity);return n!==sb?i=tE.getChainIdV(n,t.v):BigInt(t.v)!==i&&eZ(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(td(i)),r.push(td(t.r)),r.push(td(t.s)),sg(r)}(this,r);case 1:return function(e,t){let r=[sO(e.chainId,"chainId"),sO(e.nonce,"nonce"),sO(e.gasPrice||0,"gasPrice"),sO(e.gasLimit,"gasLimit"),e.to||"0x",sO(e.value,"value"),e.data,sx(e.accessList||[])];return t&&(r.push(sO(t.yParity,"recoveryParam")),r.push(td(t.r)),r.push(td(t.s))),e9(["0x01",sg(r)])}(this,r);case 2:return function(e,t){let r=[sO(e.chainId,"chainId"),sO(e.nonce,"nonce"),sO(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),sO(e.maxFeePerGas||0,"maxFeePerGas"),sO(e.gasLimit,"gasLimit"),e.to||"0x",sO(e.value,"value"),e.data,sx(e.accessList||[])];return t&&(r.push(sO(t.yParity,"yParity")),r.push(td(t.r)),r.push(td(t.s))),e9(["0x02",sg(r)])}(this,r);case 3:return function(e,t,r){let n=[sO(e.chainId,"chainId"),sO(e.nonce,"nonce"),sO(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),sO(e.maxFeePerGas||0,"maxFeePerGas"),sO(e.gasLimit,"gasLimit"),e.to||sc,sO(e.value,"value"),e.data,sx(e.accessList||[]),sO(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,t){eZ(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)eZ(e6(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push(sO(t.yParity,"yParity")),n.push(td(t.r)),n.push(td(t.s)),r)?e9(["0x03",sg([n,r.map(e=>e.data),r.map(e=>e.commitment),r.map(e=>e.proof)])]):e9(["0x03",sg(n)])}(this,r,t?this.blobs:null)}eJ(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#U(!0,!0)}get unsignedSerialized(){return this.#U(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#N||this.#D;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&eJ(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),eJ(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),eJ(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(n&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return sM.from(this)}toJSON(){let e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new sM;if("string"==typeof e){let t=e2(e);if(t[0]>=127)return sM.from(function(e){let t=sd(e);eZ(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);let r={type:0,nonce:sC(t[0],"nonce"),gasPrice:sS(t[1],"gasPrice"),gasLimit:sS(t[2],"gasLimit"),to:sT(t[3]),value:sS(t[4],"value"),data:e8(t[5]),chainId:sb};if(6===t.length)return r;let n=sS(t[6],"v"),i=sS(t[7],"r"),s=sS(t[8],"s");if(i===sb&&s===sb)r.chainId=n;else{let e=(n-sA)/sv;e<sb&&(e=sb),r.chainId=e,eZ(e!==sb||n===sw||n===sE,"non-canonical legacy v","v",t[6]),r.signature=tE.from({r:tt(t[7],32),s:tt(t[8],32),v:n})}return r}(t));switch(t[0]){case 1:return sM.from(function(e){let t=sd(e2(e).slice(1));eZ(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",e8(e));let r={type:1,chainId:sS(t[0],"chainId"),nonce:sC(t[1],"nonce"),gasPrice:sS(t[2],"gasPrice"),gasLimit:sS(t[3],"gasLimit"),to:sT(t[4]),value:sS(t[5],"value"),data:e8(t[6]),accessList:sI(t[7],"accessList")};return 8===t.length||sR(r,t.slice(8)),r}(t));case 2:return sM.from(function(e){let t=sd(e2(e).slice(1));eZ(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",e8(e));let r={type:2,chainId:sS(t[0],"chainId"),nonce:sC(t[1],"nonce"),maxPriorityFeePerGas:sS(t[2],"maxPriorityFeePerGas"),maxFeePerGas:sS(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:sS(t[4],"gasLimit"),to:sT(t[5]),value:sS(t[6],"value"),data:e8(t[7]),accessList:sI(t[8],"accessList")};return 9===t.length||sR(r,t.slice(9)),r}(t));case 3:return sM.from(function(e){let t=sd(e2(e).slice(1)),r="3",n=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";let e=t[1],i=t[2],s=t[3];eZ(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),eZ(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),eZ(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),eZ(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),eZ(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let r=0;r<t[1].length;r++)n.push({data:e[r],commitment:i[r],proof:s[r]});t=t[0]}eZ(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",e8(e));let i={type:3,chainId:sS(t[0],"chainId"),nonce:sC(t[1],"nonce"),maxPriorityFeePerGas:sS(t[2],"maxPriorityFeePerGas"),maxFeePerGas:sS(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:sS(t[4],"gasLimit"),to:sT(t[5]),value:sS(t[6],"value"),data:e8(t[7]),accessList:sI(t[8],"accessList"),maxFeePerBlobGas:sS(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};n&&(i.blobs=n),eZ(null!=i.to,`invalid address for transaction type: ${r}`,"data",e),eZ(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<i.blobVersionedHashes.length;t++)eZ(e6(i.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||sR(i,t.slice(11)),i}(t))}eJ(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new sM;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=tE.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(eZ(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),eZ(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(eZ(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),eZ(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}let sB=BigInt(0);function sN(e){return null==e?null:e.toString()}function sD(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=e8(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=to(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=tu(e[r],`request.${r}`));return e.accessList&&(t.accessList=sm(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>e4(e)?e8(e):Object.assign({},e))),t}class sk{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#F;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#F=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:s,from:o,nonce:a,data:c,signature:l,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:sN(this.chainId),data:c,from:o,gasLimit:sN(this.gasLimit),gasPrice:sN(this.gasPrice),hash:n,maxFeePerGas:sN(this.maxFeePerGas),maxPriorityFeePerGas:sN(this.maxPriorityFeePerGas),maxFeePerBlobGas:sN(this.maxFeePerBlobGas),nonce:a,signature:l,to:s,index:r,type:i,value:sN(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await eq({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,n=null==t?0:t,i=this.#F,s=-1,o=-1===i,a=async()=>{if(o)return null;let{blockNumber:e,nonce:t}=await eq({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){i=e;return}if(o)return null;let n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===s&&(s=i-3)<this.#F&&(s=this.#F);s<=e;){if(o)return null;let t=await this.provider.getBlock(s,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){let s=await t.getTransaction(n);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;let t=await this.provider.getTransactionReceipt(s.hash);if(null==t||e-t.blockNumber+1<r)return;let n="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?n="repriced":"0x"===s.data&&s.from===s.to&&s.value===sB&&(n="cancelled"),eJ(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},c=e=>{if(null==e||0!==e.status)return e;eJ(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===r)return c(l);if(l){if(await l.confirmations()>=r)return c(l)}else if(await a(),0===r)return null;let u=new Promise((e,t)=>{let s=[],l=()=>{s.forEach(e=>e())};if(s.push(()=>{o=!0}),n>0){let e=setTimeout(()=>{l(),t(eK("wait for transaction timeout","TIMEOUT"))},n);s.push(()=>{clearTimeout(e)})}let u=async n=>{if(await n.confirmations()>=r){l();try{e(c(n))}catch(e){t(e)}}};if(s.push(()=>{this.provider.off(this.hash,u)}),this.provider.on(this.hash,u),i>=0){let e=async()=>{try{await a()}catch(e){if(eG(e,"TRANSACTION_REPLACED")){l(),t(e);return}}o||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){var e;return eJ(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),e=this,{orphan:"drop-transaction",tx:e}}reorderedEvent(e){var t;return eJ(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),eJ(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),t=this,{orphan:"reorder-transaction",tx:t,other:e}}replaceableTransaction(e){eZ(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new sk(this,this.provider);return t.#F=e,t}}function sW(e,t){if(e.provider)return e.provider;eJ(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function sU(e,t){let r=sD(t);if(null!=r.to&&(r.to=sa(r.to,e)),null!=r.from){let t=r.from;r.from=Promise.all([e.getAddress(),sa(t,e)]).then(([e,t])=>(eZ(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e))}else r.from=e.getAddress();return await eq(r)}class sF{provider;constructor(e){eV(this,{provider:e||null})}async getNonce(e){return sW(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await sU(this,e)}async populateTransaction(e){let t=sW(this,"populateTransaction"),r=await sU(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));let n=await this.provider.getNetwork();null!=r.chainId?eZ(to(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):r.chainId=n.chainId;let i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null!=r.gasPrice&&(2===r.type||i)?eZ(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===r.type||1===r.type)&&i&&eZ(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===r.type||null==r.type)&&null!=r.maxFeePerGas&&null!=r.maxPriorityFeePerGas)r.type=2;else if(0===r.type||1===r.type){let e=await t.getFeeData();eJ(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{let e=await t.getFeeData();if(null==r.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(r.type=2,null!=r.gasPrice){let e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(eJ(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):eJ(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"})}else(2===r.type||3===r.type)&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await eq(r)}async estimateGas(e){return sW(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return sW(this,"call").call(await this.populateCall(e))}async resolveName(e){let t=sW(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){let t=sW(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let n=sM.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}class sL extends sF{address;constructor(e,t){super(t),eV(this,{address:e})}async getAddress(){return this.address}connect(e){return new sL(this.address,e)}#L(e,t){eJ(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#L("transactions","signTransaction")}async signMessage(e){this.#L("messages","signMessage")}async signTypedData(e,t,r){this.#L("typed-data","signTypedData")}}let sj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",sz=null,s$=BigInt(0),sq=BigInt(58),sV=new Uint8Array(32);sV.fill(0);let sH=BigInt(-1),sG=BigInt(0),sK=BigInt(1),sJ=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),sZ=th(sK,32),sY=th(sG,32),sQ={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},sX=["name","version","chainId","verifyingContract","salt"];function s0(e){return function(t){return eZ("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let s1={name:s0("name"),version:s0("version"),chainId:function(e){let t=to(e,"domain.chainId");return(eZ(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):tf(t)},verifyingContract:function(e){try{return r8(e).toLowerCase()}catch(e){}eZ(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=e2(e,"domain.salt");return eZ(32===t.length,'invalid domain value "salt"',"domain.salt",e),e8(t)}};function s2(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let r=""===t[1],n=parseInt(t[2]);eZ(n%8==0&&0!==n&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);let i=ts(sJ,r?n-1:n),s=r?(i+sK)*sH:sG;return function(t){let n=to(t,"value");return eZ(n>=s&&n<=i,`value out-of-bounds for ${e}`,"value",n),th(r?ti(n,256):n,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return eZ(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return eZ(e2(t).length===r,`invalid length for ${e}`,"value",t),function(e){let t=e2(e),r=t.length%32;return r?e9([t,sV.slice(r)]):e8(t)}(t)}}}switch(e){case"address":return function(e){return tt(r8(e),32)};case"bool":return function(e){return e?sZ:sY};case"bytes":return function(e){return rU(e)};case"string":return function(e){return rF(e)}}return null}function s3(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function s6(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class s4{primaryType;#j;get types(){return JSON.parse(this.#j)}#z;#$;constructor(e){this.#z=new Map,this.#$=new Map;let t=new Map,r=new Map,n=new Map,i={};for(let s in Object.keys(e).forEach(s=>{i[s]=e[s].map(({name:t,type:r})=>{let{base:n,index:i}=s6(r);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:t,type:n+(i||"")}}),t.set(s,new Set),r.set(s,[]),n.set(s,new Set)}),this.#j=JSON.stringify(i),i){let n=new Set;for(let o of i[s]){eZ(!n.has(o.name),`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(s)}`,"types",e),n.add(o.name);let i=s6(o.type).base;eZ(i!==s,`circular type reference to ${JSON.stringify(i)}`,"types",e),s2(i)||(eZ(r.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),r.get(i).push(s),t.get(s).add(i))}}let s=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(let[o,a]of(eZ(0!==s.length,"missing primary type","types",e),eZ(1===s.length,`ambiguous primary types or unused types: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),eV(this,{primaryType:s[0]}),!function i(s,o){for(let a of(eZ(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s),t.get(s)))if(r.has(a))for(let e of(i(a,o),o))n.get(e).add(a);o.delete(s)}(this.primaryType,new Set),n)){let e=Array.from(a);e.sort(),this.#z.set(o,s3(o,i[o])+e.map(e=>s3(e,i[e])).join(""))}}getEncoder(e){let t=this.#$.get(e);return t||(t=this.#q(e),this.#$.set(e,t)),t}#q(e){{let t=s2(e);if(t)return t}let t=s6(e).array;if(t){let e=t.prefix,r=this.getEncoder(e);return n=>{eZ(-1===t.count||t.count===n.length,`array length mismatch; expected length ${t.count}`,"value",n);let i=n.map(r);return this.#z.has(e)&&(i=i.map(rU)),rU(e9(i))}}let r=this.types[e];if(r){let t=rF(this.#z.get(e));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this.#z.has(r)?rU(n):n});return n.unshift(t),e9(n)}}eZ(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#z.get(e);return eZ(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return rU(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(s2(e))return r(e,t);let n=s6(e).array;if(n)return eZ(-1===n.count||n.count===t.length,`array length mismatch; expected length ${n.count}`,"value",t),t.map(e=>this._visit(n.prefix,e,r));let i=this.types[e];if(i)return i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{});eZ(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new s4(e)}static getPrimaryType(e){return s4.from(e).primaryType}static hashStruct(e,t,r){return s4.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let n=sQ[r];eZ(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>sX.indexOf(e.name)-sX.indexOf(t.name)),s4.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return e9(["0x1901",s4.hashDomain(e),s4.from(t).hash(r)])}static hash(e,t,r){return rU(s4.encode(e,t,r))}static async resolveNames(e,t,r,n){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let i={};e.verifyingContract&&!e6(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=s4.from(t);for(let e in s.visit(r,(e,t)=>("address"!==e||e6(t,20)||(i[t]="0x"),t)),i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}}static getPayload(e,t,r){s4.hashDomain(e);let n={},i=[];sX.forEach(t=>{let r=e[t];null!=r&&(n[t]=s1[t](r),i.push({name:t,type:sQ[t]}))});let s=s4.from(t),o=Object.assign({},t=s.types);return eZ(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return e8(e2(t));if(e.match(/^u?int/))return to(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return eZ("string"==typeof t,"invalid string","value",t),t}eZ(!1,"unsupported type","type",e)})}}}class s5 extends sF{address;#V;constructor(e,t){super(t),eZ(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#V=e,eV(this,{address:nK(this.signingKey.publicKey)})}get signingKey(){return this.#V}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new s5(this.#V,e)}async signTransaction(e){e=sD(e);let{to:t,from:r}=await eq({to:e.to?sa(e.to,this.provider):void 0,from:e.from?sa(e.from,this.provider):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&(eZ(r8(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let n=sM.from(e);return n.signature=this.signingKey.sign(n.unsignedHash),n.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){var t;return this.signingKey.sign(("string"==typeof(t=e)&&(t=rb(t)),rU(e9([rb("\x19Ethereum Signed Message:\n"),rb(String(t.length)),t])))).serialized}async signTypedData(e,t,r){let n=await s4.resolveNames(e,t,r,async e=>{eJ(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});let t=await this.provider.resolveName(e);return eJ(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t});return this.signingKey.sign(s4.hash(n.domain,t,n.value)).serialized}}var s8=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s9=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let s7={16:10,24:12,32:14},oe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],ot=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],or=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],on=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],oi=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],os=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],oo=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],oa=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],oc=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],ol=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],ou=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],oh=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],od=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],of=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],op=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function og(e){let t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class oy{get key(){return s8(this,b,"f").slice()}constructor(e){let t;if(b.set(this,void 0),v.set(this,void 0),w.set(this,void 0),!(this instanceof oy))throw Error("AES must be instanitated with `new`");s9(this,b,new Uint8Array(e),"f");let r=s7[this.key.length];if(null==r)throw TypeError("invalid key size (must be 16, 24 or 32 bytes)");s9(this,w,[],"f"),s9(this,v,[],"f");for(let e=0;e<=r;e++)s8(this,w,"f").push([0,0,0,0]),s8(this,v,"f").push([0,0,0,0]);let n=(r+1)*4,i=this.key.length/4,s=og(this.key);for(let e=0;e<i;e++)t=e>>2,s8(this,w,"f")[t][e%4]=s[e],s8(this,v,"f")[r-t][e%4]=s[e];let o=0,a=i,c;for(;a<n;){if(c=s[i-1],s[0]^=ot[c>>16&255]<<24^ot[c>>8&255]<<16^ot[255&c]<<8^ot[c>>24&255]^oe[o]<<24,o+=1,8!=i)for(let e=1;e<i;e++)s[e]^=s[e-1];else{for(let e=1;e<i/2;e++)s[e]^=s[e-1];c=s[i/2-1],s[i/2]^=ot[255&c]^ot[c>>8&255]<<8^ot[c>>16&255]<<16^ot[c>>24&255]<<24;for(let e=i/2+1;e<i;e++)s[e]^=s[e-1]}let e=0,t,l;for(;e<i&&a<n;)t=a>>2,l=a%4,s8(this,w,"f")[t][l]=s[e],s8(this,v,"f")[r-t][l]=s[e++],a++}for(let e=1;e<r;e++)for(let t=0;t<4;t++)c=s8(this,v,"f")[e][t],s8(this,v,"f")[e][t]=oh[c>>24&255]^od[c>>16&255]^of[c>>8&255]^op[255&c]}encrypt(e){if(16!=e.length)throw TypeError("invalid plaintext size (must be 16 bytes)");let t=s8(this,w,"f").length-1,r=[0,0,0,0],n=og(e);for(let e=0;e<4;e++)n[e]^=s8(this,w,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=on[n[t]>>24&255]^oi[n[(t+1)%4]>>16&255]^os[n[(t+2)%4]>>8&255]^oo[255&n[(t+3)%4]]^s8(this,w,"f")[e][t];n=r.slice()}let i=new Uint8Array(16),s=0;for(let e=0;e<4;e++)s=s8(this,w,"f")[t][e],i[4*e]=(ot[n[e]>>24&255]^s>>24)&255,i[4*e+1]=(ot[n[(e+1)%4]>>16&255]^s>>16)&255,i[4*e+2]=(ot[n[(e+2)%4]>>8&255]^s>>8)&255,i[4*e+3]=(ot[255&n[(e+3)%4]]^s)&255;return i}decrypt(e){if(16!=e.length)throw TypeError("invalid ciphertext size (must be 16 bytes)");let t=s8(this,v,"f").length-1,r=[0,0,0,0],n=og(e);for(let e=0;e<4;e++)n[e]^=s8(this,v,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=oa[n[t]>>24&255]^oc[n[(t+3)%4]>>16&255]^ol[n[(t+2)%4]>>8&255]^ou[255&n[(t+1)%4]]^s8(this,v,"f")[e][t];n=r.slice()}let i=new Uint8Array(16),s=0;for(let e=0;e<4;e++)s=s8(this,v,"f")[t][e],i[4*e]=(or[n[e]>>24&255]^s>>24)&255,i[4*e+1]=(or[n[(e+3)%4]>>16&255]^s>>16)&255,i[4*e+2]=(or[n[(e+2)%4]>>8&255]^s>>8)&255,i[4*e+3]=(or[255&n[(e+1)%4]]^s)&255;return i}}b=new WeakMap,v=new WeakMap,w=new WeakMap;class om{constructor(e,t,r){if(r&&!(this instanceof r))throw Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new oy(t)},name:{enumerable:!0,value:e}})}}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakSet;var ob=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},ov=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class ow extends om{constructor(e,t){super("CTR",e,ow),E.set(this,void 0),A.set(this,void 0),_.set(this,void 0),ob(this,_,new Uint8Array(16),"f"),ov(this,_,"f").fill(0),ob(this,E,ov(this,_,"f"),"f"),ob(this,A,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(ov(this,_,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)ov(this,_,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw TypeError("invalid counter initial Uint8Array value length");ov(this,_,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(255===ov(this,_,"f")[e])ov(this,_,"f")[e]=0;else{ov(this,_,"f")[e]++;break}}encrypt(e){var t,r;let n=new Uint8Array(e);for(let e=0;e<n.length;e++)16===ov(this,A,"f")&&(ob(this,E,this.aes.encrypt(ov(this,_,"f")),"f"),ob(this,A,0,"f"),this.increment()),n[e]^=ov(this,E,"f")[ob(this,A,(r=ov(this,A,"f"),t=r++,r),"f"),t];return n}decrypt(e){return this.encrypt(e)}}E=new WeakMap,A=new WeakMap,_=new WeakMap,new WeakMap,new WeakMap,new WeakMap;let oE=(e,t)=>e<<t|e>>>32-t;function oA(e,t,r,n,i,s){let o=e[t++]^r[n++],a=e[t++]^r[n++],c=e[t++]^r[n++],l=e[t++]^r[n++],u=e[t++]^r[n++],h=e[t++]^r[n++],d=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],g=e[t++]^r[n++],y=e[t++]^r[n++],m=e[t++]^r[n++],b=e[t++]^r[n++],v=e[t++]^r[n++],w=e[t++]^r[n++],E=e[t++]^r[n++],A=o,_=a,P=c,T=l,I=u,C=h,S=d,O=f,x=p,R=g,M=y,B=m,N=b,D=v,k=w,W=E;for(let e=0;e<8;e+=2)I^=oE(A+N|0,7),x^=oE(I+A|0,9),N^=oE(x+I|0,13),A^=oE(N+x|0,18),R^=oE(C+_|0,7),D^=oE(R+C|0,9),_^=oE(D+R|0,13),C^=oE(_+D|0,18),k^=oE(M+S|0,7),P^=oE(k+M|0,9),S^=oE(P+k|0,13),M^=oE(S+P|0,18),T^=oE(W+B|0,7),O^=oE(T+W|0,9),B^=oE(O+T|0,13),W^=oE(B+O|0,18),_^=oE(A+T|0,7),P^=oE(_+A|0,9),T^=oE(P+_|0,13),A^=oE(T+P|0,18),S^=oE(C+I|0,7),O^=oE(S+C|0,9),I^=oE(O+S|0,13),C^=oE(I+O|0,18),B^=oE(M+R|0,7),x^=oE(B+M|0,9),R^=oE(x+B|0,13),M^=oE(R+x|0,18),N^=oE(W+k|0,7),D^=oE(N+W|0,9),k^=oE(D+N|0,13),W^=oE(k+D|0,18);i[s++]=o+A|0,i[s++]=a+_|0,i[s++]=c+P|0,i[s++]=l+T|0,i[s++]=u+I|0,i[s++]=h+C|0,i[s++]=d+S|0,i[s++]=f+O|0,i[s++]=p+x|0,i[s++]=g+R|0,i[s++]=y+M|0,i[s++]=m+B|0,i[s++]=b+N|0,i[s++]=v+D|0,i[s++]=w+k|0,i[s++]=E+W|0}function o_(e,t,r,n,i){let s=n+0,o=n+16*i;for(let n=0;n<16;n++)r[o+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,s+=16,t+=16)oA(r,o,e,t,r,s),n>0&&(o+=16),oA(r,s,e,t+=16,r,o)}function oP(e,t,r){let{N:n,r:i,p:s,dkLen:o,asyncTick:a,maxmem:c,onProgress:l}=tW({dkLen:32,asyncTick:10,maxmem:1073742848},r);if(tA(n),tA(i),tA(s),tA(o),tA(a),tA(c),void 0!==l&&"function"!=typeof l)throw Error("progressCb should be function");let u=128*i,h=u/4;if(n<=1||(n&n-1)!=0||n>=2**(u/8)||n>4294967296)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(4294967296-1)*32/u)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(4294967296-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let d=u*(n+s);if(d>c)throw Error(`Scrypt: parameters too large, ${d} (128 * r * (N + p)) > ${c} (maxmem)`);let f=tz(tZ,e,t,{c:1,dkLen:u*s}),p=tO(f),g=tO(new Uint8Array(u*n)),y=tO(new Uint8Array(u)),m=()=>{};if(l){let e=2*n*s,t=Math.max(Math.floor(e/1e4),1),r=0;m=()=>{r++,l&&(!(r%t)||r===e)&&l(r/e)}}return{N:n,r:i,p:s,dkLen:o,blockSize32:h,V:g,B32:p,B:f,tmp:y,blockMixCb:m,asyncTick:a}}function oT(e,t,r,n,i){let s=tz(tZ,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),s}async function oI(e,t,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:h,blockMixCb:d,asyncTick:f}=oP(e,t,r);for(let e=0;e<s;e++){let t=a*e;for(let e=0;e<a;e++)c[e]=l[t+e];let r=0;await tB(n-1,f,()=>{o_(c,r,c,r+=a,i),d()}),o_(c,(n-1)*a,l,t,i),d(),await tB(n,f,()=>{let e=l[t+a-16]%n;for(let r=0;r<a;r++)h[r]=l[t+r]^c[e*a+r];o_(h,0,l,t,i),d()})}return oT(e,o,u,c,h)}let oC=!1,oS=!1,oO=async function(e,t,r,n,i,s,o){return await oI(e,t,{N:r,r:n,p:i,dkLen:s,onProgress:o})},ox=function(e,t,r,n,i,s){return function(e,t,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:h,blockMixCb:d}=oP(e,t,r);for(let e=0;e<s;e++){let t=a*e;for(let e=0;e<a;e++)c[e]=l[t+e];for(let e=0,t=0;e<n-1;e++)o_(c,t,c,t+=a,i),d();o_(c,(n-1)*a,l,t,i),d();for(let e=0;e<n;e++){let e=l[t+a-16]%n;for(let r=0;r<a;r++)h[r]=l[t+r]^c[e*a+r];o_(h,0,l,t,i),d()}}return oT(e,o,u,c,h)}(e,t,{N:r,r:n,p:i,dkLen:s})},oR=oO,oM=ox;async function oB(e,t,r,n,i,s,o){let a=e2(e,"passwd"),c=e2(t,"salt");return e8(await oR(a,c,r,n,i,s,o))}function oN(e,t,r,n,i,s){let o=e2(e,"passwd"),a=e2(t,"salt");return e8(oM(o,a,r,n,i,s))}function oD(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function ok(e){return"string"==typeof e?rb(e,"NFKC"):e3(e)}function oW(e){let t=null!=e.salt?e2(e.salt,"options.salt"):ss(32),r=131072,n=8,i=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(n=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),eZ("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),eZ("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),eZ("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:r,r:n,p:i}}function oU(e,t,r,n){let i=e2(r.privateKey,"privateKey"),s=null!=n.iv?e2(n.iv,"options.iv"):ss(16);eZ(16===s.length,"invalid options.iv length","options.iv",n.iv);let o=null!=n.uuid?e2(n.uuid,"options.uuid"):ss(16);eZ(16===o.length,"invalid options.uuid length","options.uuid",n.iv);let a=e.slice(0,16),c=e.slice(16,32),l=e2(new ow(a,s).encrypt(i)),u=rU(e9([c,l])),h={address:r.address.substring(2).toLowerCase(),id:function(e){let t=e2(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=e8(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:e8(s).substring(2)},ciphertext:e8(l).substring(2),kdf:"scrypt",kdfparams:{salt:e8(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:u.substring(2)}};if(r.mnemonic){let t=null!=n.client?n.client:`ethers/${e$}`,i=r.mnemonic.path||"m/44'/60'/0'/0/0",s=r.mnemonic.locale||"en",o=e.slice(32,64),a=e2(r.mnemonic.entropy,"account.mnemonic.entropy"),c=ss(16),l=e2(new ow(o,c).encrypt(a)),u=new Date,d="UTC--"+(u.getUTCFullYear()+"-"+oD(u.getUTCMonth()+1,2)+"-"+oD(u.getUTCDate(),2)+"T"+oD(u.getUTCHours(),2)+"-"+oD(u.getUTCMinutes(),2)+"-")+oD(u.getUTCSeconds(),2)+".0Z--"+h.address;h["x-ethers"]={client:t,gethFilename:d,path:i,locale:s,mnemonicCounter:e8(c).substring(2),mnemonicCiphertext:e8(l).substring(2),version:"0.1"}}return JSON.stringify(h)}async function oF(e,t,r){null==r&&(r={});let n=ok(t),i=oW(r);return oU(e2(await oB(n,i.salt,i.N,i.r,i.p,64,r.progressCallback)),i,e,r)}oB._=oO,oB.lock=function(){oS=!0},oB.register=function(e){if(oS)throw Error("scrypt is locked");oR=e},Object.freeze(oB),oN._=ox,oN.lock=function(){oC=!0},oN.register=function(e){if(oC)throw Error("scryptSync is locked");oM=e},Object.freeze(oN);let oL="m/44'/60'/0'/0/0",oj=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),oz=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function o$(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function oq(e){let t=e2(e),r=te(ru(ru(t)),0,4);return function(e){let t=e2(e),r=tl(t),n="";for(;r;)n=sj[Number(r%sq)]+n,r/=sq;for(let e=0;e<t.length&&!t[e];e++)n=sj[0]+n;return n}(e9([t,r]))}let oV={};function oH(e,t,r,n){let i=new Uint8Array(37);2147483648&e?(eJ(null!=n,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(e2(n),1)):i.set(e2(r));for(let t=24;t>=0;t-=8)i[33+(t>>3)]=e>>24-t&255;let s=e2(r1("sha512",t,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function oG(e,t){let r=t.split("/");eZ(r.length>0,"invalid path","path",t),"m"===r[0]&&(eZ(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let n=e;for(let e=0;e<r.length;e++){let t=r[e];if(t.match(/^[0-9]+'$/)){let r=parseInt(t.substring(0,t.length-1));eZ(r<2147483648,"invalid path index",`path[${e}]`,t),n=n.deriveChild(2147483648+r)}else if(t.match(/^[0-9]+$/)){let r=parseInt(t);eZ(r<2147483648,"invalid path index",`path[${e}]`,t),n=n.deriveChild(r)}else eZ(!1,"invalid path component",`path[${e}]`,t)}return n}class oK extends s5{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,n,i,s,o,a,c){super(t,c),e0(e,oV,"HDNodeWallet"),eV(this,{publicKey:t.compressedPublicKey}),eV(this,{parentFingerprint:r,fingerprint:te(st(ru(this.publicKey)),0,4),chainCode:n,path:i,index:s,depth:o}),eV(this,{mnemonic:a})}connect(e){return new oK(oV,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#H(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await oF(this.#H(),e,{progressCallback:t})}encryptSync(e){return function(e,t,r){null==r&&(r={});let n=ok(t),i=oW(r);return oU(e2(oN(n,i.salt,i.N,i.r,i.p,64)),i,e,r)}(this.#H(),e)}get extendedKey(){return eJ(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),oq(e9(["0x0488ADE4",o$(this.depth,1),this.parentFingerprint,o$(this.index,4),this.chainCode,e9(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new oJ(oV,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=tu(e,"index");eZ(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),2147483648&t&&(r+="'"));let{IR:n,IL:i}=oH(t,this.chainCode,this.publicKey,this.privateKey);return new oK(oV,new nG(th((tl(i)+BigInt(this.privateKey))%oz,32)),this.fingerprint,e8(n),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return oG(this,e)}static #G(e,t){eZ(e4(e),"invalid seed","seed","[REDACTED]");let r=e2(e,"seed");eZ(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let n=e2(r1("sha512",oj,r));return new oK(oV,new nG(e8(n.slice(0,32))),"0x00000000",e8(n.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=td(function(e){let t=s$;for(let r=0;r<e.length;r++)t*=sq,t+=function(e){if(null==sz){sz={};for(let e=0;e<sj.length;e++)sz[sj[e]]=BigInt(e)}let t=sz[e];return eZ(null!=t,"invalid base58 value","letter",e),t}(e[r]);return t}(e));eZ(82===t.length||oq(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],n=e8(t.slice(5,9)),i=parseInt(e8(t.slice(9,13)).substring(2),16),s=e8(t.slice(13,45)),o=t.slice(45,78);switch(e8(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let e=e8(o);return new oJ(oV,nK(e),e,n,s,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new oK(oV,new nG(o.slice(1)),n,s,null,i,r,null,null)}eZ(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=oL),null==r&&(r=rH.wordlist());let n=rY.fromEntropy(ss(16),e,r);return oK.#G(n.computeSeed(),n).derivePath(t)}static fromMnemonic(e,t){return t||(t=oL),oK.#G(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,n){null==t&&(t=""),null==r&&(r=oL),null==n&&(n=rH.wordlist());let i=rY.fromPhrase(e,t,n);return oK.#G(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return oK.#G(e,null)}}class oJ extends sL{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,n,i,s,o,a,c){super(t,c),e0(e,oV,"HDNodeVoidWallet"),eV(this,{publicKey:r});let l=te(st(ru(r)),0,4);eV(this,{publicKey:r,fingerprint:l,parentFingerprint:n,chainCode:i,path:s,index:o,depth:a})}connect(e){return new oJ(oV,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return eJ(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),oq(e9(["0x0488B21E",o$(this.depth,1),this.parentFingerprint,o$(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){let t=tu(e,"index");eZ(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),2147483648&t&&(r+="'"));let{IR:n,IL:i}=oH(t,this.chainCode,this.publicKey,null),s=nG.addPoints(i,this.publicKey,!0);return new oJ(oV,nK(s),s,this.fingerprint,e8(n),r,t,this.depth+1,this.provider)}derivePath(e){return oG(this,e)}}let oZ={en:rH.wordlist()};function oY(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}let oQ="constant external internal payable private public pure view",oX=oY(oQ.split(" ")),o0="constructor error event fallback function receive struct",o1=oY(o0.split(" ")),o2="calldata memory storage payable indexed",o3=oY(o2.split(" ")),o6=oY([o0,o2,"tuple returns",oQ].join(" ").split(" ")),o4={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},o5=RegExp("^(\\s*)"),o8=RegExp("^([0-9]+)"),o9=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),o7=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ae=RegExp("^(trcToken|address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class at{#d;#v;get offset(){return this.#d}get length(){return this.#v.length-this.#d}constructor(e){this.#d=0,this.#v=e.slice()}clone(){return new P(this.#v)}reset(){this.#d=0}#w(e=0,t=0){return new P(this.#v.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#w(this.#d+1,e.match+1);return this.#d=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#d<e.match-1;){let e=this.peek().linkNext;t.push(this.#w(this.#d+1,e)),this.#d=e}return this.#d=e.match+1,t}peek(){if(this.#d>=this.#v.length)throw Error("out-of-bounds");return this.#v[this.#d]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#d++,e}toString(){let e=[];for(let t=this.#d;t<this.#v.length;t++){let r=this.#v[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function ar(e){let t=[],r=t=>{let r=s<e.length?JSON.stringify(e[s]):"$EOI";throw Error(`invalid token ${r} at ${s}: ${t}`)},n=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(o5);a&&(s+=a[1].length,o=e.substring(s));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=o4[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===n.length&&r("no matching open bracket"),c.match=n.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=tu(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(a=o.match(o9)){if(c.text=a[1],s+=c.text.length,o6.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(ae)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(o8)){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new at(t.map(e=>Object.freeze(e)))}function an(e,t){let r=[];for(let n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function ai(e,t){if(t.peekKeyword(o1)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function as(e,t){let r=new Set;for(;;){let n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function ao(e){let t=as(e,oX);return(an(t,oY("constant payable nonpayable".split(" "))),an(t,oY("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function aa(e,t){return e.popParams().map(e=>aE.from(e,t))}function ac(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return to(e.pop().text);throw Error("invalid gas")}return null}function al(e){if(e.length)throw Error(`unexpected tokens: ${e.toString()}`)}P=at;let au=new RegExp(/^(.*)\[([0-9]*)\]$/);function ah(e){let t=e.match(ae);if(eZ(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);eZ(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);eZ(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let ad={},af=Symbol.for("_ethers_internal"),ap="_ParamTypeInternal",ag="_ErrorInternal",ay="_EventInternal",am="_ConstructorInternal",ab="_FallbackInternal",av="_FunctionInternal",aw="_StructInternal";class aE{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,s,o,a){if(e0(e,ad,"ParamType"),Object.defineProperty(this,af,{value:ap}),s&&(s=Object.freeze(s.slice())),"array"===n){if(null==o||null==a)throw Error("")}else if(null!=o||null!=a)throw Error("");if("tuple"===n){if(null==s)throw Error("")}else if(null!=s)throw Error("");eV(this,{name:t,type:r,baseType:n,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.isTuple()&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return this.isArray()?t+=this.arrayChildren.format(e)+`[${this.arrayLength<0?"":String(this.arrayLength)}]`:this.isTuple()?("sighash"!==e&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")"):t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");return e.map(e=>this.arrayChildren?.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");return e.map((e,r)=>this.components?.[r].walk(e,t))}return t(this.type,e)}#E(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let i=this.arrayChildren,s=t.slice();s.forEach((t,n)=>{i.#E(e,t,r,e=>{s[n]=e})}),n(s);return}if(this.isTuple()){let i;let s=this.components;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");i=s.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(i.length!==this.components.length)throw Error("array is wrong length");i.forEach((t,n)=>{s[n].#E(e,t,r,e=>{i[n]=e})}),n(i);return}let i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){let r=[],n=[e];return this.#E(r,e,t,e=>{n[0]=e}),r.length&&await Promise.all(r),n[0]}static from(e,t){if(aE.isParamType(e))return e;if("string"==typeof e)return aE.from(ar(e),t);if(e instanceof at){let r="",n="",i=null;as(e,oY(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map(e=>aE.from(e)),r=`tuple(${i.map(e=>e.format()).join(",")})`):n=r=ah(e.popType("TYPE"));let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();s=new aE(ad,"",r,n,null,i,o,s),o=t.value,r+=t.text,n="array",i=null}let a=null;if(as(e,o3).has("indexed")){if(!t)throw Error("");a=!0}let c=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new aE(ad,c,r,n,a,i,o,s)}let r=e.name;eZ(!r||"string"==typeof r&&r.match(o7),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(eZ(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,s=i.match(au);if(s){let t=parseInt(s[2]||"-1"),o=aE.from({type:s[1],components:e.components});return new aE(ad,r||"",i,"array",n,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){let t=null!=e.components?e.components.map(e=>aE.from(e)):null;return new aE(ad,r||"",i,"tuple",n,t,null,null)}return new aE(ad,r||"",i=ah(e.type),i,n,null,null,null)}static isParamType(e){return e&&e[af]===ap}}class aA{type;inputs;constructor(e,t,r){e0(e,ad,"Fragment"),eV(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{aA.from(JSON.parse(e))}catch(e){}return aA.from(ar(e))}if(e instanceof at)switch(e.peekKeyword(o1)){case"constructor":return aC.from(e);case"error":return aT.from(e);case"event":return aI.from(e);case"fallback":case"receive":return aS.from(e);case"function":return aO.from(e);case"struct":return ax.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return aC.from(e);case"error":return aT.from(e);case"event":return aI.from(e);case"fallback":case"receive":return aS.from(e);case"function":return aO.from(e);case"struct":return ax.from(e)}eJ(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}eZ(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return aC.isFragment(e)}static isError(e){return aT.isFragment(e)}static isEvent(e){return aI.isFragment(e)}static isFunction(e){return aO.isFragment(e)}static isStruct(e){return ax.isFragment(e)}}class a_ extends aA{name;constructor(e,t,r,n){super(e,t,n),eZ("string"==typeof r&&r.match(o7),"invalid identifier","name",r),n=Object.freeze(n.slice()),eV(this,{name:r})}}function aP(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class aT extends a_{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,af,{value:ag})}get selector(){return rF(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+aP(e,this.inputs)),t.join(" ")}static from(e){if(aT.isFragment(e))return e;if("string"==typeof e)return aT.from(ar(e));if(e instanceof at){let t=ai("error",e),r=aa(e);return al(e),new aT(ad,t,r)}return new aT(ad,e.name,e.inputs?e.inputs.map(aE.from):[])}static isFragment(e){return e&&e[af]===ag}}class aI extends a_{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,af,{value:ay}),eV(this,{anonymous:n})}get topicHash(){return rF(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+aP(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new aI(ad,e,t=(t||[]).map(e=>aE.from(e)),!1).topicHash}static from(e){if(aI.isFragment(e))return e;if("string"==typeof e)return aI.from(ar(e));if(e instanceof at){let t=ai("event",e),r=aa(e,!0),n=!!as(e,oY(["anonymous"])).has("anonymous");return al(e),new aI(ad,t,r,n)}return new aI(ad,e.name,e.inputs?e.inputs.map(e=>aE.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[af]===ay}}class aC extends aA{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,af,{value:am}),eV(this,{payable:n,gas:i})}format(e){if(eJ(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${aP(e,this.inputs)}`];return t.push(this.payable?"payable":"nonpayable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(aC.isFragment(e))return e;if("string"==typeof e)return aC.from(ar(e));if(e instanceof at){as(e,oY(["constructor"]));let t=aa(e),r=!!as(e,oY(["payable"])).has("payable"),n=ac(e);return al(e),new aC(ad,"constructor",t,r,n)}return new aC(ad,"constructor",e.inputs?e.inputs.map(aE.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[af]===am}}class aS extends aA{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,af,{value:ab}),eV(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(aS.isFragment(e))return e;if("string"==typeof e)return aS.from(ar(e));if(e instanceof at){let t=e.toString();if(eZ(e.peekKeyword(oY(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(oY(["fallback","receive"]))){let t=aa(e);return eZ(0===t.length,"receive cannot have arguments","obj.inputs",t),as(e,oY(["payable"])),al(e),new aS(ad,[],!0)}let r=aa(e);r.length?eZ(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map(e=>e.format("minimal")).join(", ")):r=[aE.from("bytes")];let n=ao(e);if(eZ("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),as(e,oY(["returns"])).has("returns")){let t=aa(e);eZ(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return al(e),new aS(ad,r,"payable"===n)}return"receive"===e.type?new aS(ad,[],!0):"fallback"===e.type?new aS(ad,[aE.from("bytes")],"payable"===e.stateMutability):void eZ(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[af]===ab}}class aO extends a_{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,s){super(e,"function",t,n),Object.defineProperty(this,af,{value:av}),eV(this,{constant:"view"===r||"pure"===r,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return rF(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+aP(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(aP(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new aO(ad,e,"view",t=(t||[]).map(e=>aE.from(e)),[],null).selector}static from(e){if(aO.isFragment(e))return e;if("string"==typeof e)return aO.from(ar(e));if(e instanceof at){let t=ai("function",e),r=aa(e),n=ao(e),i=[];as(e,oY(["returns"])).has("returns")&&(i=aa(e));let s=ac(e);return al(e),new aO(ad,t,n,r,i,s)}let t=e.stateMutability;return null!=t||(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new aO(ad,e.name,t,e.inputs?e.inputs.map(aE.from):[],e.outputs?e.outputs.map(aE.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[af]===av}}class ax extends a_{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,af,{value:aw})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)return ax.from(ar(e));if(e instanceof at){let t=ai("struct",e),r=aa(e);return al(e),new ax(ad,t,r)}return new ax(ad,e.name,e.inputs?e.inputs.map(aE.from):[])}static isFragment(e){return e&&e[af]===aw}}class aR{fragment;name;signature;topic;args;constructor(e,t,r){let n=e.name,i=e.format();eV(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class aM{fragment;name;args;signature;selector;value;constructor(e,t,r,n){let i=e.name,s=e.format();eV(this,{fragment:e,name:i,args:r,signature:s,selector:t,value:n})}}class aB{fragment;name;args;signature;selector;constructor(e,t,r){let n=e.name,i=e.format();eV(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class aN{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){eV(this,{hash:e,_isIndexed:!0})}}let aD={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},ak={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&aD[e.toString()]&&(t=aD[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class aW{fragments;deploy;fallback;receive;#K;#J;#Z;#Y;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#Z=new Map,this.#K=new Map,this.#J=new Map;let r=[];for(let e of t)try{r.push(aA.from(e))}catch(e){console.log("EE",e)}eV(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#Y=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}eV(this,{deploy:e});return;case"fallback":0===e.inputs.length?i=!0:(eZ(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),i=(n=e).payable);return;case"function":r=this.#Z;break;case"event":r=this.#J;break;case"error":r=this.#K;break;default:return}let s=e.format();r.has(s)||r.set(s,e)}),this.deploy||eV(this,{deploy:aC.from("constructor()")}),eV(this,{fallback:n,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return iH.defaultAbiCoder()}#Q(e,t,r){if(e6(e)){let t=e.toLowerCase();for(let e of this.#Z.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#Z)t.split("(")[0]===e&&n.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,i=!0;it.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){let t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(it.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");eZ(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#Z.get(aO.from(e).format())||null}getFunctionName(e){let t=this.#Q(e,null,!1);return eZ(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#Q(e,null,!1)}getFunction(e,t){return this.#Q(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#Z.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#Z.get(n),r)}}#X(e,t,r){if(e6(e)){let t=e.toLowerCase();for(let e of this.#J.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#J)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(it.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");eZ(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#J.get(aI.from(e).format())||null}getEventName(e){let t=this.#X(e,null,!1);return eZ(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#X(e,null,!1)}getEvent(e,t){return this.#X(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#J.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#J.get(n),r)}}getError(e,t){if(e6(e)){let t=e.toLowerCase();if(ak[t])return aT.from(ak[t].signature);for(let e of this.#K.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,n]of this.#K)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?aT.from("error Error(string)"):"Panic"===e?aT.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");eZ(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}return"Error(string)"===(e=aT.from(e).format())?aT.from("error Error(string)"):"Panic(uint256)"===e?aT.from("error Panic(uint256)"):this.#K.get(e)||null}forEachError(e){let t=Array.from(this.#K.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#K.get(n),r)}}_decodeParams(e,t){return this.#Y.decode(e,t)}_encodeParams(e,t){return this.#Y.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);eZ(t,"unknown error","fragment",e),e=t}return eZ(te(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,te(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);eZ(t,"unknown error","fragment",e),e=t}return e9([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);eZ(t,"unknown function","fragment",e),e=t}return eZ(te(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,te(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);eZ(t,"unknown function","fragment",e),e=t}return e9([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);eZ(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",n=e3(t);if(n.length%32==0)try{return this.#Y.decode(e.outputs,n)}catch(e){r="could not decode result data"}eJ(!1,r,"BAD_DATA",{value:e8(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=e2(e,"data"),n=iH.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){let e=e8(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#Y.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}let i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);eZ(t,"unknown function","fragment",e),e=t}return e8(this.#Y.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);eZ(t,"unknown event","eventFragment",e),e=t}eJ(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let n=(e,t)=>"string"===e.type?rF(t):"bytes"===e.type?rU(e8(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=th(t)),"address"===e.type&&this.#Y.encode(["address"],[t]),tt(e8(t),32));for(t.forEach((t,i)=>{let s=e.inputs[i];if(!s.indexed){eZ(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t);return}null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?eZ(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map(e=>n(s,e))):r.push(n(s,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);eZ(t,"unknown event","eventFragment",e),e=t}let r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),eZ(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{let o=t[s];if(e.indexed){if("string"===e.type)r.push(rF(o));else if("bytes"===e.type)r.push(rU(o));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#Y.encode([e.type],[o]))}else n.push(e),i.push(o)}),{data:this.#Y.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);eZ(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;eZ(e6(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let n=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(aE.from({type:"bytes32",name:e.name})),s.push(!0)):(n.push(e),s.push(!1)):(i.push(e),s.push(!1))});let o=null!=r?this.#Y.decode(n,e9(r)):null,a=this.#Y.decode(i,t,!0),c=[],l=[],u=0,h=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed){if(null==o)r=new aN(null);else if(s[t])r=new aN(o[h++]);else try{r=o[h++]}catch(e){r=e}}else try{r=a[u++]}catch(e){r=e}c.push(r),l.push(e.name||null)}),n2.fromItems(c,l)}parseTransaction(e){let t=e2(e.data,"tx.data"),r=to(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(e8(t.slice(0,4)));if(!n)return null;let i=this.#Y.decode(n.inputs,t.slice(4));return new aM(n,n.selector,i,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new aR(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=e8(e),r=this.getError(te(t,0,4));if(!r)return null;let n=this.#Y.decode(r.inputs,te(t,4));return new aB(r,r.selector,n)}static from(e){return e instanceof aW?e:new aW("string"==typeof e?JSON.parse(e):"function"==typeof e.format?e.format("json"):e)}}var aU=r(82957).lW;let aF=e=>tE.from(e),aL=e=>tE.from(e).serialized,aj=e=>e2(e),az={sighash:"sighash",minimal:"minimal",full:"full",json:"json"},a$=rY.isValidMnemonic;r1.register((e,t,r)=>r1._(e,aU.from(t),aU.from(r)));let aq=34,aV="41",aH=65,aG=/^(41)/,aK="m/44'/195'",aJ=aK+"/0'/0/0";function aZ(e){return eB(e)?fi(eo(e.replace(/^0x/,aV))):e}function aY(e){return eB(e)?e.toLowerCase().replace(/^0x/,aV):Q(fs(e)).toLowerCase()}function aQ(e){if(!a1(e))throw Error(`'${e}' is not a valid address string`);return function(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=eo(rU(r).slice(2));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return aV+t.join("")}(aY(e))}function aX(e){if(!eB(e)||42!==e.length)return!1;try{return aQ(e)===e}catch{return!1}}function a0(e,t=!1){try{return fP(e,t)}catch{return!1}}function a1(e){if(!e||!eR(e))return!1;if(42===e.length)try{return a1(fi(eo(e)))}catch(e){return!1}try{return fy(e)}catch(e){return!1}}let a2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",a3={};for(let e=0;e<a2.length;e++)a3[a2.charAt(e)]=e;function a6(e){let t,r;if(0===e.length)return"";let n=[0];for(t=0;t<e.length;t++){for(r=0;r<n.length;r++)n[r]<<=8;n[0]+=e[t];let i=0;for(r=0;r<n.length;++r)n[r]+=i,i=n[r]/58|0,n[r]%=58;for(;i;)n.push(i%58),i=i/58|0}for(t=0;0===e[t]&&t<e.length-1;t++)n.push(0);return n.reverse().map(e=>a2[e]).join("")}function a4(e){let t,r;if(0===e.length)return[];let n=[0];for(t=0;t<e.length;t++){let i=e[t];if(!(i in a3))throw Error("Non-base58 character");for(r=0;r<n.length;r++)n[r]*=58;n[0]+=a3[i];let s=0;for(r=0;r<n.length;++r)n[r]+=s,s=n[r]>>8,n[r]&=255;for(;s;)n.push(255&s),s>>=8}for(t=0;"1"===e[t]&&t<e.length-1;t++)n.push(0);return n.reverse()}function a5(e,t){return function(){return e.apply(t,arguments)}}var a8=r(25566);let{toString:a9}=Object.prototype,{getPrototypeOf:a7}=Object,ce=(n=Object.create(null),e=>{let t=a9.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}),ct=e=>(e=e.toLowerCase(),t=>ce(t)===e),cr=e=>t=>typeof t===e,{isArray:cn}=Array,ci=cr("undefined"),cs=ct("ArrayBuffer"),co=cr("string"),ca=cr("function"),cc=cr("number"),cl=e=>null!==e&&"object"==typeof e,cu=e=>{if("object"!==ce(e))return!1;let t=a7(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ch=ct("Date"),cd=ct("File"),cf=ct("Blob"),cp=ct("FileList"),cg=ct("URLSearchParams"),[cy,cm,cb,cv]=["ReadableStream","Request","Response","Headers"].map(ct);function cw(e,t,{allOwnKeys:r=!1}={}){let n,i;if(null!=e){if("object"!=typeof e&&(e=[e]),cn(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{let i;let s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(n=0;n<o;n++)i=s[n],t.call(null,e[i],i,e)}}}function cE(e,t){let r;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let cA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,c_=e=>!ci(e)&&e!==cA,cP=(i="undefined"!=typeof Uint8Array&&a7(Uint8Array),e=>i&&e instanceof i),cT=ct("HTMLFormElement"),cI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),cC=ct("RegExp"),cS=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};cw(r,(r,i)=>{let s;!1!==(s=t(r,i,e))&&(n[i]=s||r)}),Object.defineProperties(e,n)},cO="abcdefghijklmnopqrstuvwxyz",cx="0123456789",cR={DIGIT:cx,ALPHA:cO,ALPHA_DIGIT:cO+cO.toUpperCase()+cx},cM=ct("AsyncFunction"),cB=(o="function"==typeof setImmediate,a=ca(cA.postMessage),o?setImmediate:a?(c=`axios@${Math.random()}`,l=[],cA.addEventListener("message",({source:e,data:t})=>{e===cA&&t===c&&l.length&&l.shift()()},!1),e=>{l.push(e),cA.postMessage(c,"*")}):e=>setTimeout(e)),cN="undefined"!=typeof queueMicrotask?queueMicrotask.bind(cA):void 0!==a8&&a8.nextTick||cB;var cD={isArray:cn,isArrayBuffer:cs,isBuffer:function(e){return null!==e&&!ci(e)&&null!==e.constructor&&!ci(e.constructor)&&ca(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||ca(e.append)&&("formdata"===(t=ce(e))||"object"===t&&ca(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&cs(e.buffer)},isString:co,isNumber:cc,isBoolean:e=>!0===e||!1===e,isObject:cl,isPlainObject:cu,isReadableStream:cy,isRequest:cm,isResponse:cb,isHeaders:cv,isUndefined:ci,isDate:ch,isFile:cd,isBlob:cf,isRegExp:cC,isFunction:ca,isStream:e=>cl(e)&&ca(e.pipe),isURLSearchParams:cg,isTypedArray:cP,isFileList:cp,forEach:cw,merge:function e(){let{caseless:t}=c_(this)&&this||{},r={},n=(n,i)=>{let s=t&&cE(r,i)||i;cu(r[s])&&cu(n)?r[s]=e(r[s],n):cu(n)?r[s]=e({},n):cn(n)?r[s]=n.slice():r[s]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&cw(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(cw(t,(t,n)=>{r&&ca(t)?e[n]=a5(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,s,o;let a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==r&&a7(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:ce,kindOfTest:ct,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(cn(e))return e;let t=e.length;if(!cc(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r;let n=(e&&e[Symbol.iterator]).call(e);for(;(r=n.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r;let n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:cT,hasOwnProperty:cI,hasOwnProp:cI,reduceDescriptors:cS,freezeMethods:e=>{cS(e,(t,r)=>{if(ca(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(ca(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(e=>{e.forEach(e=>{r[e]=!0})})(cn(e)?e:String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:cE,global:cA,isContextDefined:c_,ALPHABET:cR,generateString:(e=16,t=cR.ALPHA_DIGIT)=>{let r="",{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&ca(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(cl(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let i=cn(e)?[]:{};return cw(e,(e,t)=>{let s=r(e,n+1);ci(s)||(i[t]=s)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:cM,isThenable:e=>e&&(cl(e)||ca(e))&&ca(e.then)&&ca(e.catch),setImmediate:cB,asap:cN};function ck(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}cD.inherits(ck,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:cD.toJSONObject(this.config),code:this.code,status:this.status}}});let cW=ck.prototype,cU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cU[e]={value:e}}),Object.defineProperties(ck,cU),Object.defineProperty(cW,"isAxiosError",{value:!0}),ck.from=(e,t,r,n,i,s)=>{let o=Object.create(cW);return cD.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ck.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var cF=r(82957).lW;function cL(e){return cD.isPlainObject(e)||cD.isArray(e)}function cj(e){return cD.endsWith(e,"[]")?e.slice(0,-2):e}function cz(e,t,r){return e?e.concat(t).map(function(e,t){return e=cj(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}let c$=cD.toFlatObject(cD,{},null,function(e){return/^is[A-Z]/.test(e)});var cq=function(e,t,r){if(!cD.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let n=(r=cD.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!cD.isUndefined(t[e])})).metaTokens,i=r.visitor||l,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&cD.isSpecCompliantForm(t);if(!cD.isFunction(i))throw TypeError("visitor must be a function");function c(e){if(null===e)return"";if(cD.isDate(e))return e.toISOString();if(!a&&cD.isBlob(e))throw new ck("Blob is not supported. Use a Buffer instead.");return cD.isArrayBuffer(e)||cD.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):cF.from(e):e}function l(e,r,i){let a=e;if(e&&!i&&"object"==typeof e){if(cD.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var l;if(cD.isArray(e)&&(l=e,cD.isArray(l)&&!l.some(cL))||(cD.isFileList(e)||cD.endsWith(r,"[]"))&&(a=cD.toArray(e)))return r=cj(r),a.forEach(function(e,n){cD.isUndefined(e)||null===e||t.append(!0===o?cz([r],n,s):null===o?r:r+"[]",c(e))}),!1}}return!!cL(e)||(t.append(cz(i,r,s),c(e)),!1)}let u=[],h=Object.assign(c$,{defaultVisitor:l,convertValue:c,isVisitable:cL});if(!cD.isObject(e))throw TypeError("data must be an object");return!function e(r,n){if(!cD.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),cD.forEach(r,function(r,s){!0===(!(cD.isUndefined(r)||null===r)&&i.call(t,r,cD.isString(s)?s.trim():s,n,h))&&e(r,n?n.concat(s):[s])}),u.pop()}}(e),t};function cV(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function cH(e,t){this._pairs=[],e&&cq(e,this,t)}let cG=cH.prototype;function cK(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cJ(e,t,r){let n;if(!t)return e;let i=r&&r.encode||cK,s=r&&r.serialize;if(n=s?s(t,r):cD.isURLSearchParams(t)?t.toString():new cH(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}cG.append=function(e,t){this._pairs.push([e,t])},cG.toString=function(e){let t=e?function(t){return e.call(this,t,cV)}:cV;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class cZ{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){cD.forEach(this.handlers,function(t){null!==t&&e(t)})}}var cY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cQ="undefined"!=typeof URLSearchParams?URLSearchParams:cH,cX="undefined"!=typeof FormData?FormData:null,c0="undefined"!=typeof Blob?Blob:null;let c1="undefined"!=typeof window&&"undefined"!=typeof document,c2="object"==typeof navigator&&navigator||void 0,c3=c1&&(!c2||0>["ReactNative","NativeScript","NS"].indexOf(c2.product)),c6="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,c4=c1&&window.location.href||"http://localhost";var c5={...F,isBrowser:!0,classes:{URLSearchParams:cQ,FormData:cX,Blob:c0},protocols:["http","https","file","blob","url","data"]},c8=function(e){if(cD.isFormData(e)&&cD.isFunction(e.entries)){let t={};return cD.forEachEntry(e,(e,r)=>{!function e(t,r,n,i){let s=t[i++];if("__proto__"===s)return!0;let o=Number.isFinite(+s),a=i>=t.length;return(s=!s&&cD.isArray(n)?n.length:s,a)?cD.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r:(n[s]&&cD.isObject(n[s])||(n[s]=[]),e(t,r,n[s],i)&&cD.isArray(n[s])&&(n[s]=function(e){let t,r;let n={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)n[r=i[t]]=e[r];return n}(n[s]))),!o}(cD.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null};let c9={transitional:cY,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r;let n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=cD.isObject(e);if(s&&cD.isHTMLForm(e)&&(e=new FormData(e)),cD.isFormData(e))return i?JSON.stringify(c8(e)):e;if(cD.isArrayBuffer(e)||cD.isBuffer(e)||cD.isStream(e)||cD.isFile(e)||cD.isBlob(e)||cD.isReadableStream(e))return e;if(cD.isArrayBufferView(e))return e.buffer;if(cD.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,cq(o,new c5.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return c5.isNode&&cD.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},a))).toString()}if((r=cD.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return cq(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function(e,t,r){if(cD.isString(e))try{return(0,JSON.parse)(e),cD.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||c9.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(cD.isResponse(e)||cD.isReadableStream(e))return e;if(e&&cD.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw ck.from(e,ck.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:c5.classes.FormData,Blob:c5.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};cD.forEach(["delete","get","head","post","put","patch"],e=>{c9.headers[e]={}});let c7=cD.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var le=e=>{let t,r,n;let i={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&c7[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)}),i};let lt=Symbol("internals");function lr(e){return e&&String(e).trim().toLowerCase()}function ln(e){return!1===e||null==e?e:cD.isArray(e)?e.map(ln):String(e)}let li=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ls(e,t,r,n,i){if(cD.isFunction(n))return n.call(this,t,r);if(i&&(t=r),cD.isString(t)){if(cD.isString(n))return -1!==t.indexOf(n);if(cD.isRegExp(n))return n.test(t)}}class lo{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(e,t,r){let i=lr(t);if(!i)throw Error("header name must be a non-empty string");let s=cD.findKey(n,i);s&&void 0!==n[s]&&!0!==r&&(void 0!==r||!1===n[s])||(n[s||t]=ln(e))}let s=(e,t)=>cD.forEach(e,(e,r)=>i(e,r,t));if(cD.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(cD.isString(e)&&(e=e.trim())&&!li(e))s(le(e),t);else if(cD.isHeaders(e))for(let[t,n]of e.entries())i(n,t,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=lr(e)){let r=cD.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t)return function(e){let t;let r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}(e);if(cD.isFunction(t))return t.call(this,e,r);if(cD.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lr(e)){let r=cD.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||ls(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=lr(e)){let i=cD.findKey(r,e);i&&(!t||ls(r,r[i],i,t))&&(delete r[i],n=!0)}}return cD.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||ls(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return cD.forEach(this,(n,i)=>{let s=cD.findKey(r,i);if(s){t[s]=ln(n),delete t[i];return}let o=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(i).trim();o!==i&&delete t[i],t[o]=ln(n),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return cD.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&cD.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=(this[lt]=this[lt]={accessors:{}}).accessors,r=this.prototype;function n(e){let n=lr(e);t[n]||(!function(e,t){let r=cD.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})})}(r,e),t[n]=!0)}return cD.isArray(e)?e.forEach(n):n(e),this}}function la(e,t){let r=this||c9,n=t||r,i=lo.from(n.headers),s=n.data;return cD.forEach(e,function(e){s=e.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function lc(e){return!!(e&&e.__CANCEL__)}function ll(e,t,r){ck.call(this,null==e?"canceled":e,ck.ERR_CANCELED,t,r),this.name="CanceledError"}function lu(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ck("Request failed with status code "+r.status,[ck.ERR_BAD_REQUEST,ck.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}lo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),cD.reduceDescriptors(lo.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),cD.freezeMethods(lo),cD.inherits(ll,ck,{__CANCEL__:!0});var lh=function(e,t){let r;let n=Array(e=e||10),i=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){let c=Date.now(),l=i[o];r||(r=c),n[s]=a,i[s]=c;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),c-r<t)return;let d=l&&c-l;return d?Math.round(1e3*h/d):void 0}},ld=function(e,t){let r,n,i=0,s=1e3/t,o=(t,s=Date.now())=>{i=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{let t=Date.now(),a=t-i;a>=s?o(e,t):(r=e,n||(n=setTimeout(()=>{n=null,o(r)},s-a)))},()=>r&&o(r)]};let lf=(e,t,r=3)=>{let n=0,i=lh(50,250);return ld(r=>{let s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,c=i(a);n=s,e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})},r)},lp=(e,t)=>{let r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},lg=e=>(...t)=>cD.asap(()=>e(...t));var ly=c5.hasStandardBrowserEnv?function(){let e;let t=c5.navigator&&/(msie|trident)/i.test(c5.navigator.userAgent),r=document.createElement("a");function n(e){let n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){let r=cD.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},lm=c5.hasStandardBrowserEnv?{write(e,t,r,n,i,s){let o=[e+"="+encodeURIComponent(t)];cD.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),cD.isString(n)&&o.push("path="+n),cD.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function lb(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let lv=e=>e instanceof lo?{...e}:e;function lw(e,t){t=t||{};let r={};function n(e,t,r){return cD.isPlainObject(e)&&cD.isPlainObject(t)?cD.merge.call({caseless:r},e,t):cD.isPlainObject(t)?cD.merge({},t):cD.isArray(t)?t.slice():t}function i(e,t,r){return cD.isUndefined(t)?cD.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function s(e,t){if(!cD.isUndefined(t))return n(void 0,t)}function o(e,t){return cD.isUndefined(t)?cD.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,s){return s in t?n(r,i):s in e?n(void 0,r):void 0}let c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(lv(e),lv(t),!0)};return cD.forEach(Object.keys(Object.assign({},e,t)),function(n){let s=c[n]||i,o=s(e[n],t[n],n);cD.isUndefined(o)&&s!==a||(r[n]=o)}),r}var lE=e=>{let t;let r=lw({},e),{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:c}=r;if(r.headers=a=lo.from(a),r.url=cJ(lb(r.baseURL,r.url),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),cD.isFormData(n)){if(c5.hasStandardBrowserEnv||c5.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(t=a.getContentType())){let[e,...r]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...r].join("; "))}}if(c5.hasStandardBrowserEnv&&(i&&cD.isFunction(i)&&(i=i(r)),i||!1!==i&&ly(r.url))){let e=s&&o&&lm.read(o);e&&a.set(s,e)}return r},lA="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){let n,i,s,o,a;let c=lE(e),l=c.data,u=lo.from(c.headers).normalize(),{responseType:h,onUploadProgress:d,onDownloadProgress:f}=c;function p(){o&&o(),a&&a(),c.cancelToken&&c.cancelToken.unsubscribe(n),c.signal&&c.signal.removeEventListener("abort",n)}let g=new XMLHttpRequest;function y(){if(!g)return;let n=lo.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());lu(function(e){t(e),p()},function(e){r(e),p()},{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(c.method.toUpperCase(),c.url,!0),g.timeout=c.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(r(new ck("Request aborted",ck.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ck("Network Error",ck.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",n=c.transitional||cY;c.timeoutErrorMessage&&(t=c.timeoutErrorMessage),r(new ck(t,n.clarifyTimeoutError?ck.ETIMEDOUT:ck.ECONNABORTED,e,g)),g=null},void 0===l&&u.setContentType(null),"setRequestHeader"in g&&cD.forEach(u.toJSON(),function(e,t){g.setRequestHeader(t,e)}),cD.isUndefined(c.withCredentials)||(g.withCredentials=!!c.withCredentials),h&&"json"!==h&&(g.responseType=c.responseType),f&&([s,a]=lf(f,!0),g.addEventListener("progress",s)),d&&g.upload&&([i,o]=lf(d),g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",o)),(c.cancelToken||c.signal)&&(n=t=>{g&&(r(!t||t.type?new ll(null,e,g):t),g.abort(),g=null)},c.cancelToken&&c.cancelToken.subscribe(n),c.signal&&(c.signal.aborted?n():c.signal.addEventListener("abort",n)));let m=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(c.url);if(m&&-1===c5.protocols.indexOf(m)){r(new ck("Unsupported protocol "+m+":",ck.ERR_BAD_REQUEST,e));return}g.send(l||null)})},l_=(e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController,i=function(e){if(!r){r=!0,o();let t=e instanceof Error?e:this.reason;n.abort(t instanceof ck?t:new ll(t instanceof Error?t.message:t))}},s=t&&setTimeout(()=>{s=null,i(new ck(`timeout ${t} of ms exceeded`,ck.ETIMEDOUT))},t),o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));let{signal:a}=n;return a.unsubscribe=()=>cD.asap(o),a}};let lP=function*(e,t){let r,n=e.byteLength;if(!t||n<t){yield e;return}let i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},lT=async function*(e,t){for await(let r of lI(e))yield*lP(r,t)},lI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},lC=(e,t,r,n)=>{let i;let s=lT(e,t),o=0,a=e=>{!i&&(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await s.next();if(t){a(),e.close();return}let i=n.byteLength;if(r){let e=o+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},lS="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,lO=lS&&"function"==typeof ReadableStream,lx=lS&&("function"==typeof TextEncoder?(s=new TextEncoder,e=>s.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),lR=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},lM=lO&&lR(()=>{let e=!1,t=new Request(c5.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),lB=lO&&lR(()=>cD.isReadableStream(new Response("").body)),lN={stream:lB&&(e=>e.body)};lS&&(u=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{lN[e]||(lN[e]=cD.isFunction(u[e])?t=>t[e]():(t,r)=>{throw new ck(`Response type '${e}' is not supported`,ck.ERR_NOT_SUPPORT,r)})}));let lD=async e=>{if(null==e)return 0;if(cD.isBlob(e))return e.size;if(cD.isSpecCompliantForm(e)){let t=new Request(c5.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return cD.isArrayBufferView(e)||cD.isArrayBuffer(e)?e.byteLength:(cD.isURLSearchParams(e)&&(e+=""),cD.isString(e))?(await lx(e)).byteLength:void 0},lk=async(e,t)=>{let r=cD.toFiniteNumber(e.getContentLength());return null==r?lD(t):r},lW={http:null,xhr:lA,fetch:lS&&(async e=>{let t,r,{url:n,method:i,data:s,signal:o,cancelToken:a,timeout:c,onDownloadProgress:l,onUploadProgress:u,responseType:h,headers:d,withCredentials:f="same-origin",fetchOptions:p}=lE(e);h=h?(h+"").toLowerCase():"text";let g=l_([o,a&&a.toAbortSignal()],c),y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});try{if(u&&lM&&"get"!==i&&"head"!==i&&0!==(r=await lk(d,s))){let e,t=new Request(n,{method:"POST",body:s,duplex:"half"});if(cD.isFormData(s)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){let[e,n]=lp(r,lf(lg(u)));s=lC(t.body,65536,e,n)}}cD.isString(f)||(f=f?"include":"omit");let o="credentials"in Request.prototype;t=new Request(n,{...p,signal:g,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:o?f:void 0});let a=await fetch(t),c=lB&&("stream"===h||"response"===h);if(lB&&(l||c&&y)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});let t=cD.toFiniteNumber(a.headers.get("content-length")),[r,n]=l&&lp(t,lf(lg(l),!0))||[];a=new Response(lC(a.body,65536,r,()=>{n&&n(),y&&y()}),e)}h=h||"text";let m=await lN[cD.findKey(lN,h)||"text"](a,e);return!c&&y&&y(),await new Promise((r,n)=>{lu(r,n,{data:m,headers:lo.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:t})})}catch(r){if(y&&y(),r&&"TypeError"===r.name&&/fetch/i.test(r.message))throw Object.assign(new ck("Network Error",ck.ERR_NETWORK,e,t),{cause:r.cause||r});throw ck.from(r,r&&r.code,e,t)}})};cD.forEach(lW,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let lU=e=>`- ${e}`,lF=e=>cD.isFunction(e)||null===e||!1===e;var lL=e=>{let t,r;let{length:n}=e=cD.isArray(e)?e:[e],i={};for(let s=0;s<n;s++){let n;if(r=t=e[s],!lF(t)&&void 0===(r=lW[(n=String(t)).toLowerCase()]))throw new ck(`Unknown adapter '${n}'`);if(r)break;i[n||"#"+s]=r}if(!r){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new ck("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(lU).join("\n"):" "+lU(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function lj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ll(null,e)}function lz(e){return lj(e),e.headers=lo.from(e.headers),e.data=la.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lL(e.adapter||c9.adapter)(e).then(function(t){return lj(e),t.data=la.call(e,e.transformResponse,t),t.headers=lo.from(t.headers),t},function(t){return!lc(t)&&(lj(e),t&&t.response&&(t.response.data=la.call(e,e.transformResponse,t.response),t.response.headers=lo.from(t.response.headers))),Promise.reject(t)})}let l$="1.7.7",lq={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lq[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let lV={};lq.transitional=function(e,t,r){function n(e,t){return"[Axios v"+l$+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,s)=>{if(!1===e)throw new ck(n(i," has been removed"+(t?" in "+t:"")),ck.ERR_DEPRECATED);return t&&!lV[i]&&(lV[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}};var lH={assertOptions:function(e,t,r){if("object"!=typeof e)throw new ck("options must be an object",ck.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let s=n[i],o=t[s];if(o){let t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new ck("option "+s+" must be "+r,ck.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new ck("Unknown option "+s,ck.ERR_BAD_OPTION)}},validators:lq};let lG=lH.validators;class lK{constructor(e){this.defaults=e,this.interceptors={request:new cZ,response:new cZ}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:s,headers:o}=t=lw(this.defaults,t);void 0!==i&&lH.assertOptions(i,{silentJSONParsing:lG.transitional(lG.boolean),forcedJSONParsing:lG.transitional(lG.boolean),clarifyTimeoutError:lG.transitional(lG.boolean)},!1),null!=s&&(cD.isFunction(s)?t.paramsSerializer={serialize:s}:lH.assertOptions(s,{encode:lG.function,serialize:lG.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&cD.merge(o.common,o[t.method]);o&&cD.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=lo.concat(a,o);let c=[],l=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(l=l&&e.synchronous,c.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let h=0;if(!l){let e=[lz.bind(this),void 0];for(e.unshift.apply(e,c),e.push.apply(e,u),n=e.length,r=Promise.resolve(t);h<n;)r=r.then(e[h++],e[h++]);return r}n=c.length;let d=t;for(h=0;h<n;){let e=c[h++],t=c[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{r=lz.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,n=u.length;h<n;)r=r.then(u[h++],u[h++]);return r}getUri(e){return cJ(lb((e=lw(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}cD.forEach(["delete","get","head","options"],function(e){lK.prototype[e]=function(t,r){return this.request(lw(r||{},{method:e,url:t,data:(r||{}).data}))}}),cD.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(lw(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}lK.prototype[e]=t(),lK.prototype[e+"Form"]=t(!0)});class lJ{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new ll(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new lJ(function(t){e=t}),cancel:e}}}let lZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lZ).forEach(([e,t])=>{lZ[t]=e});let lY=function e(t){let r=new lK(t),n=a5(lK.prototype.request,r);return cD.extend(n,lK.prototype,r,{allOwnKeys:!0}),cD.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(lw(t,r))},n}(c9);lY.Axios=lK,lY.CanceledError=ll,lY.CancelToken=lJ,lY.isCancel=lc,lY.VERSION=l$,lY.toFormData=cq,lY.AxiosError=ck,lY.Cancel=lY.CanceledError,lY.all=function(e){return Promise.all(e)},lY.spread=function(e){return function(t){return e.apply(null,t)}},lY.isAxiosError=function(e){return cD.isObject(e)&&!0===e.isAxiosError},lY.mergeConfig=lw,lY.AxiosHeaders=lo,lY.formToJSON=e=>c8(cD.isHTMLForm(e)?new FormData(e):e),lY.getAdapter=lL,lY.HttpStatusCode=lZ,lY.default=lY;class lQ{host;timeout;user;password;headers;statusPage;instance;constructor(e,t=3e4,r="",n="",i={},s="/"){if(!eT(e))throw Error("Invalid URL provided to HttpProvider");if(isNaN(t)||t<0)throw Error("Invalid timeout duration provided");if(!eI(i))throw Error("Invalid headers object provided");e=e.replace(/\/+$/,""),this.host=e,this.timeout=t,this.user=r,this.password=n,this.headers=i,this.statusPage=s,this.instance=lY.create({baseURL:e,timeout:t,headers:i,auth:r?{username:r,password:n}:void 0})}setStatusPage(e="/"){this.statusPage=e}async isConnected(e=this.statusPage){return this.request(e).then(e=>ek(e,"blockID","block_header")).catch(()=>!1)}request(e,t={},r="get"){return r=r.toLowerCase(),this.instance.request({data:"post"==r&&Object.keys(t).length?t:null,params:"get"==r&&t,url:e,method:r}).then(({data:e})=>e)}}let lX={HttpProvider:lQ};var l0=r(77625),l1=r(17569);let l2=new iH;function l3(e){return h$.address.toHex(e).replace(aG,"0x")}function l6(e,t,r,n=!1){if(n&&r.replace(/^0x/,"").length%64==8&&(r="0x"+r.replace(/^0x/,"").substring(8)),r.replace(/^0x/,"").length%64)throw Error("The encoded string is not valid. Its length must be a multiple of 64.");return t=t.map(e=>(/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e)),l2.decode(t,r).reduce((r,n,i)=>("address"==t[i]&&(n=aV+n.substr(2).toLowerCase()),e.length?r[e[i]]=n:r.push(n),r),e.length?{}:[])}function l4(e,t){for(let r=0;r<e.length;r++)"address"===e[r]&&(t[r]=h$.address.toHex(t[r]).replace(aG,"0x"));return l2.encode(e,t)}function l5(e){let t=e.match(/([a-zA-Z0-9])(\[.*\])/);return t?t[2]:""}function l8(e){return(l5(e).match(/\]\[/g)||[]).length+1}function l9(e,t){let r=[],n=e=>{if(e&&0===e.type.indexOf("tuple")&&e.components){let t=e.components.map(e=>n(e));return`tuple(${t.join(",")})${l5(e.type)}`}return/trcToken/.test(e.type)?e.type.replace(/trcToken/,"uint256"):e.type},i=e=>Array.isArray(e)?(e.forEach((t,r)=>{e[r]=i(t)}),e):l3(e),s=(e,t,r)=>{r>1?t.length&&t.forEach(t=>{s(e,t,r-1)}):t.length&&r&&t.forEach(t=>{o(e,t)})},o=(e=[],t)=>{e.length&&e.forEach((e,r)=>{let n=e.type;if(t[r]){if("address"===n)t[r]=l3(t[r]);else if("address["===n.match(/^([^\x5b]*)(\x5b|$)/)[0])i(t[r]);else if(0===n.indexOf("tuple")){if(l5(n)){let i=l8(n);s(e.components,t[r],i)}else o(e.components,t[r])}}})};if(e.inputs&&e.inputs.length)for(let i=0;i<e.inputs.length;i++){let s=e.inputs[i].type;"bool"===s&&"false"===t[i]&&(t[i]=!1),r.push(0===s.indexOf("tuple")?n(e.inputs[i]):s),t.length<r.length&&t.push("")}return o(e.inputs,t),(e=>{for(let t=0;t<e.length;t++){let r=e[t];/trcToken/.test(r)&&(e[t]=r.replace(/trcToken/,"uint256"))}})(r),l2.encode(r,t)}function l7(e,t){let r=e=>Array.isArray(e)?(e.forEach((t,n)=>{e[n]=r(t)}),e):h$.address.toHex(e),n=(e,t,r)=>{r>1?t.length&&t.forEach(t=>{n(e,t,r-1)}):t.length&&r&&t.forEach(t=>{s(e,t)})},i=e=>{let t=e.name?` ${e.name}`:"";if(e&&0===e.type.indexOf("tuple")&&e.components){let r=e.components.map(e=>i(e));return`tuple(${r.join(",")})${l5(e.type)}${t}`}return/trcToken/.test(e.type)?e.type.replace(/trcToken/,"uint256")+t:e.type+t},s=(e,t)=>{e.length&&e.forEach((e,i)=>{let{type:o,name:a}=e;if(t[i]){if("address"===o)t[i]=h$.address.toHex(t[i]),a&&(t[a]=h$.address.toHex(t[i]));else if("address["===o.match(/^([^\x5b]*)(\x5b|$)/)[0])r(t[i]),a&&(t[a]=r(t[i]));else if(0===o.indexOf("tuple")){if(l5(o)){let r=l8(o);n(e.components,t[i],r)}else s(e.components,t[i]);a&&(t[a]=t[i])}else a&&(t[a]=t[i])}else a&&(t[a]=t[i])})};if("outputs"in e&&e.outputs&&e.outputs.length>0){let r=[];for(let t=0;t<e.outputs.length;t++){let n=e.outputs[t].type,s=e.outputs[t].name?` ${e.outputs[t].name}`:"";r.push(0===n.indexOf("tuple")?i(e.outputs[t]):n+s)}(e=>{for(let t=0;t<e.length;t++){let r=e[t];/^trcToken/.test(r)&&(e[t]=r.replace(/^trcToken/,"uint256"))}})(r),t&&t.length||(t=new Uint8Array(32*e.outputs.length));let n=l2.decode(r,t).toArray(!0);return s(e.outputs,n),n}return[]}class ue{invalid(e){return e.msg||`Invalid ${e.name}${"address"===e.type?" address":""} provided`}notPositive(e){return`${e.name} must be a positive integer`}notEqual(e){return e.msg||`${e.names?.[0]} can not be equal to ${e.names?.[1]}`}notValid(e){let t={},r=!1;for(let n of e){let{name:e,names:i,value:s,type:o,gt:a,lt:c,gte:l,lte:u,optional:h}=n;if(!h||eL(s)&&("boolean"===o||!1!==s)){switch(t[e]=n.value,o){case"address":a1(s)?t[e]=aY(s):r=!0;break;case"integer":(!eN(s)||"number"==typeof a&&s<=a||"number"==typeof c&&s>=c||"number"==typeof l&&s<l||"number"==typeof u&&s>u)&&(r=!0);break;case"positive-integer":if(!eN(s)||s<=0)throw Error(this.notPositive(n));break;case"tokenId":case"not-empty-string":eR(s)&&s.length||(r=!0);break;case"notEmptyObject":eI(s)&&Object.keys(s).length||(r=!0);break;case"notEqual":if(i&&t[i[0]]===t[i[1]])throw Error(this.notEqual(n));break;case"resource":["BANDWIDTH","ENERGY"].includes(s)||(r=!0);break;case"url":eT(s)||(r=!0);break;case"hex":eB(s)||(r=!0);break;case"array":Array.isArray(s)||(r=!0);break;case"boolean":eO(s)||(r=!0);break;case"string":(!eR(s)||"number"==typeof a&&s.length<=a||"number"==typeof c&&s.length>=c||"number"==typeof l&&s.length<l||"number"==typeof u&&s.length>u)&&(r=!0)}if(r)throw Error(this.invalid(n))}}return!1}}(h=T||(T={})).AccountCreateContract="AccountCreateContract",h.TransferContract="TransferContract",h.TransferAssetContract="TransferAssetContract",h.VoteAssetContract="VoteAssetContract",h.VoteWitnessContract="VoteWitnessContract",h.WitnessCreateContract="WitnessCreateContract",h.AssetIssueContract="AssetIssueContract",h.WitnessUpdateContract="WitnessUpdateContract",h.ParticipateAssetIssueContract="ParticipateAssetIssueContract",h.AccountUpdateContract="AccountUpdateContract",h.FreezeBalanceContract="FreezeBalanceContract",h.UnfreezeBalanceContract="UnfreezeBalanceContract",h.CancelAllUnfreezeV2Contract="CancelAllUnfreezeV2Contract",h.WithdrawBalanceContract="WithdrawBalanceContract",h.UnfreezeAssetContract="UnfreezeAssetContract",h.UpdateAssetContract="UpdateAssetContract",h.ProposalCreateContract="ProposalCreateContract",h.ProposalApproveContract="ProposalApproveContract",h.ProposalDeleteContract="ProposalDeleteContract",h.SetAccountIdContract="SetAccountIdContract",h.CustomContract="CustomContract",h.CreateSmartContract="CreateSmartContract",h.TriggerSmartContract="TriggerSmartContract",h.GetContract="GetContract",h.UpdateSettingContract="UpdateSettingContract",h.ExchangeCreateContract="ExchangeCreateContract",h.ExchangeInjectContract="ExchangeInjectContract",h.ExchangeWithdrawContract="ExchangeWithdrawContract",h.ExchangeTransactionContract="ExchangeTransactionContract",h.UpdateEnergyLimitContract="UpdateEnergyLimitContract",h.AccountPermissionUpdateContract="AccountPermissionUpdateContract",h.ClearABIContract="ClearABIContract",h.UpdateBrokerageContract="UpdateBrokerageContract",h.ShieldedTransferContract="ShieldedTransferContract",h.MarketSellAssetContract="MarketSellAssetContract",h.MarketCancelOrderContract="MarketCancelOrderContract",h.FreezeBalanceV2Contract="FreezeBalanceV2Contract",h.UnfreezeBalanceV2Contract="UnfreezeBalanceV2Contract",h.WithdrawExpireUnfreezeContract="WithdrawExpireUnfreezeContract",h.DelegateResourceContract="DelegateResourceContract",h.UnDelegateResourceContract="UnDelegateResourceContract",h.UNRECOGNIZED="UNRECOGNIZED",(d=I||(I={}))[d.Owner=0]="Owner",d[d.Witness=1]="Witness",d[d.Active=2]="Active",d[d.UNRECOGNIZED=-1]="UNRECOGNIZED",(f=C||(C={}))[f.Normal=0]="Normal",f[f.AssetIssue=1]="AssetIssue",f[f.Contract=2]="Contract",f[f.UNRECOGNIZED=-1]="UNRECOGNIZED";var ut=r(65059);r(91641),r(35267),r(78821),r(90856),r(79628),r(52160),r(32586),r(603),r(44572),r(44561);var ur=r(82957).lW;let{Transaction:un,Permission:ui,Key:us}=globalThis.TronWebProto,{TransferContract:uo,FreezeBalanceContract:ua,UnfreezeBalanceContract:uc,WithdrawBalanceContract:ul,FreezeBalanceV2Contract:uu,UnfreezeBalanceV2Contract:uh,WithdrawExpireUnfreezeContract:ud,DelegateResourceContract:uf,UnDelegateResourceContract:up}=globalThis.TronWebProto,{TransferAssetContract:ug,ParticipateAssetIssueContract:uy,AssetIssueContract:um,UpdateAssetContract:ub}=globalThis.TronWebProto,{TriggerSmartContract:uv,ClearABIContract:uw,UpdateEnergyLimitContract:uE,UpdateSettingContract:uA,CreateSmartContract:u_,SmartContract:uP}=globalThis.TronWebProto,{ResourceCode:uT}=globalThis.TronWebProto,{WitnessCreateContract:uI,VoteWitnessContract:uC}=globalThis.TronWebProto,{UpdateBrokerageContract:uS}=globalThis.TronWebProto,{AccountCreateContract:uO,AccountUpdateContract:ux,SetAccountIdContract:uR,AccountPermissionUpdateContract:uM}=globalThis.TronWebProto,{ProposalCreateContract:uB,ProposalDeleteContract:uN,ProposalApproveContract:uD}=globalThis.TronWebProto,{ExchangeCreateContract:uk,ExchangeInjectContract:uW,ExchangeWithdrawContract:uU,ExchangeTransactionContract:uF}=globalThis.TronWebProto,uL=e=>new Uint8Array(e&&0!==e.length?hq.address.toHex(e).match(/.{1,2}/g).map(e=>parseInt(e,16)):[]),uj=e=>new Uint8Array(e&&0!==e.length?(eB(e)?e:hq.toHex(e)).replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)):[]),uz=(e,t)=>t?uj(hq.fromUtf8(e).replace(/^0x/,"")):uj(e.replace(/^0x/,"")),u$=(e,t=!0)=>(t?"0x":"")+rU(ur.from(e,"utf-8")).toString().substring(2),uq=(e,t,r,n)=>{let i=new ut.Any;i.pack(e.serializeBinary(),"protocol."+r);let s=new un.Contract;s.setType(t),s.setParameter(i),n&&s.setPermissionId(n);let o=new un.raw;o.addContract(s);let a=new un;return a.setRawData(o),a},uV=(e,t)=>{let{to_address:r,owner_address:n,amount:i}=e,s=new uo;return s.setToAddress(uL(r)),s.setOwnerAddress(uL(n)),s.setAmount(i),uq(s,un.Contract.ContractType.TRANSFERCONTRACT,"TransferContract",t.Permission_id)},uH=(e,t)=>{let{to_address:r,owner_address:n,amount:i,asset_name:s}=e,o=new ug;return o.setToAddress(uL(r)),o.setOwnerAddress(uL(n)),o.setAssetName(uz(s,t.visible)),o.setAmount(i),uq(o,un.Contract.ContractType.TRANSFERASSETCONTRACT,"TransferAssetContract",t.Permission_id)},uG=(e,t)=>{let r=new uy;return r.setToAddress(uL(e.to_address)),r.setOwnerAddress(uL(e.owner_address)),r.setAssetName(uz(e.asset_name,t.visible)),r.setAmount(e.amount),uq(r,un.Contract.ContractType.PARTICIPATEASSETISSUECONTRACT,"ParticipateAssetIssueContract",t.Permission_id)},uK=(e,t)=>{let r=new uv,{owner_address:n,contract_address:i,parameter:s="",function_selector:o,call_value:a,call_token_value:c,token_id:l,data:u}=e;if(r.setOwnerAddress(uL(n)),r.setContractAddress(uL(i)),r.setCallValue(a),u)r.setData(uj(u));else if(o){let e=u$(o).substring(2,10)+s;r.setData(uj(e))}return l&&r.setTokenId(l),c&&r.setCallTokenValue(c),uq(r,un.Contract.ContractType.TRIGGERSMARTCONTRACT,"TriggerSmartContract",t.Permission_id)},uJ=(e,t)=>{let r=new ua,{owner_address:n,frozen_balance:i,frozen_duration:s,resource:o,receiver_address:a}=e;return r.setOwnerAddress(uL(n)),r.setFrozenBalance(i),r.setFrozenDuration(s),o&&r.setResource(uT[o]),a&&r.setReceiverAddress(uL(a)),uq(r,un.Contract.ContractType.FREEZEBALANCECONTRACT,"FreezeBalanceContract",t.Permission_id)},uZ=(e,t)=>{let r=new uc,{owner_address:n,resource:i,receiver_address:s}=e;return r.setOwnerAddress(uL(n)),i&&r.setResource(uT[i]),s&&r.setReceiverAddress(uL(s)),uq(r,un.Contract.ContractType.UNFREEZEBALANCECONTRACT,"UnfreezeBalanceContract",t.Permission_id)},uY=(e,t)=>{let r=new ul,{owner_address:n}=e;return r.setOwnerAddress(uL(n)),uq(r,un.Contract.ContractType.WITHDRAWBALANCECONTRACT,"WithdrawBalanceContract",t.Permission_id)},uQ=(e,t)=>{let r=new uu,{owner_address:n,frozen_balance:i,resource:s}=e;return r.setOwnerAddress(uL(n)),r.setFrozenBalance(i),r.setResource(uT[s]),uq(r,un.Contract.ContractType.FREEZEBALANCEV2CONTRACT,"FreezeBalanceV2Contract",t.Permission_id)},uX=(e,t)=>{let r=new ud,{owner_address:n}=e;return r.setOwnerAddress(uL(n)),uq(r,un.Contract.ContractType.CANCELALLUNFREEZEV2CONTRACT,"CancelAllUnfreezeV2Contract",t.Permission_id)},u0=(e,t)=>{let r=new uh,{owner_address:n,unfreeze_balance:i,resource:s}=e;return r.setOwnerAddress(uL(n)),r.setUnfreezeBalance(i),r.setResource(uT[s]),uq(r,un.Contract.ContractType.UNFREEZEBALANCEV2CONTRACT,"UnfreezeBalanceV2Contract",t.Permission_id)},u1=(e,t)=>{let r=new uf,{owner_address:n,receiver_address:i,balance:s,resource:o,lock:a=!1,lock_period:c}=e;return r.setOwnerAddress(uL(n)),r.setBalance(s),r.setResource(uT[o]),r.setLock(a),r.setLockPeriod(c),r.setReceiverAddress(uL(i)),uq(r,un.Contract.ContractType.DELEGATERESOURCECONTRACT,"DelegateResourceContract",t.Permission_id)},u2=(e,t)=>{let r=new up,{owner_address:n,receiver_address:i,balance:s,resource:o}=e;return r.setOwnerAddress(uL(n)),r.setBalance(s),r.setResource(uT[o]),r.setReceiverAddress(uL(i)),uq(r,un.Contract.ContractType.UNDELEGATERESOURCECONTRACT,"UnDelegateResourceContract",t.Permission_id)},u3=(e,t)=>{let r=new ud,{owner_address:n}=e;return r.setOwnerAddress(uL(n)),uq(r,un.Contract.ContractType.WITHDRAWEXPIREUNFREEZECONTRACT,"WithdrawExpireUnfreezeContract",t.Permission_id)},u6=(e,t)=>{let r=new uI,{owner_address:n,url:i}=e;return r.setOwnerAddress(uL(n)),r.setUrl(uj(i.replace(/^0x/,""))),uq(r,un.Contract.ContractType.WITNESSCREATECONTRACT,"WitnessCreateContract",t.Permission_id)},u4=(e,t)=>{let r=new uC,{owner_address:n,votes:i}=e;return r.setOwnerAddress(uL(n)),i.forEach(e=>{let t=new uC.Vote,{vote_address:n,vote_count:i}=e;t.setVoteAddress(uL(n));let s=parseInt(i);t.setVoteCount(s),r.addVotes(t)}),uq(r,un.Contract.ContractType.VOTEWITNESSCONTRACT,"VoteWitnessContract",t.Permission_id)},u5=(e,t)=>{let r=e?.new_contract?{owner_address:e.owner_address,call_token_value:e.call_token_value,token_id:e.token_id,...e.new_contract}:e,{owner_address:n,consume_user_resource_percent:i,origin_energy_limit:s,abi:o,bytecode:a="",parameter:c="",call_value:l,call_token_value:u,token_id:h,name:d}=r,{origin_address:f}=r,p=new u_;p.setOwnerAddress(uL(n)),h&&p.setTokenId(h),u&&p.setCallTokenValue(u);let g=new uP;if(o){let e;e="string"==typeof o?JSON.parse(o):o?.entrys||[];let t=new uP.ABI,r=e=>{let t=new uP.ABI.Entry.Param,{indexed:r,name:n,type:i}=e;return!0===r&&t.setIndexed(!0),t.setName(n),t.setType(i),t},n=e.map(e=>{let{anonymous:t,constant:n,name:i,inputs:s,outputs:o,type:a,payable:c,stateMutability:l}=e,u=new uP.ABI.Entry;return u.setAnonymous(t),u.setConstant(n),u.setName(i),s&&u.setInputsList(s.map(e=>r(e))),o&&u.setOutputsList(o.map(e=>r(e))),a&&u.setType(uP.ABI.Entry.EntryType[a.toUpperCase()]),u.setPayable(c),l&&u.setStatemutability(uP.ABI.Entry.StateMutabilityType[l.toUpperCase()]),u});t.setEntrysList(n),g.setAbi(t)}if(l&&g.setCallValue(l),g.setConsumeUserResourcePercent(i),g.setOriginEnergyLimit(s),f||(f=n),g.setOriginAddress(uL(f)),a){let e=a.replace(/^0x/,"")+c.replace(/^0x/,"");g.setBytecode(uj(e))}return g.setName(d),p.setNewContract(g),uq(p,un.Contract.ContractType.CREATESMARTCONTRACT,"CreateSmartContract",t.Permission_id)},u8=(e,t)=>{let{contract_address:r,owner_address:n}=e,i=new uw;return i.setOwnerAddress(uL(n)),i.setContractAddress(uL(r)),uq(i,un.Contract.ContractType.CLEARABICONTRACT,"ClearABIContract",t.Permission_id)},u9=(e,t)=>{let{brokerage:r,owner_address:n}=e,i=new uS;return i.setOwnerAddress(uL(n)),i.setBrokerage(r),uq(i,un.Contract.ContractType.UPDATEBROKERAGECONTRACT,"UpdateBrokerageContract",t.Permission_id)},u7=(e,t)=>{let{owner_address:r,name:n,abbr:i,description:s,url:o,total_supply:a,trx_num:c,num:l,start_time:u,end_time:h,precision:d,free_asset_net_limit:f,public_free_asset_net_limit:p,public_free_asset_net_usage:g=0,public_latest_free_net_time:y=0,vote_score:m=0,frozen_supply:b}=e,v=new um;if(v.setOwnerAddress(uL(r)),n&&v.setName(uj(n.replace(/^0x/,""))),i&&v.setAbbr(uj(i.replace(/^0x/,""))),v.setTotalSupply(a),v.setNum(l),v.setEndTime(h),v.setStartTime(u),v.setTrxNum(c),v.setVoteScore(m),d&&v.setPrecision(d),y&&v.setPublicLatestFreeNetTime(y),s&&v.setDescription(uj(s.replace(/^0x/,""))),o&&v.setUrl(uj(o.replace(/^0x/,""))),v.setPublicFreeAssetNetUsage(g),v.setFreeAssetNetLimit(f),v.setPublicFreeAssetNetLimit(p),b){let e=new um.FrozenSupply;e.setFrozenAmount(b.length?b[0].frozen_amount:b.frozen_amount),e.setFrozenDays(b.length?b[0].frozen_days:b.frozen_days),v.addFrozenSupply(e)}return uq(v,un.Contract.ContractType.ASSETISSUECONTRACT,"AssetIssueContract",t.Permission_id)},he=(e,t)=>{let r=new uO,{account_address:n,owner_address:i}=e;return r.setOwnerAddress(uL(i)),r.setAccountAddress(uL(n.replace(/^0x/,""))),uq(r,un.Contract.ContractType.ACCOUNTCREATECONTRACT,"AccountCreateContract",t.Permission_id)},ht=(e,t)=>{let r=new ux,{account_name:n,owner_address:i}=e;return r.setOwnerAddress(uL(i)),r.setAccountName(uj(n.replace(/^0x/,""))),uq(r,un.Contract.ContractType.ACCOUNTUPDATECONTRACT,"AccountUpdateContract",t.Permission_id)},hr=(e,t)=>{let r=new uR,{account_id:n,owner_address:i}=e;return r.setOwnerAddress(uL(i)),r.setAccountId(uj(n.replace(/^0x/,""))),uq(r,un.Contract.ContractType.SETACCOUNTIDCONTRACT,"SetAccountIdContract",t.Permission_id)},hn=(e,t)=>{let r=new uB,{owner_address:n,parameters:i}=e;return r.setOwnerAddress(uL(n)),i.forEach(e=>{r.getParametersMap().set(e.key,e.value)}),uq(r,un.Contract.ContractType.PROPOSALCREATECONTRACT,"ProposalCreateContract",t.Permission_id)},hi=(e,t)=>{let r=new uN,{owner_address:n,proposal_id:i}=e;return r.setOwnerAddress(uL(n)),r.setProposalId(i),uq(r,un.Contract.ContractType.PROPOSALDELETECONTRACT,"ProposalDeleteContract",t.Permission_id)},hs=(e,t)=>{let r=new uD,{owner_address:n,proposal_id:i,is_add_approval:s}=e;return r.setOwnerAddress(uL(n)),r.setProposalId(i),r.setIsAddApproval(s),uq(r,un.Contract.ContractType.PROPOSALAPPROVECONTRACT,"ProposalApproveContract",t.Permission_id)},ho=(e,t)=>{let r=new uk,{owner_address:n,first_token_id:i,first_token_balance:s,second_token_id:o,second_token_balance:a}=e;return r.setOwnerAddress(uL(n)),r.setFirstTokenId(uz(i,t.visible)),r.setFirstTokenBalance(s),r.setSecondTokenId(uz(o,t.visible)),r.setSecondTokenBalance(a),uq(r,un.Contract.ContractType.EXCHANGECREATECONTRACT,"ExchangeCreateContract",t.Permission_id)},ha=(e,t)=>{let r=new uW,{owner_address:n,exchange_id:i,token_id:s,quant:o}=e;return r.setOwnerAddress(uL(n)),r.setExchangeId(i),r.setTokenId(uz(s,t.visible)),r.setQuant(o),uq(r,un.Contract.ContractType.EXCHANGEINJECTCONTRACT,"ExchangeInjectContract",t.Permission_id)},hc=(e,t)=>{let r=new uU,{owner_address:n,exchange_id:i,token_id:s,quant:o}=e;return r.setOwnerAddress(uL(n)),r.setExchangeId(i),r.setTokenId(uz(s,t.visible)),r.setQuant(o),uq(r,un.Contract.ContractType.EXCHANGEWITHDRAWCONTRACT,"ExchangeWithdrawContract",t.Permission_id)},hl=(e,t)=>{let r=new uF,{owner_address:n,exchange_id:i,token_id:s,quant:o,expected:a}=e;return r.setOwnerAddress(uL(n)),r.setExchangeId(i),r.setTokenId(uz(s,t.visible)),r.setQuant(o),r.setExpected(a),uq(r,un.Contract.ContractType.EXCHANGETRANSACTIONCONTRACT,"ExchangeTransactionContract",t.Permission_id)},hu=(e,t)=>{let r=new uA,{owner_address:n,contract_address:i,consume_user_resource_percent:s}=e;return r.setOwnerAddress(uL(n)),r.setContractAddress(uL(i)),r.setConsumeUserResourcePercent(s),uq(r,un.Contract.ContractType.UPDATESETTINGCONTRACT,"UpdateSettingContract",t.Permission_id)},hh=(e,t)=>{let r=new uE,{owner_address:n,contract_address:i,origin_energy_limit:s}=e;return r.setOwnerAddress(uL(n)),r.setContractAddress(uL(i)),r.setOriginEnergyLimit(s),uq(r,un.Contract.ContractType.UPDATEENERGYLIMITCONTRACT,"UpdateEnergyLimitContract",t.Permission_id)},hd=(e,t)=>{let r=new uM,{owner_address:n,owner:i,witness:s,actives:o}=e;r.setOwnerAddress(uL(n));let a=e=>isNaN(e)?"Active"===e?2:"Witness"===e?1:0:e,c=e=>{let t=new ui,{type:r,id:n,permission_name:i,threshold:s,parentId:o,operations:c,keys:l}=e;return t.setType(a(r)),t.setId(n),t.setPermissionName(i),t.setThreshold(s),o&&t.setParentId(o),c&&t.setOperations(uj(c)),l&&t.setKeysList(l.map(e=>{let t=new us;return t.setAddress(uL(e.address)),t.setWeight(e.weight),t})),t};return i&&r.setOwner(c(i)),s&&r.setWitness(c(s)),o&&(Array.isArray(o)?r.setActivesList(o.map(e=>c(e))):r.setActivesList([c(o)])),uq(r,un.Contract.ContractType.ACCOUNTPERMISSIONUPDATECONTRACT,"AccountPermissionUpdateContract",t.Permission_id)},hf=(e,t)=>{let r=new ub,{owner_address:n,description:i,url:s,new_limit:o,new_public_limit:a}=e;return r.setOwnerAddress(uL(n)),i&&r.setDescription(uj(i.replace(/^0x/,""))),s&&r.setUrl(uj(s.replace(/^0x/,""))),o&&r.setNewLimit(o),a&&r.setNewPublicLimit(a),uq(r,un.Contract.ContractType.UPDATEASSETCONTRACT,"UpdateAssetContract",t.Permission_id)},hp=(e,t,r)=>{switch(e.type){case"TransferContract":return uV(t,r);case"TransferAssetContract":return uH(t,r);case"ParticipateAssetIssueContract":return uG(t,r);case"TriggerSmartContract":return uK(t,r);case"FreezeBalanceContract":return uJ(t,r);case"UnfreezeBalanceContract":return uZ(t,r);case"WithdrawBalanceContract":return uY(t,r);case"FreezeBalanceV2Contract":return uQ(t,r);case"CancelAllUnfreezeV2Contract":return uX(t,r);case"UnfreezeBalanceV2Contract":return u0(t,r);case"DelegateResourceContract":return u1(t,r);case"UnDelegateResourceContract":return u2(t,r);case"WithdrawExpireUnfreezeContract":return u3(t,r);case"WitnessCreateContract":return u6(t,r);case"VoteWitnessContract":return u4(t,r);case"CreateSmartContract":return u5(t,r);case"ClearABIContract":return u8(t,r);case"UpdateBrokerageContract":return u9(t,r);case"AssetIssueContract":return u7(t,r);case"AccountCreateContract":return he(t,r);case"AccountUpdateContract":return ht(t,r);case"SetAccountIdContract":return hr(t,r);case"ProposalCreateContract":return hn(t,r);case"ProposalDeleteContract":return hi(t,r);case"ProposalApproveContract":return hs(t,r);case"ExchangeCreateContract":return ho(t,r);case"ExchangeInjectContract":return ha(t,r);case"ExchangeWithdrawContract":return hc(t,r);case"ExchangeTransactionContract":return hl(t,r);case"UpdateSettingContract":return hu(t,r);case"UpdateEnergyLimitContract":return hh(t,r);case"AccountPermissionUpdateContract":return hd(t,r);case"UpdateAssetContract":return hf(t,r)}},hg=e=>{let t=e.raw_data,r=t.contract[0],n=r.parameter.value,i={Permission_id:r.Permission_id,visible:e.visible},s=hp(r,n,i),o=s.getRawData();return o.setRefBlockBytes(uj(t.ref_block_bytes)),o.setRefBlockHash(uj(t.ref_block_hash)),t.data&&o.setData(uj(t.data)),t.fee_limit&&o.setFeeLimit(t.fee_limit),t.expiration&&o.setExpiration(t.expiration),t.timestamp&&o.setTimestamp(t.timestamp),s.setRawData(o),s},hy=(e,t={},r={})=>{let n=e.raw_data,i=hp(n.contract[0],t,{Permission_id:t?.Permission_id}),s=i.getRawData();return s.setRefBlockBytes(uj(n.ref_block_bytes)),s.setRefBlockHash(uj(n.ref_block_hash)),r.data&&s.setData(uj(r.data.replace(/^0x/,""))),(r.fee_limit||t.fee_limit)&&s.setFeeLimit(r.fee_limit||t.fee_limit),n.expiration&&s.setExpiration(n.expiration),n.timestamp&&s.setTimestamp(n.timestamp),i.setRawData(s),i},hm=(e,t)=>{let r=t.getRawData().serializeBinary(),n=Q(r),i=ru(r);return n.toLowerCase()===e.raw_data_hex.toLowerCase()&&i.replace(/^0x/,"").toLowerCase()===e.txID.replace(/^0x/,"").toLowerCase()},hb=e=>Q(e.getRawData().serializeBinary()),hv=e=>{let t=hg(e);return hm(e,t)},hw=(e,t,r)=>{let n=hy(e,t,r);return hm(e,n)},hE=e=>ru(e.getRawData().serializeBinary());var hA=r(82957).lW;function h_(e){return h$.fromUtf8(e).replace(/^0x/,"")}function hP(e){return JSON.parse(JSON.stringify(e))}function hT(e={}){if(void 0===e.ref_block_bytes&&void 0===e.ref_block_hash&&void 0===e.expiration&&void 0===e.timestamp)return!1;if("string"!=typeof e.ref_block_bytes)throw Error("Invalid ref_block_bytes provided.");if("string"!=typeof e.ref_block_hash)throw Error("Invalid ref_block_hash provided.");if("number"!=typeof e.expiration)throw Error("Invalid expiration provided.");if("number"!=typeof e.timestamp)throw Error("Invalid timestamp provided.");return!0}async function hI(e,t,r,n,i={}){let s={visible:!1,txID:"",raw_data_hex:"",raw_data:{contract:[{parameter:{value:r,type_url:`type.googleapis.com/protocol.${t}`},type:t}],...hT(i)?{}:await e.fullNode.request("wallet/getblock",{detail:!1},"post").then(e=>({ref_block_bytes:e.block_header.raw_data.number.toString(16).slice(-4).padStart(4,"0"),ref_block_hash:e.blockID.slice(16,32),expiration:e.block_header.raw_data.timestamp+6e4,timestamp:e.block_header.raw_data.timestamp})),...i}};n&&(s.raw_data.contract[0].Permission_id=n);let o=hg(s);return s.txID=hE(o).replace(/^0x/,""),s.raw_data_hex=hb(o).toLowerCase(),s}function hC(e={}){let t={};return hT(e.blockHeader)&&(t.ref_block_bytes=e.blockHeader.ref_block_bytes,t.ref_block_hash=e.blockHeader.ref_block_hash,t.expiration=e.blockHeader.expiration,t.timestamp=e.blockHeader.timestamp),t}var hS=r(82957).lW;class hO{tronWeb;validator;constructor(e){if(!e||!(e instanceof h$))throw Error("Expected instance of TronWeb");this.tronWeb=e,this.validator=new ue}async sendTrx(e,t=0,r=this.tronWeb.defaultAddress.hex,n={}){t=parseInt(t),this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:r},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer TRX to the same account"},{name:"amount",type:"integer",gt:0,value:t}]);let i={to_address:aY(e),owner_address:aY(r),amount:t},s=hC(n);return hI(this.tronWeb,T.TransferContract,i,n?.permissionId,s)}async sendToken(e,t=0,r,n=this.tronWeb.defaultAddress.hex,i={}){t=parseInt(t),this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:n},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer tokens to the same account"},{name:"amount",type:"integer",gt:0,value:t},{name:"token ID",type:"tokenId",value:r}]);let s={to_address:aY(e),owner_address:aY(n),asset_name:h_(r),amount:t},o=hC(i);return hI(this.tronWeb,T.TransferAssetContract,s,i?.permissionId,o)}async purchaseToken(e,t,r=0,n=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"buyer",type:"address",value:n},{name:"issuer",type:"address",value:e},{names:["buyer","issuer"],type:"notEqual",msg:"Cannot purchase tokens from same account"},{name:"amount",type:"integer",gt:0,value:r},{name:"token ID",type:"tokenId",value:t}]);let s={to_address:aY(e),owner_address:aY(n),asset_name:h_(t),amount:parseInt(r)},o=hC(i);return hI(this.tronWeb,T.ParticipateAssetIssueContract,s,i?.permissionId,o)}async freezeBalance(e=0,t=3,r="BANDWIDTH",n=this.tronWeb.defaultAddress.hex,i,s={}){this.validator.notValid([{name:"origin",type:"address",value:n},{name:"receiver",type:"address",value:i,optional:!0},{name:"amount",type:"integer",gt:0,value:e},{name:"duration",type:"integer",gte:3,value:t},{name:"resource",type:"resource",value:r,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);let o={owner_address:aY(n),frozen_balance:parseInt(e),frozen_duration:parseInt(String(t))};"BANDWIDTH"!==r&&(o.resource=r),eL(i)&&aY(i)!==aY(n)&&(o.receiver_address=aY(i));let a=hC(s);return hI(this.tronWeb,T.FreezeBalanceContract,o,s?.permissionId,a)}async unfreezeBalance(e="BANDWIDTH",t=this.tronWeb.defaultAddress.hex,r,n={}){this.validator.notValid([{name:"origin",type:"address",value:t},{name:"receiver",type:"address",value:r,optional:!0},{name:"resource",type:"resource",value:e,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);let i={owner_address:aY(t)};"BANDWIDTH"!==e&&(i.resource=e),eL(r)&&aY(r)!==aY(t)&&(i.receiver_address=aY(r));let s=hC(n);return hI(this.tronWeb,T.UnfreezeBalanceContract,i,n?.permissionId,s)}async freezeBalanceV2(e=0,t="BANDWIDTH",r=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"origin",type:"address",value:r},{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:t,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);let i={owner_address:aY(r),frozen_balance:parseInt(e)};"BANDWIDTH"!==t&&(i.resource=t);let s=hC(n);return hI(this.tronWeb,T.FreezeBalanceV2Contract,i,n?.permissionId,s)}async unfreezeBalanceV2(e=0,t="BANDWIDTH",r=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"origin",type:"address",value:r},{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:t,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]);let i={owner_address:aY(r),unfreeze_balance:parseInt(e)};"BANDWIDTH"!==t&&(i.resource=t);let s=hC(n);return hI(this.tronWeb,T.UnfreezeBalanceV2Contract,i,n?.permissionId,s)}async cancelUnfreezeBalanceV2(e=this.tronWeb.defaultAddress.hex,t={}){this.validator.notValid([{name:"origin",type:"address",value:e}]);let r={owner_address:aY(e)},n=hC(t);return hI(this.tronWeb,T.CancelAllUnfreezeV2Contract,r,t?.permissionId,n)}async delegateResource(e=0,t,r="BANDWIDTH",n=this.tronWeb.defaultAddress.hex,i=!1,s,o={}){if(this.validator.notValid([{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:r,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'},{name:"receiver",type:"address",value:t},{name:"origin",type:"address",value:n},{name:"lock",type:"boolean",value:i},{name:"lock period",type:"integer",gte:0,value:s,optional:!0}]),aY(t)===aY(n))throw Error("Receiver address must not be the same as owner address");let a={owner_address:aY(n),receiver_address:aY(t),balance:parseInt(e)};"BANDWIDTH"!==r&&(a.resource=r),i&&(a.lock=i,eL(s)&&(a.lock_period=s));let c=hC(o);return hI(this.tronWeb,T.DelegateResourceContract,a,o?.permissionId,c)}async undelegateResource(e=0,t,r="BANDWIDTH",n=this.tronWeb.defaultAddress.hex,i={}){if(this.validator.notValid([{name:"origin",type:"address",value:n},{name:"receiver",type:"address",value:t},{name:"amount",type:"integer",gt:0,value:e},{name:"resource",type:"resource",value:r,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]),aY(t)===aY(n))throw Error("Receiver address must not be the same as owner address");let s={owner_address:aY(n),receiver_address:aY(t),balance:parseInt(e)};"BANDWIDTH"!==r&&(s.resource=r);let o=hC(i);return hI(this.tronWeb,T.UnDelegateResourceContract,s,i?.permissionId,o)}async withdrawExpireUnfreeze(e=this.tronWeb.defaultAddress.hex,t={}){this.validator.notValid([{name:"origin",type:"address",value:e}]);let r={owner_address:aY(e)},n=hC(t);return hI(this.tronWeb,T.WithdrawExpireUnfreezeContract,r,t?.permissionId,n)}async withdrawBlockRewards(e=this.tronWeb.defaultAddress.hex,t={}){this.validator.notValid([{name:"origin",type:"address",value:e}]);let r={owner_address:aY(e)},n=hC(t);return hI(this.tronWeb,T.WithdrawBalanceContract,r,t?.permissionId,n)}async applyForSR(e=this.tronWeb.defaultAddress.hex,t="",r={}){this.validator.notValid([{name:"origin",type:"address",value:e},{name:"url",type:"url",value:t,msg:"Invalid url provided"},{name:"url",type:"string",value:t,lte:256,msg:"Invalid url provided"}]);let n={owner_address:aY(e),url:h_(t)},i=hC(r);return hI(this.tronWeb,T.WitnessCreateContract,n,r?.permissionId,i)}async vote(e={},t=this.tronWeb.defaultAddress.hex,r={}){this.validator.notValid([{name:"voter",type:"address",value:t},{name:"votes",type:"notEmptyObject",value:e}]);let n=Object.entries(e);for(let[e,t]of n)this.validator.notValid([{name:"SR",type:"address",value:e},{name:"vote count",type:"integer",gt:0,value:t,msg:"Invalid vote count provided for SR: "+e}]);let i=n.map(([e,t])=>({vote_address:aY(e),vote_count:parseInt(t)})),s={owner_address:aY(t),votes:i},o=hC(r);return hI(this.tronWeb,T.VoteWitnessContract,s,r?.permissionId,o)}async createSmartContract(e={},t=this.tronWeb.defaultAddress.hex){var r,n;let i=e.feeLimit||this.tronWeb.feeLimit,s=e.userFeePercentage;"number"==typeof s||s||(s=100);let o=e.originEnergyLimit||1e7,a=e.callValue||0,c=e.tokenValue,l=e.tokenId||e.token_id,{abi:u}=e,{parameters:h=[]}=e,d="",{bytecode:f=!1,name:p=""}=e;if(u&&eR(u))try{u=JSON.parse(u)}catch{throw Error("Invalid options.abi provided")}let g=u,y=g;if(g.entrys&&(y=g.entrys),!eC(y))throw Error("Invalid options.abi provided");let m=y.some(e=>"constructor"===e.type&&"payable"===e.stateMutability.toLowerCase());if(this.validator.notValid([{name:"bytecode",type:"hex",value:f},{name:"feeLimit",type:"integer",value:i,gt:0},{name:"callValue",type:"integer",value:a,gte:0},{name:"userFeePercentage",type:"integer",value:s,gte:0,lte:100},{name:"originEnergyLimit",type:"integer",value:o,gte:0,lte:1e7},{name:"parameters",type:"array",value:h},{name:"issuer",type:"address",value:t},{name:"tokenValue",type:"integer",value:c,gte:0,optional:!0},{name:"tokenId",type:"integer",value:l,gte:0,optional:!0}]),!m&&(a>0||c>0))throw Error("When contract is not payable, options.callValue and options.tokenValue must be 0");let{rawParameter:b,funcABIV2:v,parametersV2:w}=e;if(b&&eR(b))d=b.replace(/^(0x)/,"");else if(v)d=l9(v,w).replace(/^(0x)/,"");else{let e=y.find(e=>"constructor"===e.type);if(void 0!==e&&e){let t=new iH,r=[],n=[];if(e=e.inputs,h.length!=e.length)throw Error(`constructor needs ${e.length} but ${h.length} provided`);for(let t=0;t<h.length;t++){let i=e[t].type,s=h[t];if(!i||!eR(i)||!i.length)throw Error("Invalid parameter type provided: "+i);let o=e=>eC(e)?e.map(e=>o(e)):aY(e).replace(aG,"0x");"address"===i?s=o(s):i.match(/^([^\x5b]*)(\x5b|$)/)?.[0]==="address["?s=o(s):/trcToken/.test(i)&&(i=i.replace(/trcToken/,"uint256")),r.push(i),n.push(s)}try{d=t.encode(r,n).replace(/^(0x)/,"")}catch(e){throw Error(e)}}else d=""}let E={owner_address:aY(t),fee_limit:parseInt(i),call_value:parseInt(a),consume_user_resource_percent:s,origin_energy_limit:o,abi:JSON.stringify(u),bytecode:f,parameter:d,name:p};eL(c)&&(E.call_token_value=parseInt(c)),eL(l)&&(E.token_id=parseInt(l));let A={};A.owner_address=E.owner_address,eL(E.call_token_value)&&(A.call_token_value=E.call_token_value),eL(E.token_id)&&(A.token_id=E.token_id);let _=A.new_contract={};E.abi?_.abi={entrys:JSON.parse(E.abi)}:_.abi={},E.call_value&&(_.call_value=E.call_value),_.consume_user_resource_percent=E.consume_user_resource_percent,_.origin_energy_limit=E.origin_energy_limit,_.origin_address=E.origin_address??E.owner_address,E.bytecode+E.parameter&&(_.bytecode=(E.bytecode+E.parameter).replace(/^0x/,"")),eL(E.name)&&(_.name=E.name);let P=hC(e),I=await hI(this.tronWeb,T.CreateSmartContract,A,e?.permissionId,{...P,fee_limit:E.fee_limit});return I.contract_address=(r=E.owner_address,n=I.txID,"41"+rU(hA.from(n+r,"hex")).toString().substring(2).slice(24)),I}async triggerSmartContract(e,t,r,n,i){let s=[e,t,r,n,i];return("object"!=typeof s[2]&&(s[2]={feeLimit:s[2],callValue:s[3]},s.splice(3,1)),s[2]?.txLocal)?this._triggerSmartContractLocal(...s):this._triggerSmartContract(...s)}async triggerConstantContract(e,t,r={},n=[],i=this.tronWeb.defaultAddress.hex){return r._isConstant=!0,this._triggerSmartContract(e,t,r,n,i)}async triggerConfirmedConstantContract(e,t,r={},n=[],i=this.tronWeb.defaultAddress.hex){return r._isConstant=!0,r.confirmed=!0,this._triggerSmartContract(e,t,r,n,i)}async estimateEnergy(e,t,r={},n=[],i=this.tronWeb.defaultAddress.hex){return r.estimateEnergy=!0,await this._triggerSmartContract(e,t,r,n,i)}async deployConstantContract(e={input:"",ownerAddress:""}){let{input:t,ownerAddress:r,tokenId:n,tokenValue:i,callValue:s=0}=e;this.validator.notValid([{name:"input",type:"not-empty-string",value:t},{name:"callValue",type:"integer",value:s,gte:0},{name:"owner",type:"address",value:r},{name:"tokenValue",type:"integer",value:i,gte:0,optional:!0},{name:"tokenId",type:"integer",value:n,gte:0,optional:!0}]);let o={data:t,owner_address:aY(r),call_value:s};n&&(o.token_id=n),i&&(o.call_token_value=i);let a=`wallet${e.confirmed?"solidity":""}/estimateenergy`,c=await this.tronWeb[e.confirmed?"solidityNode":"fullNode"].request(a,o,"post");if(c.Error)throw Error(c.Error);if(c.result&&c.result.message)throw Error(this.tronWeb.toUtf8(c.result.message));return c}_getTriggerSmartContractArgs(e,t,r,n,i,s,o,a,c){let l={contract_address:aY(e),owner_address:aY(i)};if(t&&eR(t)){let e;if(t=t.replace(/\s*/g,""),n.length){let t=new iH,r=[],i=[];for(let e=0;e<n.length;e++){let{value:t}=n[e],{type:s}=n[e];if(!s||!eR(s)||!s.length)throw Error("Invalid parameter type provided: "+s);let o=e=>eC(e)?e.map(e=>o(e)):aY(e).replace(aG,"0x");"address"===s?t=o(t):s.match(/^([^\x5b]*)(\x5b|$)/)?.[0]==="address["&&(t=o(t)),r.push(s),i.push(t)}try{r=r.map(e=>(/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e)),e=t.encode(r,i).replace(/^(0x)/,"")}catch(e){throw Error(e)}}else e="";r.funcABIV2&&(e=l9(r.funcABIV2,r.parametersV2).replace(/^(0x)/,"")),r.shieldedParameter&&eR(r.shieldedParameter)&&(e=r.shieldedParameter.replace(/^(0x)/,"")),r.rawParameter&&eR(r.rawParameter)&&(e=r.rawParameter.replace(/^(0x)/,"")),l.function_selector=t,l.parameter=e}else r.input&&(l.data=r.input);return l.call_value=parseInt(a),eL(s)&&(l.call_token_value=parseInt(s)),eL(o)&&(l.token_id=parseInt(o)),r._isConstant||r.estimateEnergy||(l.fee_limit=parseInt(c)),r.permissionId&&(l.Permission_id=r.permissionId),l}async _triggerSmartContractLocal(e,t,r={},n=[],i=this.tronWeb.defaultAddress.hex){let{tokenValue:s,tokenId:o,callValue:a,feeLimit:c}=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},r);this.validator.notValid([{name:"feeLimit",type:"integer",value:c,gt:0},{name:"callValue",type:"integer",value:a,gte:0},{name:"parameters",type:"array",value:n},{name:"contract",type:"address",value:e},{name:"issuer",type:"address",value:i,optional:!0},{name:"tokenValue",type:"integer",value:s,gte:0,optional:!0},{name:"tokenId",type:"integer",value:o,gte:0,optional:!0}]);let l=this._getTriggerSmartContractArgs(e,t,r,n,i,s,o,a,c);l.function_selector&&(l.data=rU(hS.from(l.function_selector,"utf-8")).toString().substring(2,10)+l.parameter);let u={data:l.data,owner_address:l.owner_address,contract_address:l.contract_address};l.call_value&&(u.call_value=l.call_value),l.call_token_value&&(u.call_token_value=l.call_token_value),l.token_id&&(u.token_id=l.token_id);let h=hC(r);return{result:{result:!0},transaction:await hI(this.tronWeb,T.TriggerSmartContract,u,r.permissionId,{...h,fee_limit:l.fee_limit})}}async _triggerSmartContract(e,t,r={},n=[],i=this.tronWeb.defaultAddress.hex){let{tokenValue:s,tokenId:o,callValue:a,feeLimit:c}=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},r);this.validator.notValid([{name:"feeLimit",type:"integer",value:c,gt:0},{name:"callValue",type:"integer",value:a,gte:0},{name:"parameters",type:"array",value:n},{name:"contract",type:"address",value:e},{name:"issuer",type:"address",value:i,optional:!0},{name:"tokenValue",type:"integer",value:s,gte:0,optional:!0},{name:"tokenId",type:"integer",value:o,gte:0,optional:!0}]);let l=this._getTriggerSmartContractArgs(e,t,r,n,i,s,o,a,c),u="triggersmartcontract";return r._isConstant?u="triggerconstantcontract":r.estimateEnergy&&(u="estimateenergy"),u=`wallet${r.confirmed?"solidity":""}/${u}`,function(e,t,r){if(e.Error)throw Error(e.Error);if(e.result&&e.result.message)throw Error(h$.toUtf8(e.result.message));if(!(r._isConstant||r.estimateEnergy)){if(hw(e.transaction,t,r))return e;throw Error("Invalid transaction")}return e}(await this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request(u,l,"post"),l,r)}async clearABI(e,t=this.tronWeb.defaultAddress.hex,r={}){if(!h$.isAddress(e))throw Error("Invalid contract address provided");if(!h$.isAddress(t))throw Error("Invalid owner address provided");let n={contract_address:aY(e),owner_address:aY(t)};this.tronWeb.trx.cache.contracts[e]&&delete this.tronWeb.trx.cache.contracts[e];let i=hC(r);return hI(this.tronWeb,T.ClearABIContract,n,r?.permissionId,i)}async updateBrokerage(e,t=this.tronWeb.defaultAddress.hex,r={}){if(!eL(e))throw Error("Invalid brokerage provided");if(!eN(e)||e<0||e>100)throw Error("Brokerage must be an integer between 0 and 100");if(!h$.isAddress(t))throw Error("Invalid owner address provided");let n={brokerage:parseInt(e),owner_address:aY(t)},i=hC(r);return hI(this.tronWeb,T.UpdateBrokerageContract,n,r?.permissionId,i)}async createToken(e={},t=this.tronWeb.defaultAddress.hex){let{name:r=!1,abbreviation:n=!1,description:i="",url:s=!1,totalSupply:o=0,trxRatio:a=1,tokenRatio:c=1,saleStart:l=Date.now(),saleEnd:u=!1,freeBandwidth:h=0,freeBandwidthLimit:d=0,frozenAmount:f=0,frozenDuration:p=0,voteScore:g,precision:y}=e;if(this.validator.notValid([{name:"Supply amount",type:"positive-integer",value:o},{name:"TRX ratio",type:"positive-integer",value:a},{name:"Token ratio",type:"positive-integer",value:c},{name:"token abbreviation",type:"string",value:n,lte:32,gt:0},{name:"token name",type:"not-empty-string",value:r},{name:"token description",type:"string",value:i,lte:200},{name:"token url",type:"url",value:s},{name:"token url",type:"string",value:s,lte:256},{name:"issuer",type:"address",value:t},{name:"sale start timestamp",type:"integer",value:l,gte:Date.now()},{name:"sale end timestamp",type:"integer",value:u,gt:l},{name:"Frozen supply",type:"integer",value:f,gte:0},{name:"Frozen duration",type:"integer",value:p,gte:0}]),eL(g)&&(!eN(g)||g<=0))throw Error("voteScore must be a positive integer greater than 0");if(eL(y)&&(!eN(y)||y<0||y>6))throw Error("precision must be a positive integer >= 0 and <= 6");let m={owner_address:aY(t),name:h_(r),abbr:h_(n),description:h_(i),url:h_(s),total_supply:parseInt(o),trx_num:parseInt(a),num:parseInt(c),start_time:parseInt(l),end_time:parseInt(u),frozen_supply:[{frozen_amount:parseInt(f),frozen_days:parseInt(p)}]};["name","abbr","description","url"].forEach(e=>{m[e]||delete m[e]}),parseInt(f)>0||delete m.frozen_supply,h&&!isNaN(parseInt(h))&&parseInt(h)>=0&&(m.free_asset_net_limit=parseInt(h)),d&&!isNaN(parseInt(d))&&parseInt(d)>=0&&(m.public_free_asset_net_limit=parseInt(d)),y&&!isNaN(parseInt(y))&&(m.precision=parseInt(y)),g&&!isNaN(parseInt(g))&&(m.vote_score=parseInt(g));let b=hC(e);return hI(this.tronWeb,T.AssetIssueContract,m,e?.permissionId,b)}async createAccount(e,t=this.tronWeb.defaultAddress.hex,r={}){this.validator.notValid([{name:"account",type:"address",value:e},{name:"origin",type:"address",value:t}]);let n={owner_address:aY(t),account_address:aY(e)},i=hC(r);return hI(this.tronWeb,T.AccountCreateContract,n,r?.permissionId,i)}async updateAccount(e,t=this.tronWeb.defaultAddress.hex,r={}){this.validator.notValid([{name:"Name",type:"string",lte:200,gt:0,value:e,msg:"Invalid accountName"},{name:"origin",type:"address",value:t}]);let n={account_name:h_(e),owner_address:aY(t)},i=hC(r);return hI(this.tronWeb,T.AccountUpdateContract,n,r?.permissionId,i)}async setAccountId(e,t=this.tronWeb.defaultAddress.hex,r={}){e&&eR(e)&&e.startsWith("0x")&&(e=e.slice(2)),this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e},{name:"origin",type:"address",value:t}]);let n={account_id:e,owner_address:aY(t)},i=hC(r);return hI(this.tronWeb,T.SetAccountIdContract,n,r?.permissionId,i)}async updateToken(e={},t=this.tronWeb.defaultAddress.hex){let{description:r="",url:n=!1,freeBandwidth:i=0,freeBandwidthLimit:s=0}=e;this.validator.notValid([{name:"token description",type:"string",value:r,lte:200},{name:"token url",type:"url",value:n},{name:"token url",type:"string",value:n,lte:256},{name:"issuer",type:"address",value:t}]);let o={owner_address:aY(t),description:h_(r),url:h_(n)};i&&!isNaN(parseInt(i))&&parseInt(i)>=0&&(o.new_limit=parseInt(i)),s&&!isNaN(parseInt(s))&&parseInt(s)>=0&&(o.new_public_limit=parseInt(s));let a=hC(e);return hI(this.tronWeb,T.UpdateAssetContract,o,e?.permissionId,a)}async sendAsset(e,t=0,r,n=this.tronWeb.defaultAddress.hex,i={}){return this.sendToken(e,t,r,n,i)}async purchaseAsset(e,t,r=0,n=this.tronWeb.defaultAddress.hex,i={}){return this.purchaseToken(e,t,r,n,i)}async createAsset(e,t){return this.createToken(e,t)}async updateAsset(e={},t=this.tronWeb.defaultAddress.hex){return this.updateToken(e,t)}async createProposal(e,t=this.tronWeb.defaultAddress.hex,r={}){this.validator.notValid([{name:"issuer",type:"address",value:t}]);let n="Invalid proposal parameters provided";if(!e)throw Error(n);let i=eC(e)?e:[e];for(let e of i)if(!eI(e))throw Error(n);let s={owner_address:aY(t),parameters:i},o=hC(r);return hI(this.tronWeb,T.ProposalCreateContract,s,r?.permissionId,o)}async deleteProposal(e,t=this.tronWeb.defaultAddress.hex,r={}){this.validator.notValid([{name:"issuer",type:"address",value:t},{name:"proposalID",type:"integer",value:e,gte:0}]);let n={owner_address:aY(t),proposal_id:parseInt(e)},i=hC(r);return hI(this.tronWeb,T.ProposalDeleteContract,n,r?.permissionId,i)}async voteProposal(e,t=!1,r=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"voter",type:"address",value:r},{name:"proposalID",type:"integer",value:e,gte:0},{name:"has approval",type:"boolean",value:t}]);let i={owner_address:aY(r),proposal_id:parseInt(e),is_add_approval:t},s=hC(n);return hI(this.tronWeb,T.ProposalApproveContract,i,n?.permissionId,s)}async createTRXExchange(e,t,r,n=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:e},{name:"token balance",type:"positive-integer",value:t},{name:"trx balance",type:"positive-integer",value:r}]);let s={owner_address:aY(n),first_token_id:h_(e),first_token_balance:t,second_token_id:"5f",second_token_balance:r},o=hC(i);return hI(this.tronWeb,T.ExchangeCreateContract,s,i?.permissionId,o)}async createTokenExchange(e,t,r,n,i=this.tronWeb.defaultAddress.hex,s={}){this.validator.notValid([{name:"owner",type:"address",value:i},{name:"first token name",type:"not-empty-string",value:e},{name:"second token name",type:"not-empty-string",value:r},{name:"first token balance",type:"positive-integer",value:t},{name:"second token balance",type:"positive-integer",value:n}]);let o={owner_address:aY(i),first_token_id:h_(e),first_token_balance:t,second_token_id:h_(r),second_token_balance:n},a=hC(s);return hI(this.tronWeb,T.ExchangeCreateContract,o,s?.permissionId,a)}async injectExchangeTokens(e,t,r,n=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:r,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}]);let s={owner_address:aY(n),exchange_id:parseInt(e),token_id:h_(t),quant:parseInt(r)},o=hC(i);return hI(this.tronWeb,T.ExchangeInjectContract,s,i?.permissionId,o)}async withdrawExchangeTokens(e,t,r,n=this.tronWeb.defaultAddress.hex,i={}){this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:r,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}]);let s={owner_address:aY(n),exchange_id:parseInt(e),token_id:h_(t),quant:parseInt(r)},o=hC(i);return hI(this.tronWeb,T.ExchangeWithdrawContract,s,i?.permissionId,o)}async tradeExchangeTokens(e,t,r,n,i=this.tronWeb.defaultAddress.hex,s={}){this.validator.notValid([{name:"owner",type:"address",value:i},{name:"token name",type:"not-empty-string",value:t},{name:"tokenAmountSold",type:"integer",value:r,gte:1},{name:"tokenAmountExpected",type:"integer",value:n,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}]);let o={owner_address:aY(i),exchange_id:parseInt(e),token_id:h$.fromAscii(t).replace(/^0x/,""),quant:parseInt(r),expected:parseInt(n)},a=hC(s);return hI(this.tronWeb,T.ExchangeTransactionContract,o,s?.permissionId,a)}async updateSetting(e,t,r=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"owner",type:"address",value:r},{name:"contract",type:"address",value:e},{name:"userFeePercentage",type:"integer",value:t,gte:0,lte:100}]);let i={owner_address:aY(r),contract_address:aY(e),consume_user_resource_percent:t},s=hC(n);return hI(this.tronWeb,T.UpdateSettingContract,i,n?.permissionId,s)}async updateEnergyLimit(e,t=0,r=this.tronWeb.defaultAddress.hex,n={}){this.validator.notValid([{name:"owner",type:"address",value:r},{name:"contract",type:"address",value:e},{name:"originEnergyLimit",type:"integer",value:t,gte:0,lte:1e7}]);let i={owner_address:aY(r),contract_address:aY(e),origin_energy_limit:t},s=hC(n);return hI(this.tronWeb,T.UpdateEnergyLimitContract,i,n?.permissionId,s)}checkPermissions(e,t){if(e){if(e.type!==t||!e.permission_name||!eR(e.permission_name)||!eN(e.threshold)||e.threshold<1||!e.keys)return!1;for(let r of e.keys)if(!h$.isAddress(r.address)||!eN(r.weight)||r.weight>e.threshold||r.weight<1||2===t&&!e.operations)return!1}return!0}async updateAccountPermissions(e=this.tronWeb.defaultAddress.hex,t,r,n,i={}){if(!h$.isAddress(e))throw Error("Invalid ownerAddress provided");if(!this.checkPermissions(t,0))throw Error("Invalid ownerPermissions provided");if(!this.checkPermissions(r,1))throw Error("Invalid witnessPermissions provided");for(let e of(Array.isArray(n)||(n=[n]),n))if(!this.checkPermissions(e,2))throw Error("Invalid activesPermissions provided");let s={owner_address:aY(e)};if(t){let e=hP(t);"type"in e&&delete e.type,e.keys=e.keys?.map(({address:e,weight:t})=>({address:this.tronWeb.address.toHex(e),weight:t})),s.owner=e}if(r){let e=hP(r);e.type="Witness",e.keys=e.keys.map(({address:e,weight:t})=>({address:this.tronWeb.address.toHex(e),weight:t})),s.witness=e}if(n){let e=hP(n);e.forEach(e=>{e.type="Active"}),e.forEach(e=>{e.keys=e.keys.map(({address:e,weight:t})=>({address:this.tronWeb.address.toHex(e),weight:t}))}),s.actives=e}let o=hC(i);return hI(this.tronWeb,T.AccountPermissionUpdateContract,s,i?.permissionId,o)}async newTxID(e,t={}){if(t?.txLocal){let t=e.raw_data.contract[0];try{let r=await hI(this.tronWeb,t.type,t.parameter.value,t.Permission_id,{fee_limit:e.raw_data.fee_limit,data:e.raw_data.data,ref_block_bytes:e.raw_data.ref_block_bytes,ref_block_hash:e.raw_data.ref_block_hash,expiration:e.raw_data.expiration,timestamp:e.raw_data.timestamp});return r.signature=e.signature,r.visible=e.visible,r}catch(e){throw Error("Error generating a new transaction id.")}}try{let t=await this.tronWeb.fullNode.request("wallet/getsignweight",e,"post");return"boolean"==typeof e.visible&&(t.transaction.transaction.visible=e.visible),function(e,t,r){if(e.Error)throw Error(e.Error);if(e.result&&e.result.message)throw Error(h$.toUtf8(e.result.message));if(hw(e,t,r))return e;throw Error("Invalid transaction")}(t.transaction.transaction,{...e.raw_data.contract[0].parameter.value,Permission_id:e.raw_data.contract[0].Permission_id},{data:e.raw_data.data,fee_limit:e.raw_data.fee_limit})}catch(e){throw Error("Error generating a new transaction id.")}}async alterTransaction(e,t={}){if(Reflect.has(e,"signature"))throw Error("You can not extend the expiration of a signed transaction.");if(t.data){if("hex"!==t.dataFormat&&(t.data=h$.toHex(t.data)),t.data=t.data.replace(/^0x/,""),0===t.data.length)throw Error("Invalid data provided");e.raw_data.data=t.data}if(t.extension){if(t.extension=parseInt(1e3*t.extension),isNaN(t.extension)||e.raw_data.expiration+t.extension<=Date.now()+3e3)throw Error("Invalid extension provided");e.raw_data.expiration+=t.extension}return await this.newTxID(e,{txLocal:t.txLocal})}async extendExpiration(e,t,r={}){return await this.alterTransaction(e,{extension:t,txLocal:r?.txLocal})}async addUpdateData(e,t,r="utf8",n={}){return this.alterTransaction(e,{data:t,dataFormat:r,txLocal:n?.txLocal})}}let hx="\x19TRON Signed Message:\n32",hR="\x19Ethereum Signed Message:\n32";function hM(e){return h$.address.toHex(e)}class hB{tronWeb;cache;validator;signMessage;sendAsset;send;sendTrx;broadcast;broadcastHex;signTransaction;constructor(e){this.tronWeb=e,this.cache={contracts:{}},this.validator=new ue,this.signMessage=this.sign,this.sendAsset=this.sendToken,this.send=this.sendTransaction,this.sendTrx=this.sendTransaction,this.broadcast=this.sendRawTransaction,this.broadcastHex=this.sendHexTransaction,this.signTransaction=this.sign}_parseToken(e){return{...e,name:this.tronWeb.toUtf8(e.name),abbr:e.abbr&&this.tronWeb.toUtf8(e.abbr),description:e.description&&this.tronWeb.toUtf8(e.description),url:e.url&&this.tronWeb.toUtf8(e.url)}}getCurrentBlock(){return this.tronWeb.fullNode.request("wallet/getnowblock")}getConfirmedCurrentBlock(){return this.tronWeb.solidityNode.request("walletsolidity/getnowblock")}async getBlock(e=this.tronWeb.defaultBlock){if(!1===e)throw Error("No block identifier provided");return("earliest"==e&&(e=0),"latest"==e)?this.getCurrentBlock():isNaN(+e)&&fB.isHex(e.toString())?this.getBlockByHash(e):this.getBlockByNumber(e)}async getBlockByHash(e){let t=await this.tronWeb.fullNode.request("wallet/getblockbyid",{value:e},"post");if(!Object.keys(t).length)throw Error("Block not found");return t}async getBlockByNumber(e){if(!fB.isInteger(e)||e<0)throw Error("Invalid block number provided");return this.tronWeb.fullNode.request("wallet/getblockbynum",{num:parseInt(e)},"post").then(e=>{if(!Object.keys(e).length)throw Error("Block not found");return e})}async getBlockTransactionCount(e=this.tronWeb.defaultBlock){let{transactions:t=[]}=await this.getBlock(e);return t.length}async getTransactionFromBlock(e=this.tronWeb.defaultBlock,t){let{transactions:r}=await this.getBlock(e);if(!r)throw Error("Transaction not found in block");if(t>=0&&t<r.length)return r[t];throw Error("Invalid transaction index provided")}async getTransactionsFromBlock(e=this.tronWeb.defaultBlock){let{transactions:t}=await this.getBlock(e);if(!t)throw Error("Transaction not found in block");return t}async getTransaction(e){let t=await this.tronWeb.fullNode.request("wallet/gettransactionbyid",{value:e},"post");if(!Object.keys(t).length)throw Error("Transaction not found");return t}async getConfirmedTransaction(e){let t=await this.tronWeb.solidityNode.request("walletsolidity/gettransactionbyid",{value:e},"post");if(!Object.keys(t).length)throw Error("Transaction not found");return t}getUnconfirmedTransactionInfo(e){return this.tronWeb.fullNode.request("wallet/gettransactioninfobyid",{value:e},"post")}getTransactionInfo(e){return this.tronWeb.solidityNode.request("walletsolidity/gettransactioninfobyid",{value:e},"post")}getTransactionsToAddress(e=this.tronWeb.defaultAddress.hex,t=30,r=0){return this.getTransactionsRelated(this.tronWeb.address.toHex(e),"to",t,r)}getTransactionsFromAddress(e=this.tronWeb.defaultAddress.hex,t=30,r=0){return this.getTransactionsRelated(this.tronWeb.address.toHex(e),"from",t,r)}async getTransactionsRelated(e=this.tronWeb.defaultAddress.hex,t="all",r=30,n=0){if(!["to","from","all"].includes(t))throw Error('Invalid direction provided: Expected "to", "from" or "all"');if("all"==t){let[t,i]=await Promise.all([this.getTransactionsRelated(e,"from",r,n),this.getTransactionsRelated(e,"to",r,n)]);return[...t.map(e=>(e.direction="from",e)),...i.map(e=>(e.direction="to",e))].sort((e,t)=>t.raw_data.timestamp-e.raw_data.timestamp)}if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");if(!fB.isInteger(r)||r<0||n&&r<1)throw Error("Invalid limit provided");if(!fB.isInteger(n)||n<0)throw Error("Invalid offset provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.solidityNode.request(`walletextension/gettransactions${t}this`,{account:{address:e},offset:n,limit:r},"post").then(({transaction:e})=>e)}async getAccount(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.solidityNode.request("walletsolidity/getaccount",{address:e},"post")}getAccountById(e){return this.getAccountInfoById(e,{confirmed:!0})}async getAccountInfoById(e,t){return this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e}]),e.startsWith("0x")&&(e=e.slice(2)),this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getaccountbyid`,{account_id:e},"post")}async getBalance(e=this.tronWeb.defaultAddress.hex){let{balance:t=0}=await this.getAccount(e);return t}async getUnconfirmedAccount(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getaccount",{address:e},"post")}getUnconfirmedAccountById(e){return this.getAccountInfoById(e,{confirmed:!1})}async getUnconfirmedBalance(e=this.tronWeb.defaultAddress.hex){let{balance:t=0}=await this.getUnconfirmedAccount(e);return t}async getBandwidth(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getaccountnet",{address:e},"post").then(({freeNetUsed:e=0,freeNetLimit:t=0,NetUsed:r=0,NetLimit:n=0})=>t-e+(n-r))}async getTokensIssuedByAddress(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getassetissuebyaccount",{address:e},"post").then(({assetIssue:e})=>e?e.map(e=>this._parseToken(e)).reduce((e,t)=>(e[t.name]=t,e),{}):{})}async getTokenFromID(e){if(fB.isInteger(e)&&(e=e.toString()),!fB.isString(e)||!e.length)throw Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuebyname",{value:this.tronWeb.fromUtf8(e)},"post").then(e=>{if(!e.name)throw Error("Token does not exist");return this._parseToken(e)})}async listNodes(){let{nodes:e=[]}=await this.tronWeb.fullNode.request("wallet/listnodes");return e.map(({address:{host:e,port:t}})=>`${this.tronWeb.toUtf8(e)}:${t}`)}async getBlockRange(e=0,t=30){if(!fB.isInteger(e)||e<0)throw Error("Invalid start of range provided");if(!fB.isInteger(t)||t<e)throw Error("Invalid end of range provided");if(t+1-e>100)throw Error("Invalid range size, which should be no more than 100.");return this.tronWeb.fullNode.request("wallet/getblockbylimitnext",{startNum:parseInt(e),endNum:parseInt(t)+1},"post").then(({block:e=[]})=>e)}async listSuperRepresentatives(){let{witnesses:e=[]}=await this.tronWeb.fullNode.request("wallet/listwitnesses");return e}async listTokens(e=0,t=0){if(!fB.isInteger(e)||e<0||t&&e<1)throw Error("Invalid limit provided");if(!fB.isInteger(t)||t<0)throw Error("Invalid offset provided");return e?this.tronWeb.fullNode.request("wallet/getpaginatedassetissuelist",{offset:parseInt(t),limit:parseInt(e)},"post").then(({assetIssue:e=[]})=>e.map(e=>this._parseToken(e))):this.tronWeb.fullNode.request("wallet/getassetissuelist").then(({assetIssue:e=[]})=>e.map(e=>this._parseToken(e)))}async timeUntilNextVoteCycle(){let{num:e=-1}=await this.tronWeb.fullNode.request("wallet/getnextmaintenancetime");if(-1==e)throw Error("Failed to get time until next vote cycle");return Math.floor(e/1e3)}async getContract(e){if(!this.tronWeb.isAddress(e))throw Error("Invalid contract address provided");if(this.cache.contracts[e])return this.cache.contracts[e];e=this.tronWeb.address.toHex(e);let t=await this.tronWeb.fullNode.request("wallet/getcontract",{value:e});if(t.Error)throw Error("Contract does not exist");return this.cache.contracts[e]=t,t}ecRecover(e){return hB.ecRecover(e)}static ecRecover(e){if(!hv(e))throw Error("Invalid transaction");if(!e.signature?.length)throw Error("Transaction is not signed");if(1===e.signature.length){let t=fa(e.txID,e.signature[0]);return h$.address.fromHex(t)}return e.signature.map(t=>{let r=fa(e.txID,t);return h$.address.fromHex(r)})}async verifyMessage(e,t,r=this.tronWeb.defaultAddress.base58,n=!0){if(!fB.isHex(e))throw Error("Expected hex message input");if(hB.verifySignature(e,r,t,n))return!0;throw Error("Signature does not match")}static verifySignature(e,t,r,n=!0){e=e.replace(/^0x/,"");let i=aV+nJ(rU(new Uint8Array([...rb(n?hx:hR),...fB.code.hexStr2byteArray(e)])),tE.from(`0x${r.replace(/^0x/,"")}`)).substr(2);return h$.address.fromHex(i)==h$.address.fromHex(t)}async verifyMessageV2(e,t){return hB.verifyMessageV2(e,t)}static verifyMessageV2(e,t){return fB.message.verifyMessage(e,t)}verifyTypedData(e,t,r,n,i=this.tronWeb.defaultAddress.base58){if(hB.verifyTypedData(e,t,r,n,i))return!0;throw Error("Signature does not match")}static verifyTypedData(e,t,r,n,i){let s=aV+nJ(fB._TypedDataEncoder.hash(e,t,r),tE.from(`0x${n.replace(/^0x/,"")}`)).substr(2);return h$.address.fromHex(s)==h$.address.fromHex(i)}async sign(e,t=this.tronWeb.defaultPrivateKey,r=!0,n=!1){if(fB.isString(e)){if(!fB.isHex(e))throw Error("Expected hex message input");return hB.signString(e,t,r)}if(!fB.isObject(e))throw Error("Invalid transaction provided");if(!n&&e.signature)throw Error("Transaction is already signed");if(!n){if(this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(t)).toLowerCase()!==this.tronWeb.address.toHex(e.raw_data.contract[0].parameter.value.owner_address))throw Error("Private key does not match address in transaction");if(!hv(e))throw Error("Invalid transaction")}return fB.crypto.signTransaction(t,e)}static signString(e,t,r=!0){e=e.replace(/^0x/,"");let n=new nG(`0x${t.replace(/^0x/,"")}`),i=rU(new Uint8Array([...rb(r?hx:hR),...fB.code.hexStr2byteArray(e)])),s=n.sign(i);return["0x",s.r.substring(2),s.s.substring(2),Number(s.v).toString(16)].join("")}signMessageV2(e,t=this.tronWeb.defaultPrivateKey){return hB.signMessageV2(e,t)}static signMessageV2(e,t){return fB.message.signMessage(e,t)}_signTypedData(e,t,r,n=this.tronWeb.defaultPrivateKey){return hB._signTypedData(e,t,r,n)}static _signTypedData(e,t,r,n){return fB.crypto._signTypedData(e,t,r,n)}async multiSign(e,t=this.tronWeb.defaultPrivateKey,r=0){if(!fB.isObject(e)||!e.raw_data||!e.raw_data.contract)throw Error("Invalid transaction provided");if(!e.raw_data.contract[0].Permission_id&&r>0){e.raw_data.contract[0].Permission_id=r;let n=this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(t)).toLowerCase(),i=await this.getSignWeight(e,r);if("PERMISSION_ERROR"===i.result.code)throw Error(i.result.message);let s=!1;if(i.permission.keys.map(e=>{e.address===n&&(s=!0)}),!s)throw Error(t+" has no permission to sign");if(i.approved_list&&-1!=i.approved_list.indexOf(n))throw Error(t+" already sign transaction");if(i.transaction&&i.transaction.transaction)e=i.transaction.transaction,r>0&&(e.raw_data.contract[0].Permission_id=r);else throw Error("Invalid transaction provided")}if(!hv(e))throw Error("Invalid transaction");return fB.crypto.signTransaction(t,e)}async getApprovedList(e){if(!fB.isObject(e))throw Error("Invalid transaction provided");return this.tronWeb.fullNode.request("wallet/getapprovedlist",e,"post")}async getSignWeight(e,t){if(!fB.isObject(e)||!e.raw_data||!e.raw_data.contract)throw Error("Invalid transaction provided");return fB.isInteger(t)?e.raw_data.contract[0].Permission_id=parseInt(t):"number"!=typeof e.raw_data.contract[0].Permission_id&&(e.raw_data.contract[0].Permission_id=0),this.tronWeb.fullNode.request("wallet/getsignweight",e,"post")}async sendRawTransaction(e){if(!fB.isObject(e))throw Error("Invalid transaction provided");if(!e.signature||!fB.isArray(e.signature))throw Error("Transaction is not signed");return{...await this.tronWeb.fullNode.request("wallet/broadcasttransaction",e,"post"),transaction:e}}async sendHexTransaction(e){if(!fB.isHex(e))throw Error("Invalid hex transaction provided");let t=await this.tronWeb.fullNode.request("wallet/broadcasthex",{transaction:e},"post");return t.result?{...t,transaction:JSON.parse(t.transaction),hexTransaction:e}:t}async sendTransaction(e,t,r={}){if("string"==typeof r&&(r={privateKey:r}),!this.tronWeb.isAddress(e))throw Error("Invalid recipient provided");if(!fB.isInteger(t)||t<=0)throw Error("Invalid amount provided");if(!(r={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...r}).privateKey&&!r.address)throw Error("Function requires either a private key or address to be set");let n=r.privateKey?this.tronWeb.address.fromPrivateKey(r.privateKey):r.address,i=await this.tronWeb.transactionBuilder.sendTrx(e,t,n),s=await this.sign(i,r.privateKey);return await this.sendRawTransaction(s)}async sendToken(e,t,r,n={}){if("string"==typeof n&&(n={privateKey:n}),!this.tronWeb.isAddress(e))throw Error("Invalid recipient provided");if(!fB.isInteger(t)||t<=0)throw Error("Invalid amount provided");if(fB.isInteger(r)&&(r=r.toString()),!fB.isString(r))throw Error("Invalid token ID provided");if(!(n={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...n}).privateKey&&!n.address)throw Error("Function requires either a private key or address to be set");let i=n.privateKey?this.tronWeb.address.fromPrivateKey(n.privateKey):n.address,s=await this.tronWeb.transactionBuilder.sendToken(e,t,r,i),o=await this.sign(s,n.privateKey);return await this.sendRawTransaction(o)}async freezeBalance(e=0,t=3,r="BANDWIDTH",n={},i){if("string"==typeof n&&(n={privateKey:n}),!["BANDWIDTH","ENERGY"].includes(r))throw Error('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"');if(!fB.isInteger(e)||e<=0)throw Error("Invalid amount provided");if(!fB.isInteger(t)||t<3)throw Error("Invalid duration provided, minimum of 3 days");if(!(n={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...n}).privateKey&&!n.address)throw Error("Function requires either a private key or address to be set");let s=n.privateKey?this.tronWeb.address.fromPrivateKey(n.privateKey):n.address,o=await this.tronWeb.transactionBuilder.freezeBalance(e,t,r,s,i),a=await this.sign(o,n.privateKey);return await this.sendRawTransaction(a)}async unfreezeBalance(e="BANDWIDTH",t={},r){if("string"==typeof t&&(t={privateKey:t}),!["BANDWIDTH","ENERGY"].includes(e))throw Error('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"');if(!(t={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...t}).privateKey&&!t.address)throw Error("Function requires either a private key or address to be set");let n=t.privateKey?this.tronWeb.address.fromPrivateKey(t.privateKey):t.address,i=await this.tronWeb.transactionBuilder.unfreezeBalance(e,n,r),s=await this.sign(i,t.privateKey);return await this.sendRawTransaction(s)}async updateAccount(e,t={}){if("string"==typeof t&&(t={privateKey:t}),!fB.isString(e)||!e.length)throw Error("Name must be a string");if(!(t={privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex,...t}).privateKey&&!t.address)throw Error("Function requires either a private key or address to be set");let r=t.privateKey?this.tronWeb.address.fromPrivateKey(t.privateKey):t.address,n=await this.tronWeb.transactionBuilder.updateAccount(e,r),i=await this.sign(n,t.privateKey);return await this.sendRawTransaction(i)}async getProposal(e){if(!fB.isInteger(e)||e<0)throw Error("Invalid proposalID provided");return this.tronWeb.fullNode.request("wallet/getproposalbyid",{id:parseInt(e)},"post")}async listProposals(){let{proposals:e=[]}=await this.tronWeb.fullNode.request("wallet/listproposals",{},"post");return e}async getChainParameters(){let{chainParameter:e=[]}=await this.tronWeb.fullNode.request("wallet/getchainparameters",{},"post");return e}async getAccountResources(e=this.tronWeb.defaultAddress.hex){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return this.tronWeb.fullNode.request("wallet/getaccountresource",{address:this.tronWeb.address.toHex(e)},"post")}async getDelegatedResourceV2(e=this.tronWeb.defaultAddress.hex,t=this.tronWeb.defaultAddress.hex,r={confirmed:!0}){if(!this.tronWeb.isAddress(e)||!this.tronWeb.isAddress(t))throw Error("Invalid address provided");return this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request(`wallet${r.confirmed?"solidity":""}/getdelegatedresourcev2`,{fromAddress:hM(e),toAddress:hM(t)},"post")}async getDelegatedResourceAccountIndexV2(e=this.tronWeb.defaultAddress.hex,t={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getdelegatedresourceaccountindexv2`,{value:hM(e)},"post")}async getCanDelegatedMaxSize(e=this.tronWeb.defaultAddress.hex,t="BANDWIDTH",r={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return this.validator.notValid([{name:"resource",type:"resource",value:t,msg:'Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'}]),this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request(`wallet${r.confirmed?"solidity":""}/getcandelegatedmaxsize`,{owner_address:hM(e),type:"ENERGY"===t?1:0},"post")}async getAvailableUnfreezeCount(e=this.tronWeb.defaultAddress.hex,t={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getavailableunfreezecount`,{owner_address:hM(e)},"post")}async getCanWithdrawUnfreezeAmount(e=this.tronWeb.defaultAddress.hex,t=Date.now(),r={confirmed:!0}){if(!this.tronWeb.isAddress(e))throw Error("Invalid address provided");if(!fB.isInteger(t)||t<0)throw Error("Invalid timestamp provided");return this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request(`wallet${r.confirmed?"solidity":""}/getcanwithdrawunfreezeamount`,{owner_address:hM(e),timestamp:t},"post")}async getExchangeByID(e){if(!fB.isInteger(e)||e<0)throw Error("Invalid exchangeID provided");return this.tronWeb.fullNode.request("wallet/getexchangebyid",{id:e},"post")}async listExchanges(){return this.tronWeb.fullNode.request("wallet/listexchanges",{},"post").then(({exchanges:e=[]})=>e)}async listExchangesPaginated(e=10,t=0){return this.tronWeb.fullNode.request("wallet/getpaginatedexchangelist",{limit:e,offset:t},"post").then(({exchanges:e=[]})=>e)}async getNodeInfo(){return this.tronWeb.fullNode.request("wallet/getnodeinfo",{},"post")}async getTokenListByName(e){if(fB.isInteger(e)&&(e=e.toString()),!fB.isString(e)||!e.length)throw Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuelistbyname",{value:this.tronWeb.fromUtf8(e)},"post").then(e=>{if(Array.isArray(e.assetIssue))return e.assetIssue.map(e=>this._parseToken(e));if(!e.name)throw Error("Token does not exist");return this._parseToken(e)})}getTokenByID(e){if(fB.isInteger(e)&&(e=e.toString()),!fB.isString(e)||!e.length)throw Error("Invalid token ID provided");return this.tronWeb.fullNode.request("wallet/getassetissuebyid",{value:e},"post").then(e=>{if(!e.name)throw Error("Token does not exist");return this._parseToken(e)})}async getReward(e,t={}){return t.confirmed=!0,this._getReward(e,t)}async getUnconfirmedReward(e,t={}){return t.confirmed=!1,this._getReward(e,t)}async getBrokerage(e,t={}){return t.confirmed=!0,this._getBrokerage(e,t)}async getUnconfirmedBrokerage(e,t={}){return t.confirmed=!1,this._getBrokerage(e,t)}async _getReward(e=this.tronWeb.defaultAddress.hex,t){this.validator.notValid([{name:"origin",type:"address",value:e}]);let r={address:hM(e)};return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getReward`,r,"post").then((e={reward:void 0})=>{if(void 0===e.reward)throw Error("Not found.");return e.reward})}async _getBrokerage(e=this.tronWeb.defaultAddress.hex,t){this.validator.notValid([{name:"origin",type:"address",value:e}]);let r={address:hM(e)};return this.tronWeb[t.confirmed?"solidityNode":"fullNode"].request(`wallet${t.confirmed?"solidity":""}/getBrokerage`,r,"post").then((e={})=>{if(void 0===e.brokerage)throw Error("Not found.");return e.brokerage})}async getBandwidthPrices(){return this.tronWeb.fullNode.request("wallet/getbandwidthprices",{},"post").then((e={})=>{if(void 0===e.prices)throw Error("Not found.");return e.prices})}async getEnergyPrices(){return this.tronWeb.fullNode.request("wallet/getenergyprices",{},"post").then((e={})=>{if(void 0===e.prices)throw Error("Not found.");return e.prices})}}let hN=e=>{let t;if("stateMutability"in e&&(e.stateMutability=e.stateMutability?e.stateMutability.toLowerCase():"nonpayable"),e.type=e.type?e.type.toLowerCase():"","fallback"===e.type||"receive"===e.type)return"0x";let r=new fB.ethersUtils.Interface([e]);if(t="event"===e.type?r.getEvent(e.name):r.getFunction(e.name))return t.format("sighash");throw Error("unknown function")},hD=(e,t)=>l7(e,t);class hk{tronWeb;contract;abi;name;inputs;outputs;functionSelector;signature;defaultOptions;constructor(e,t){this.tronWeb=e.tronWeb,this.contract=e,this.abi=t,this.name=t.name||t.type,this.inputs=t.inputs||[],this.outputs=[],"outputs"in t&&t.outputs&&(this.outputs=t.outputs),this.functionSelector=hN(t),this.signature=fT(this.functionSelector,!1).slice(0,8),this.defaultOptions={feeLimit:this.tronWeb.feeLimit,callValue:0,userFeePercentage:100,shouldPollResponse:!1}}decodeInput(e){let t=JSON.parse(JSON.stringify(this.abi));return t.outputs=t.inputs,hD(t,"0x"+e)}onMethod(...e){let t="";return this.abi&&!/event/i.test(this.abi.type)&&(t=l9(this.abi,e)),{call:async(e={})=>(e={...e,rawParameter:t},await this._call([],[],e)),send:async(e={},r=this.tronWeb.defaultPrivateKey)=>(e={...e,rawParameter:t},await this._send([],[],e,r))}}async _call(e,t,r={}){if(e.length!==t.length)throw Error("Invalid argument count provided");if(!this.contract.address)throw Error("Smart contract is missing address");if(!this.contract.deployed)throw Error("Calling smart contracts requires you to load the contract first");if("stateMutability"in this.abi){let{stateMutability:e}=this.abi;if(e&&!["pure","view"].includes(e.toLowerCase()))throw Error(`Methods with state mutability "${e}" must use send()`)}r={...this.defaultOptions,from:this.tronWeb.defaultAddress.hex,...r,_isConstant:!0};let n=t.map((t,r)=>({type:e[r],value:t})),i=await this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,r,n,r.from?this.tronWeb.address.toHex(r.from):void 0);if(!fB.hasProperty(i,"constant_result"))throw Error("Failed to execute");let s=i.constant_result[0].length;if(0===s||s%64==8){let e="The call has been reverted or has thrown an error.";if(0!==s){e+=" Error message: ";let t="",r=i.constant_result[0].substring(8);for(let e=0;e<s-8;e+=64)t+=this.tronWeb.toUtf8(r.substring(e,e+64));e+=t.replace(/(\u0000|\u000b|\f)+/g," ").replace(/ +/g," ").replace(/\s+$/g,"")}throw Error(e)}let o=hD(this.abi,"0x"+i.constant_result[0]);return 1===o.length&&1===Object.keys(o).length&&(o=o[0]),o}async _send(e,t,r={},n=this.tronWeb.defaultPrivateKey){if(e.length!==t.length)throw Error("Invalid argument count provided");if(!this.contract.address)throw Error("Smart contract is missing address");if(!this.contract.deployed)throw Error("Calling smart contracts requires you to load the contract first");let{stateMutability:i}=this.abi;if(["pure","view"].includes(i.toLowerCase()))throw Error(`Methods with state mutability "${i}" must use call()`);["payable"].includes(i.toLowerCase())||(r.callValue=0),r={...this.defaultOptions,from:this.tronWeb.defaultAddress.hex,...r};let s=t.map((t,r)=>({type:e[r],value:t})),o=n?this.tronWeb.address.fromPrivateKey(n):this.tronWeb.defaultAddress.base58,a=await this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,r,s,this.tronWeb.address.toHex(o));if(!a.result||!a.result.result)throw Error("Unknown error: "+JSON.stringify(a,null,2));let c=await this.tronWeb.trx.sign(a.transaction,n);if(!c.signature){if(!n)throw Error("Transaction was not signed properly");throw Error("Invalid private key provided")}let l=await this.tronWeb.trx.sendRawTransaction(c);if(l.code){let e={error:l.code,message:l.code};l.message&&(e.message=this.tronWeb.toUtf8(l.message));let t=Error(e.message);throw t.error=l.code,t}if(!r.shouldPollResponse)return c.txID;let u=async e=>{if(e===(r.pollTimes||20)){let e=Error("Cannot find result in solidity node");throw e.error="Cannot find result in solidity node",e.transaction=c,e}let t=await this.tronWeb.trx.getTransactionInfo(c.txID);if(!Object.keys(t).length)return await new Promise(e=>setTimeout(e,3e3)),u(e+1);if(t.result&&"FAILED"===t.result){let e=Error(this.tronWeb.toUtf8(t.resMessage));throw e.error=this.tronWeb.toUtf8(t.resMessage),e.transaction=c,e.output=t,e}if(!fB.hasProperty(t,"contractResult")){let e=Error("Failed to execute: "+JSON.stringify(t,null,2));throw e.error="Failed to execute: "+JSON.stringify(t,null,2),e.transaction=c,e.output=t,e}if(r.rawResponse)return t;let n=hD(this.abi,"0x"+t.contractResult[0]);return(1===n.length&&1===Object.keys(n).length&&(n=n[0]),r.keepTxID)?[c.txID,n]:n};return u(0)}}class hW{tronWeb;abi;address;eventListener;bytecode;deployed;lastBlock;methods;methodInstances;props;constructor(e,t=[],r){if(!e||!(e instanceof h$))throw Error("Expected instance of TronWeb");this.tronWeb=e,this.address=r,this.abi=t,this.eventListener=!1,this.bytecode=!1,this.deployed=!1,this.lastBlock=!1,this.methods={},this.methodInstances={},this.props=[],fB.address.isAddress(r)?this.deployed=!0:this.address=!1,this.loadAbi(t)}hasProperty(e){return this.hasOwnProperty(e)||this.__proto__.hasOwnProperty(e)}loadAbi(e){this.abi=e,this.methods={},this.props.forEach(e=>delete this[e]),e.forEach(e=>{if(!e.type||/constructor|error/i.test(e.type))return;let t=new hk(this,e),r=t.onMethod.bind(t),{name:n,functionSelector:i,signature:s}=t;this.methods[n]=r,this.methods[i]=r,this.methods[s]=r,this.methodInstances[n]=t,this.methodInstances[i]=t,this.methodInstances[s]=t,this.hasProperty(n)||(this[n]=r,this.props.push(n)),this.hasProperty(i)||(this[i]=r,this.props.push(i)),this.hasProperty(s)||(this[s]=r,this.props.push(s))})}decodeInput(e){let t=e.substring(0,8),r=e.substring(8);if(!this.methodInstances[t])throw Error("Contract method "+t+" not found");return{name:this.methodInstances[t].name,params:this.methodInstances[t].decodeInput(r)}}async new(e,t=this.tronWeb.defaultPrivateKey){let r=this.tronWeb.address.fromPrivateKey(t),n=await this.tronWeb.transactionBuilder.createSmartContract(e,r),i=await this.tronWeb.trx.sign(n,t),s=await this.tronWeb.trx.sendRawTransaction(i);if(s.code)throw{error:s.code,message:this.tronWeb.toUtf8(s.message)};return await fB.sleep(3e3),this.at(i.contract_address)}async at(e){try{let t=await this.tronWeb.trx.getContract(e);if(!t.contract_address)throw Error("Unknown error: "+JSON.stringify(t,null,2));return this.address=t.contract_address,this.bytecode=t.bytecode,this.deployed=!0,this.loadAbi(t.abi&&t.abi.entrys?t.abi.entrys:[]),this}catch(e){if(e.toString().includes("does not exist"))throw Error("Contract has not been deployed on the network");throw Error(e)}}}class hU{tronWeb;pluginNoOverride;disablePlugins;constructor(e,t={}){if(!e||!(e instanceof h$))throw Error("Expected instance of TronWeb");this.tronWeb=e,this.pluginNoOverride=["register"],this.disablePlugins=!!t.disablePlugins}register(e,t){let r={requires:"0.0.0",components:{}},n={libs:[],plugged:[],skipped:[],error:void 0};if(this.disablePlugins)return n.error="This instance of TronWeb has plugins disabled.",n;let i=new e(this.tronWeb);if(fB.isFunction(i.pluginInterface)&&(r=i.pluginInterface(t)),l1.satisfies(h$.version,r.requires)){if(r.fullClass){let t=i.constructor.name,r=t.substring(0,1).toLowerCase()+t.substring(1);t!==r&&(Object.assign(h$,{[t]:e}),Object.assign(this.tronWeb,{[r]:i}),n.libs.push(t))}else for(let e in r.components){if(!this.tronWeb.hasOwnProperty(e))continue;let t=r.components[e],i=this.tronWeb[e].pluginNoOverride||[];for(let r in t){if("constructor"===r||this.tronWeb[e][r]&&(i.includes(r)||/^_/.test(r))){n.skipped.push(r);continue}this.tronWeb[e][r]=t[r].bind(this.tronWeb[e]),n.plugged.push(r)}}}else throw Error("The plugin is not compatible with this version of TronWeb");return n}}class hF{tronWeb;constructor(e){if(!e||!(e instanceof h$))throw Error("Expected instance of TronWeb");this.tronWeb=e}setServer(e,t="healthcheck"){if(!e)return this.tronWeb.eventServer=void 0;if(fB.isString(e)&&(e=new lQ(e)),!this.tronWeb.isValidProvider(e))throw Error("Invalid event server provided");this.tronWeb.eventServer=e,this.tronWeb.eventServer.isConnected=()=>this.tronWeb.eventServer.request(t).then(()=>!0).catch(()=>!1)}async getEventsByContractAddress(e,t={}){let r=Object.assign({limit:20},t),{eventName:n,blockNumber:i,onlyUnconfirmed:s,onlyConfirmed:o,minBlockTimestamp:a,maxBlockTimestamp:c,orderBy:l,fingerprint:u}=r,{limit:h}=r;if(!this.tronWeb.eventServer)throw Error("No event server configured");if(!this.tronWeb.isAddress(e))throw Error("Invalid contract address provided");if(void 0!==a&&!fB.isInteger(a))throw Error("Invalid minBlockTimestamp provided");if(void 0!==c&&!fB.isInteger(c))throw Error("Invalid maxBlockTimestamp provided");fB.isInteger(h)&&h>200&&(console.warn("Defaulting to maximum accepted limit: 200"),h=200);let d={};n&&(d.event_name=n),i&&(d.block_number=i),"boolean"==typeof s&&(d.only_unconfirmed=s),"boolean"==typeof o&&(d.only_confirmed=o),a&&(d.min_block_timestamp=a),c&&(d.max_block_timestamp=c),l&&(d.order_by=l),u&&(d.fingerprint=u),fB.isInteger(h)&&(d.limit=h);let f=await this.tronWeb.eventServer.request(`v1/contracts/${this.tronWeb.address.fromHex(e)}/events?${new URLSearchParams(d).toString()}`);if(f.success)return f;throw Error(f.error)}async getEventsByTransactionID(e,t={}){if(!this.tronWeb.eventServer)throw Error("No event server configured");let r={};return"boolean"==typeof t.only_unconfirmed&&(r.only_unconfirmed=t.only_unconfirmed),"boolean"==typeof t.only_confirmed&&(r.only_confirmed=t.only_confirmed),this.tronWeb.eventServer.request(`v1/transactions/${e}/events?${new URLSearchParams(r).toString()}`).then(e=>{if(e.success)return e;throw Error(JSON.parse(e.error).message)})}async getEventsByBlockNumber(e,t={}){if(!this.tronWeb.eventServer)throw Error("No event server configured");let r={};return"boolean"==typeof t.only_confirmed&&(r.only_confirmed=t.only_confirmed),t.limit&&(r.limit=t.limit),t.fingerprint&&(r.fingerprint=t.fingerprint),this.tronWeb.eventServer.request(`v1/blocks/${e}/events?${new URLSearchParams(r).toString()}`).then(e=>{if(e.success)return e;throw Error(e.error)})}async getEventsOfLatestBlock(e={}){if(!this.tronWeb.eventServer)throw Error("No event server configured");let t={};return"boolean"==typeof e.only_confirmed&&(t.only_confirmed=e.only_confirmed),this.tronWeb.eventServer.request(`v1/blocks/latest/events?${new URLSearchParams(t).toString()}`).then(e=>{if(e.success)return e;throw Error(e.error)})}}var hL=r(82957).lW;let hj="4.7.1";function hz(e){return!!e&&"object"==typeof e&&(!!e.fullNode||!!e.fullHost)}class h$ extends l0{providers;BigNumber;transactionBuilder;trx;plugin;event;version;static version="6.0.0";utils;defaultBlock;defaultPrivateKey;defaultAddress;fullnodeVersion;feeLimit;fullNode;solidityNode;eventServer;constructor(e,t="",r,n=""){let i;super();let s=!1,o=!1;hz(e)?(i=e.fullNode||e.fullHost,t=e.solidityNode||e.fullHost,r=e.eventServer||e.fullHost,s=e.headers||!1,o=e.eventHeaders||s,n=e.privateKey):i=e,fB.isString(i)&&(i=new lX.HttpProvider(i)),fB.isString(t)&&(t=new lX.HttpProvider(t)),fB.isString(r)&&(r=new lX.HttpProvider(r)),this.event=new hF(this),this.transactionBuilder=new hO(this),this.trx=new hB(this),this.plugin=new hU(this,{disablePlugins:!!hz(e)&&e.disablePlugins}),this.utils=fB,this.setFullNode(i),this.setSolidityNode(t),this.setEventServer(r),this.providers=lX,this.BigNumber=e_,this.defaultBlock=!1,this.defaultPrivateKey=!1,this.defaultAddress={hex:!1,base58:!1},this.version=h$.version,this.sha3=h$.sha3,this.fromUtf8=h$.fromUtf8,this.address=h$.address,this.toAscii=h$.toAscii,this.toUtf8=h$.toUtf8,this.isAddress=h$.isAddress,this.fromAscii=h$.fromAscii,this.toHex=h$.toHex,this.toBigNumber=h$.toBigNumber,this.toDecimal=h$.toDecimal,this.fromDecimal=h$.fromDecimal,this.toSun=h$.toSun,this.fromSun=h$.fromSun,this.createAccount=h$.createAccount,this.createRandom=h$.createRandom,this.fromMnemonic=h$.fromMnemonic,n&&this.setPrivateKey(n),this.fullnodeVersion=hj,this.feeLimit=15e7,s&&this.setFullNodeHeader(s),o&&this.setEventHeader(o)}async getFullnodeVersion(){try{let e=await this.trx.getNodeInfo();this.fullnodeVersion=e.configNodeInfo.codeVersion,2===this.fullnodeVersion.split(".").length&&(this.fullnodeVersion+=".0")}catch(e){this.fullnodeVersion=hj}}setDefaultBlock(e=!1){if([!1,"latest","earliest",0].includes(e))return this.defaultBlock=e;if(!fB.isInteger(e)||!e)throw Error("Invalid block ID provided");return this.defaultBlock=Math.abs(e)}setPrivateKey(e){try{this.setAddress(h$.address.fromPrivateKey(e))}catch{throw Error("Invalid private key provided")}this.defaultPrivateKey=e,this.emit("privateKeyChanged",e)}setAddress(e){if(!h$.isAddress(e))throw Error("Invalid address provided");let t=h$.address.toHex(e),r=h$.address.fromHex(e);this.defaultPrivateKey&&h$.address.fromPrivateKey(this.defaultPrivateKey)!==r&&(this.defaultPrivateKey=!1),this.defaultAddress={hex:t,base58:r},this.emit("addressChanged",{hex:t,base58:r})}fullnodeSatisfies(e){return l1.satisfies(this.fullnodeVersion,e)}isValidProvider(e){return Object.values(lX).some(t=>e instanceof t)}setFullNode(e){if(eR(e)&&(e=new lX.HttpProvider(e)),!this.isValidProvider(e))throw Error("Invalid full node provided");this.fullNode=e,this.fullNode.setStatusPage("wallet/getnowblock")}setSolidityNode(e){if(fB.isString(e)&&(e=new lX.HttpProvider(e)),!this.isValidProvider(e))throw Error("Invalid solidity node provided");this.solidityNode=e,this.solidityNode.setStatusPage("walletsolidity/getnowblock")}setEventServer(e,t){this.event.setServer(e,t)}setHeader(e={}){let t=new lX.HttpProvider(this.fullNode.host,3e4,"","",e),r=new lX.HttpProvider(this.solidityNode.host,3e4,"","",e),n=new lX.HttpProvider(this.eventServer.host,3e4,"","",e);this.setFullNode(t),this.setSolidityNode(r),this.setEventServer(n)}setFullNodeHeader(e={}){let t=new lX.HttpProvider(this.fullNode.host,3e4,"","",e),r=new lX.HttpProvider(this.solidityNode.host,3e4,"","",e);this.setFullNode(t),this.setSolidityNode(r)}setEventHeader(e={}){let t=new lX.HttpProvider(this.eventServer.host,3e4,"","",e);this.setEventServer(t)}currentProviders(){return{fullNode:this.fullNode,solidityNode:this.solidityNode,eventServer:this.eventServer}}currentProvider(){return this.currentProviders()}getEventResult(...e){return this.event.getEventsByContractAddress(...e)}getEventByTransactionID(...e){return this.event.getEventsByTransactionID(...e)}contract(e=[],t){return new hW(this,e,t)}address;static get address(){return{fromHex:e=>aZ(e),toHex:e=>aY(e),toChecksumAddress:e=>aQ(e),isChecksumAddress:e=>aX(e),fromPrivateKey:(e,t=!1)=>a0(e,t)}}sha3;static sha3(e,t=!0){return(t?"0x":"")+rU(hL.from(e,"utf-8")).toString().substring(2)}toHex;static toHex(e){if(fB.isBoolean(e))return h$.fromDecimal(+e);if(fB.isBigNumber(e))return h$.fromDecimal(e);if("object"==typeof e)return h$.fromUtf8(JSON.stringify(e));if(fB.isString(e)){if(/^(-|)0x/.test(e))return e;if(!isFinite(e)||/^\s*$/.test(e))return h$.fromUtf8(e)}let t=h$.fromDecimal(e);if("0xNaN"!==t)return t;throw Error("The passed value is not convertible to a hex string")}toUtf8;static toUtf8(e){if(fB.isHex(e))return e=e.replace(/^0x/,""),hL.from(e,"hex").toString("utf8");throw Error("The passed value is not a valid hex string")}fromUtf8;static fromUtf8(e){if(!fB.isString(e))throw Error("The passed value is not a valid utf-8 string");return"0x"+hL.from(e,"utf8").toString("hex")}toAscii;static toAscii(e){if(fB.isHex(e)){let t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}throw Error("The passed value is not a valid hex string")}fromAscii;static fromAscii(e,t){if(!fB.isString(e))throw Error("The passed value is not a valid utf-8 string");return"0x"+hL.from(e,"ascii").toString("hex").padEnd(t,"0")}toDecimal;static toDecimal(e){return h$.toBigNumber(e).toNumber()}fromDecimal;static fromDecimal(e){let t=h$.toBigNumber(e),r=t.toString(16);return t.isLessThan(0)?"-0x"+r.substr(1):"0x"+r}fromSun;static fromSun(e){let t=h$.toBigNumber(e).div(1e6);return fB.isBigNumber(e)?t:t.toString(10)}toSun;static toSun(e){let t=h$.toBigNumber(e).times(1e6);return fB.isBigNumber(e)?t:t.toString(10)}toBigNumber;static toBigNumber(e=0){return fB.isBigNumber(e)?e:fB.isString(e)&&/^(-|)0x/.test(e)?new e_(e.replace("0x",""),16):new e_(e.toString(10),10)}isAddress;static isAddress(e=""){return a1(e)}createAccount;static async createAccount(){return fB.accounts.generateAccount()}createRandom;static createRandom(...e){return fB.accounts.generateRandom(...e)}fromMnemonic;static fromMnemonic(...e){return fB.accounts.generateAccountWithMnemonic(...e)}async isConnected(){return{fullNode:await this.fullNode.isConnected(),solidityNode:await this.solidityNode.isConnected(),eventServer:this.eventServer&&await this.eventServer.isConnected()}}}var hq=h$;let hV=new Uint8Array(32);hV.fill(0);let hH=BigInt(-1),hG=BigInt(0),hK=BigInt(1),hJ=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hZ=th(hK,32),hY=th(hG,32),hQ={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},hX=["name","version","chainId","verifyingContract","salt"];function h0(e){return function(t){return eZ("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let h1={name:h0("name"),version:h0("version"),chainId:function(e){let t=to(e,"domain.chainId");return(eZ(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):tf(t)},verifyingContract:function(e){try{return h$.address.toHex(e).toLowerCase()}catch(e){}eZ(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=e2(e,"domain.salt");return eZ(32===t.length,'invalid domain value "salt"',"domain.salt",e),e8(t)}};function h2(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");eZ(n%8==0&&0!==n&&n<=256&&(null==t[2]||t[2]===String(n)),"invalid numeric width","type",e);let i=ts(hJ,r?n-1:n),s=r?(i+hK)*hH:hG;return function(t){let n=to(t,"value");return eZ(n>=s&&n<=i,`value out-of-bounds for ${e}`,"value",n),th(r?ti(n,256):n,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return eZ(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return eZ(e2(t).length===r,`invalid length for ${e}`,"value",t),function(e){let t=e2(e),r=t.length%32;return r?e9([t,hV.slice(r)]):e8(t)}(t)}}}switch(e){case"trcToken":return h2("uint256");case"address":return function(e){return tt(h$.address.toHex(e).replace(aG,"0x"),32)};case"bool":return function(e){return e?hZ:hY};case"bytes":return function(e){return rU(e)};case"string":return function(e){return rF(e)}}return null}function h3(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class h6{primaryType;#j;get types(){return JSON.parse(this.#j)}#z;#$;constructor(e){this.#j=JSON.stringify(e),this.#z=new Map,this.#$=new Map;let t=new Map,r=new Map,n=new Map;for(let i in Object.keys(e).forEach(e=>{t.set(e,new Set),r.set(e,[]),n.set(e,new Set)}),e){let n=new Set;for(let s of e[i]){eZ(!n.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(i)}`,"types",e),n.add(s.name);let o=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;eZ(o!==i,`circular type reference to ${JSON.stringify(o)}`,"types",e),h2(o)||(eZ(r.has(o),`unknown type ${JSON.stringify(o)}`,"types",e),r.get(o).push(i),t.get(i).add(o))}}let i=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(let[s,o]of(eZ(0!==i.length,"missing primary type","types",e),eZ(1===i.length,`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),eV(this,{primaryType:i[0]}),!function i(s,o){for(let a of(eZ(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s),t.get(s)))if(r.has(a))for(let e of(i(a,o),o))n.get(e).add(a);o.delete(s)}(this.primaryType,new Set),n)){let t=Array.from(o);t.sort(),this.#z.set(s,h3(s,e[s])+t.map(t=>h3(t,e[t])).join(""))}}getEncoder(e){let t=this.#$.get(e);return t||(t=this.#q(e),this.#$.set(e,t)),t}#q(e){{let t=h2(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e);return n=>{eZ(!t[3]||parseInt(t[3])===n.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",n);let i=n.map(r);return this.#z.has(e)&&(i=i.map(rU)),rU(e9(i))}}let r=this.types[e];if(r){let t=rF(this.#z.get(e));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this.#z.has(r)?rU(n):n});return n.unshift(t),e9(n)}}eZ(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#z.get(e);return eZ(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return rU(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(h2(e))return r(e,t);let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n)return eZ(!n[3]||parseInt(n[3])===t.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",t),t.map(e=>this._visit(n[1],e,r));let i=this.types[e];if(i)return i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{});eZ(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new h6(e)}static getPrimaryType(e){return h6.from(e).primaryType}static hashStruct(e,t,r){return h6.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let n=hQ[r];eZ(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>hX.indexOf(e.name)-hX.indexOf(t.name)),h6.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return e9(["0x1901",h6.hashDomain(e),h6.from(t).hash(r)])}static hash(e,t,r){return rU(h6.encode(e,t,r))}static async resolveNames(e,t,r,n){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let i={};e.verifyingContract&&!e6(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=h6.from(t);for(let e in s.visit(r,(e,t)=>("address"!==e||e6(t,20)||(i[t]="0x"),t)),i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}}static getPayload(e,t,r){h6.hashDomain(e);let n={},i=[];hX.forEach(t=>{let r=e[t];null!=r&&(n[t]=h1[t](r),i.push({name:t,type:hQ[t]}))});let s=h6.from(t),o=Object.assign({},t);return eZ(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return e8(e2(t));if(e.match(/^u?int/))return to(t).toString();switch(e){case"trcToken":return to(t).toString();case"address":return t.toLowerCase();case"bool":return!!t;case"string":return eZ("string"==typeof t,"invalid string","value",t),t}eZ(!1,"unsupported type","type",e)})}}}function h4(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function h5(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function h8(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let h9="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,h7=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),de=(e,t)=>e<<32-t|e>>>t;function dt(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),h5(e),e}new Uint8Array(new Uint32Array([287454020]).buffer)[0];class dr{clone(){return this._cloneInto()}}function dn(e=32){if(h9&&"function"==typeof h9.getRandomValues)return h9.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let di=(e,t,r)=>e&t^~e&r,ds=(e,t,r)=>e&t^e&r^t&r;class da extends dr{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=h7(this.buffer)}update(e){h8(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=dt(e)).length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let t=h7(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){h8(this),function(e,t){h5(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=h7(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let dc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),du=new Uint32Array(64);class dh extends da{constructor(){super(64,32,8,!1),this.A=0|dl[0],this.B=0|dl[1],this.C=0|dl[2],this.D=0|dl[3],this.E=0|dl[4],this.F=0|dl[5],this.G=0|dl[6],this.H=0|dl[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)du[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=du[e-15],r=du[e-2],n=de(t,7)^de(t,18)^t>>>3,i=de(r,17)^de(r,19)^r>>>10;du[e]=i+du[e-7]+n+du[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){let t=l+(de(o,6)^de(o,11)^de(o,25))+di(o,a,c)+dc[e]+du[e]|0,u=(de(r,2)^de(r,13)^de(r,22))+ds(r,n,i)|0;l=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){du.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let dd=function(e){let t=t=>e().update(dt(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new dh);class df extends dr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");h4(e.outputLen),h4(e.blockLen)}(e);let r=dt(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return h8(this),this.iHash.update(e),this}digestInto(e){h8(this),h5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let dp=(e,t,r)=>new df(e,t).update(r).digest();dp.create=(e,t)=>new df(e,t);let dg=BigInt(1),dy=BigInt(2);function dm(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function db(e){if(!dm(e))throw Error("Uint8Array expected")}let dv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dw(e){db(e);let t="";for(let r=0;r<e.length;r++)t+=dv[e[r]];return t}function dE(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}let dA={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function d_(e){return e>=dA._0&&e<=dA._9?e-dA._0:e>=dA._A&&e<=dA._F?e-(dA._A-10):e>=dA._a&&e<=dA._f?e-(dA._a-10):void 0}function dP(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=d_(e.charCodeAt(i)),s=d_(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function dT(e){return dE(dw(e))}function dI(e){return db(e),dE(dw(Uint8Array.from(e).reverse()))}function dC(e,t){return dP(e.toString(16).padStart(2*t,"0"))}function dS(e,t){return dC(e,t).reverse()}function dO(e,t,r){let n;if("string"==typeof t)try{n=dP(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(dm(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function dx(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];db(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let dR=e=>(dy<<BigInt(e-1))-dg,dM=e=>new Uint8Array(e),dB=e=>Uint8Array.from(e);function dN(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=dM(e),i=dM(e),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=dM())=>{i=a(dB([0]),e),n=a(),0!==e.length&&(i=a(dB([1]),e),n=a())},l=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return dx(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}let dD={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||dm(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function dk(e,t,r={}){let n=(t,r,n)=>{let i=dD[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let dW=BigInt(0),dU=BigInt(1),dF=BigInt(2),dL=BigInt(3),dj=BigInt(4),dz=BigInt(5),d$=BigInt(8);function dq(e,t){let r=e%t;return r>=dW?r:t+r}function dV(e,t,r){let n=e;for(;t-- >dW;)n*=n,n%=r;return n}function dH(e,t){if(e===dW||t<=dW)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=dq(e,t),n=t,i=dW,s=dU,o=dU,a=dW;for(;r!==dW;){let e=n/r,t=n%r,c=i-o*e,l=s-a*e;n=r,r=t,i=o,s=a,o=c,a=l}if(n!==dU)throw Error("invert: does not exist");return dq(i,t)}BigInt(9),BigInt(16);let dG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dK(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function dJ(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function dZ(e){let t=dJ(e);return t+Math.ceil(t/2)}let dY=BigInt(0),dQ=BigInt(1);function dX(e){return dk(e.Fp,dG.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),dk(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dK(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:d0,hexToBytes:d1}=z,d2={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=d2;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:d0(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=d2,r="string"==typeof e?d1(e):e;db(r);let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=d2._parseInt(r.subarray(2)),{d:o,l:a}=d2._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},d3=BigInt(0),d6=BigInt(1),d4=(BigInt(2),BigInt(3));BigInt(4);let d5=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d9=BigInt(1),d7=BigInt(2),fe=(e,t)=>(e+t/d7)/t,ft=function(e,t,r=!1,n={}){if(e<=dW)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=dK(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(e){if(e%dj===dL){let t=(e+dU)/dj;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%d$===dz){let t=(e-dz)/d$;return function(e,r){let n=e.mul(r,dF),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,dF),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,n;let i=(e-dU)/dF;for(t=e-dU,r=0;t%dF===dW;t/=dF,r++);for(n=dF;n<e&&function(e,t,r){if(r<=dW||t<dW)throw Error("Expected power/modulo > 0");if(r===dU)return dW;let n=dU;for(;t>dW;)t&dU&&(n=n*e%r),e=e*e%r,t>>=dU;return n}(n,i,e)!==e-dU;n++);if(1===r){let t=(e+dU)/dj;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+dU)/dF;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,n),t),l=e.pow(o,s),u=e.pow(o,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(c,dU<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),a=t}return l}}(e)}(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:dR(i),ZERO:dW,ONE:dU,create:t=>dq(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return dW<=t&&t<e},is0:e=>e===dW,isOdd:e=>(e&dU)===dU,neg:t=>dq(-t,e),eql:(e,t)=>e===t,sqr:t=>dq(t*t,e),add:(t,r)=>dq(t+r,e),sub:(t,r)=>dq(t-r,e),mul:(t,r)=>dq(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<dW)throw Error("Expected power > 0");if(r===dW)return e.ONE;if(r===dU)return t;let n=e.ONE,i=t;for(;r>dW;)r&dU&&(n=e.mul(n,i)),i=e.sqr(i),r>>=dU;return n})(a,e,t),div:(t,r)=>dq(t*dH(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>dH(t,e),sqrt:n.sqrt||(e=>o(a,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?dS(e,s):dC(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?dI(e):dT(e)}});return Object.freeze(a)}(d5,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%d5,l=c*c*e%d5,u=dV(l,t,d5)*l%d5,h=dV(u,t,d5)*l%d5,d=dV(h,d7,d5)*c%d5,f=dV(d,n,d5)*d%d5,p=dV(f,i,d5)*f%d5,g=dV(p,o,d5)*p%d5,y=dV(g,a,d5)*g%d5,m=dV(y,o,d5)*p%d5,b=dV(m,t,d5)*l%d5,v=dV(b,s,d5)*f%d5,w=dV(v,r,d5)*c%d5,E=dV(w,d7,d5);if(!ft.eql(ft.sqr(E),e))throw Error("Cannot find square root");return E}}),fr=function(e,t){let r=t=>(function(e){let t=function(e){let t=dX(e);return dk(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return dq(e,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:u}=function(e){let t=function(e){let t=dX(e);dk(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return dx(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function o(e){return"bigint"==typeof e&&d3<e&&e<t.n}function a(e){if(!o(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:o}=t;if(n&&"bigint"!=typeof e){if(dm(e)&&(e=dw(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:dT(dO("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(r=dq(r,o)),a(r),r}let l=new Map;function u(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?h.ZERO:new h(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(i(dO("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),o=s(e);if(!r.eql(i,o))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){u(e);let{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,d4),{px:s,py:o,pz:a}=this,c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),u=r.mul(s,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(i,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(g,c),u=r.mul(i,u),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,g),l=r.add(l,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,g),c=r.sub(c,d),u=r.mul(p,f),u=r.add(u,u),new h(c,l,u=r.add(u,u))}add(e){u(e);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e,l=r.ZERO,d=r.ZERO,f=r.ZERO,p=t.a,g=r.mul(t.b,d4),y=r.mul(n,o),m=r.mul(i,a),b=r.mul(s,c),v=r.add(n,i),w=r.add(o,a);v=r.mul(v,w),w=r.add(y,m),v=r.sub(v,w),w=r.add(n,s);let E=r.add(o,c);return w=r.mul(w,E),E=r.add(y,b),w=r.sub(w,E),E=r.add(i,s),l=r.add(a,c),E=r.mul(E,l),l=r.add(m,b),E=r.sub(E,l),f=r.mul(p,w),l=r.mul(g,b),f=r.add(l,f),l=r.sub(m,f),f=r.add(m,f),d=r.mul(l,f),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),w=r.mul(g,w),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),w=r.add(w,b),y=r.mul(m,w),d=r.add(d,y),y=r.mul(E,w),l=r.mul(v,l),l=r.sub(l,y),y=r.mul(v,m),f=r.mul(E,f),new h(l,d,f=r.add(f,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)})}multiplyUnsafe(e){let n=h.ZERO;if(e===d3)return n;if(a(e),e===d6)return this;let{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=n,d=n,p=this;for(;o>d3||l>d3;)o&d6&&(u=u.add(p)),l&d6&&(d=d.add(p)),p=p.double(),o>>=d6,l>>=d6;return s&&(u=u.negate()),c&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(e){let n,i;a(e);let{endo:s}=t;if(s){let{k1neg:t,k1:o,k2neg:a,k2:c}=s.splitScalar(e),{p:l,f:u}=this.wNAF(o),{p:d,f:p}=this.wNAF(c);l=f.constTimeNegate(t,l),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=l.add(d),i=u.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=h.BASE,i=(e,t)=>t!==d3&&t!==d6&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===d6)return!0;if(r)return r(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===d6?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(h,this,e)}toHex(e=!0){return dw(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let d=t.nBitLength,f=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>dY;)r&dQ&&(n=n.add(i)),i=i.double(),r>>=dQ;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){let{windows:o,windowSize:a}=n(t),c=e.ZERO,l=e.BASE,u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){let t=e*a,n=Number(s&u);s>>=d,n>a&&(n-=h,s+=dQ);let o=t+Math.abs(n)-1,f=e%2!=0,p=n<0;0===n?l=l.add(r(f,i[t])):c=c.add(r(p,i[o]))}return{p:c,f:l}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),o=dx;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],o=e.subarray(1);if(t===i&&(2===n||3===n)){let e;let t=dT(o);if(!(d3<t&&t<r.ORDER))throw Error("Point is not on curve");let i=l(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&d6)===d6)&&(e=r.neg(e)),{x:t,y:e}}if(t===s&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),h=e=>dw(dC(e,t.nByteLength)),d=(e,t,r)=>dT(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(d(e=dO("compactSignature",e,2*r),0,r),d(e,r,2*r))}static fromDER(e){let{r:t,s:r}=d2.toSig(dO("DER",e));return new f(t,r)}assertValidity(){if(!u(this.r))throw Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:c}=this,l=y(dO("msgHash",e));if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");let u=2===c||3===c?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&c)==0?"02":"03",f=a.fromHex(d+h(u)),p=dH(u,n),g=o(-l*p),m=o(s*p),b=a.BASE.multiplyAndAddUnsafe(f,g,m);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>d6}normalizeS(){return this.hasHighS()?new f(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return dP(this.toDERHex())}toDERHex(){return d2.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return dP(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}function p(e){let t=dm(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof a}let g=t.bits2int||function(e){let r=dT(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},y=t.bits2int_modN||function(e){return o(g(e))},m=dR(t.nBitLength);function b(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(d3<=e&&e<m))throw Error(`bigint expected < 2^${t.nBitLength}`);return dC(e,t.nByteLength)}let v={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return a.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return a.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,i,s=v){let{seed:l,k2sig:h}=function(e,i,s=v){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:l,randomBytes:h}=t,{lowS:d,prehash:p,extraEntropy:m}=s;null==d&&(d=!0),e=dO("msgHash",e),p&&(e=dO("prehashed msgHash",l(e)));let w=y(e),E=c(i),A=[b(E),b(w)];if(null!=m&&!1!==m){let e=!0===m?h(r.BYTES):m;A.push(dO("extraEntropy",e))}return{seed:dx(...A),k2sig:function(e){let t=g(e);if(!u(t))return;let r=dH(t,n),i=a.BASE.multiply(t).toAffine(),s=o(i.x);if(s===d3)return;let c=o(r*o(w+s*E));if(c===d3)return;let l=(i.x===s?0:2)|Number(i.y&d6),h=c;if(d&&c>n>>d6)h=c>n>>d6?o(-c):c,l^=1;return new f(s,h,l)}}}(e,i,s);return dN(t.hash.outputLen,t.nByteLength,t.hmac)(l,h)},verify:function(e,r,i,s=w){let c,l;if(r=dO("msgHash",r),i=dO("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:u,prehash:h}=s;try{if("string"==typeof e||dm(e))try{l=f.fromDER(e)}catch(t){if(!(t instanceof d2.Err))throw t;l=f.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;l=new f(t,r)}else throw Error("PARSE");c=a.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&l.hasHighS())return!1;h&&(r=t.hash(r));let{r:d,s:p}=l,g=y(r),m=dH(p,n),b=o(g*m),v=o(d*m),E=a.BASE.multiplyAndAddUnsafe(c,b,v)?.toAffine();return!!E&&o(E.x)===d},ProjectivePoint:a,Signature:f,utils:{isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=dZ(t.n);return function(e,t,r=!1){let n=e.length,i=dJ(t),s=dZ(t);if(n<16||n<s||n>1024)throw Error(`expected ${s}-1024 bytes of input, got ${n}`);let o=dq(r?dT(e):dI(e),t-dU)+dU;return r?dS(o,i):dC(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=a.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>dp(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];h5(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:dn});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:ft,n:d8,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-d9*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=fe(t*e,d8),o=fe(-r*e,d8),a=dq(e-s*t-o*n,d8),c=dq(-s*r-o*t,d8),l=a>i,u=c>i;if(l&&(a=d8-a),u&&(c=d8-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:a,k2neg:u,k2:c}}}},dd);BigInt(0),fr.ProjectivePoint;var fn=r(82957).lW;function fi(e){let t=fA(e),r=fA(t).slice(0,4);return a6(r=e.concat(r))}function fs(e){if("string"!=typeof e||e.length<=4)return!1;let t=a4(e);if(e.length<=4)return!1;let r=t.length-4,n=t.slice(r),i=fA(t=t.slice(0,r)),s=fA(i).slice(0,4);if(n[0]==s[0]&&n[1]==s[1]&&n[2]==s[2]&&n[3]==s[3])return t;throw Error("Invalid address provided")}function fo(e,t){"string"==typeof e&&(e=eo(e));let r=fE(eo(t.txID),e);return Array.isArray(t.signature)?t.signature.includes(r)||t.signature.push(r):t.signature=[r],t}function fa(e,t){return e="0x"+e.replace(/^0x/,""),t="0x"+t.replace(/^0x/,""),aV+nJ(aj(e),tE.from(t)).substring(2)}function fc(e){return btoa(String.fromCharCode(...e))}function fl(e,t){return"string"==typeof e&&(e=eo(e)),fE(fA(t),e)}function fu(e,t,r,n){let i=new nG(`0x${n.replace(/^0x/,"")}`),s=h6.hash(e,t,r),o=i.sign(s);return["0x",o.r.substring(2),o.s.substring(2),Number(o.v).toString(16)].join("")}function fh(e){let t=X(e);return globalThis.proto.protocol.Transaction.deserializeBinary(t).getRawData().serializeBinary()}function fd(){let e=Q(fr.utils.randomPrivateKey());return eo(e=e.padStart(64,"0"))}function ff(e){return 65===e.length&&(e=e.slice(1)),eo(aV+rU(new Uint8Array(e)).toString().substring(2).substring(24))}function fp(e){return ff(fw(e))}function fg(e){let t=a4(e);if(t.length<=4)return!1;let r=t.slice(0,t.length-4),n=fA(r),i=fA(n);return i[0]===t[r.length]&&i[1]===t[r.length+1]&&i[2]===t[r.length+2]&&i[3]===t[r.length+3]&&r}function fy(e){if("string"!=typeof e||e.length!==aq)return!1;let t=a4(e);if(25!==t.length||t[0]!==aH)return!1;let r=t.slice(21),n=fA(t=t.slice(0,21)),i=fA(n).slice(0,4);return r[0]==i[0]&&r[1]==i[1]&&r[2]==i[2]&&r[3]==i[3]}function fm(e){return fi(ff(fw(X(e))))}function fb(e){return Q(ff(fw(X(e))))}function fv(e){return ee(ff(fw(X(e))))}function fw(e){let t=fr.ProjectivePoint.fromPrivateKey(new Uint8Array(eo(Q(e).padStart(64,"0")))),r=t.x,n=t.y,i=r.toString(16).padStart(64,"0"),s=n.toString(16).padStart(64,"0");return eo(`04${i}${s}`)}function fE(e,t){let r=fr.sign(Q(e),Q(t)),n=r.r.toString(16),i=r.s.toString(16),s=r.recovery+27;return n.padStart(64,"0")+i.padStart(64,"0")+J(s)}function fA(e){return eo(ru("0x"+Q(e)).replace(/^0x/,""))}function f_(e){return fi(fp(X(e)))}function fP(e,t=!1){return fi(fp(eo(e,t)))}function fT(e,t=!0){return(t?"0x":"")+rU(fn.from(e,"utf-8")).toString().substring(2)}function fI(){let e=fd(),t=fw(e),r=fp(e);return{privateKey:Q(e),publicKey:Q(t),address:{base58:fi(r),hex:Q(r)}}}function fC(e="",t=aJ,r){let n=oK.createRandom(e,t,r);return{mnemonic:n.mnemonic,privateKey:n.privateKey,publicKey:n.signingKey.publicKey,address:fP(n.privateKey.replace(/^0x/,"")),path:n.path}}function fS(e,t=aJ,r="",n=null){if(!String(t).match(/^m\/44\'\/195\'/))throw Error("Invalid tron path provided");let i=oK.fromMnemonic(rY.fromPhrase(e,r,n),t);return{mnemonic:i.mnemonic,privateKey:i.privateKey,publicKey:i.signingKey.publicKey,address:fP(i.privateKey.replace(/^0x/,""))}}let fO="\x19TRON Signed Message:\n";function fx(e){return"string"==typeof e?e=rb(e):Array.isArray(e)&&(e=new Uint8Array(e)),rU(e9([rb(fO),rb(String(e.length)),e]))}function fR(e,t){t.match(/^0x/)||(t="0x"+t);let r=new nG(t),n=fx(e);return aL(r.sign(n))}function fM(e,t){return t.match(/^0x/)||(t="0x"+t),fi(eo(nJ(fx(e),t).replace(/^0x/,aV)))}var fB={...N,address:W,code:B,accounts:q,base58:U,bytes:M,crypto:$,abi:L,message:V,_TypedDataEncoder:h6,transaction:j,ethersUtils:k};(p=S||(S={}))[p.BANDWIDTH=0]="BANDWIDTH",p[p.ENERGY=1]="ENERGY",p[p.TRON_POWER=2]="TRON_POWER",(g=O||(O={})).ENOUGH_PERMISSION="ENOUGH_PERMISSION",g.NOT_ENOUGH_PERMISSION="NOT_ENOUGH_PERMISSION",g.SIGNATURE_FORMAT_ERROR="SIGNATURE_FORMAT_ERROR",g.COMPUTE_ADDRESS_ERROR="COMPUTE_ADDRESS_ERROR",g.PERMISSION_ERROR="PERMISSION_ERROR",g.OTHER_ERROR="OTHER_ERROR",(y=x||(x={}))[y.SUCCESS=0]="SUCCESS",y[y.SIGERROR=1]="SIGERROR",y[y.CONTRACT_VALIDATE_ERROR=2]="CONTRACT_VALIDATE_ERROR",y[y.CONTRACT_EXE_ERROR=3]="CONTRACT_EXE_ERROR",y[y.BANDWITH_ERROR=4]="BANDWITH_ERROR",y[y.DUP_TRANSACTION_ERROR=5]="DUP_TRANSACTION_ERROR",y[y.TAPOS_ERROR=6]="TAPOS_ERROR",y[y.TOO_BIG_TRANSACTION_ERROR=7]="TOO_BIG_TRANSACTION_ERROR",y[y.TRANSACTION_EXPIRATION_ERROR=8]="TRANSACTION_EXPIRATION_ERROR",y[y.SERVER_BUSY=9]="SERVER_BUSY",y[y.NO_CONNECTION=10]="NO_CONNECTION",y[y.NOT_ENOUGH_EFFECTIVE_CONNECTION=11]="NOT_ENOUGH_EFFECTIVE_CONNECTION",y[y.OTHER_ERROR=20]="OTHER_ERROR",(m=R||(R={}))[m.PENDING=0]="PENDING",m[m.DISAPPROVED=1]="DISAPPROVED",m[m.APPROVED=2]="APPROVED",m[m.CANCELED=3]="CANCELED"},55389:function(e,t,r){"use strict";function n(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}r.d(t,{E:function(){return n}})},8578:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(55389);function i(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=(0,n.E)(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return r}},93870:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var n=r(93393);function i(e,t="utf8"){let r=n.Z[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}},47783:function(e,t,r){"use strict";r.d(t,{BB:function(){return s.B},mL:function(){return i.m},zo:function(){return n.z}});var n=r(8578),i=r(93870),s=r(71243)},71243:function(e,t,r){"use strict";r.d(t,{B:function(){return i}});var n=r(93393);function i(e,t="utf8"){let r=n.Z[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}},93393:function(e,t,r){"use strict";r.d(t,{Z:function(){return eG}});var n={};r.r(n),r.d(n,{identity:function(){return M}});var i={};r.r(i),r.d(i,{base2:function(){return B}});var s={};r.r(s),r.d(s,{base8:function(){return N}});var o={};r.r(o),r.d(o,{base10:function(){return D}});var a={};r.r(a),r.d(a,{base16:function(){return k},base16upper:function(){return W}});var c={};r.r(c),r.d(c,{base32:function(){return U},base32hex:function(){return z},base32hexpad:function(){return q},base32hexpadupper:function(){return V},base32hexupper:function(){return $},base32pad:function(){return L},base32padupper:function(){return j},base32upper:function(){return F},base32z:function(){return H}});var l={};r.r(l),r.d(l,{base36:function(){return G},base36upper:function(){return K}});var u={};r.r(u),r.d(u,{base58btc:function(){return J},base58flickr:function(){return Z}});var h={};r.r(h),r.d(h,{base64:function(){return Y},base64pad:function(){return Q},base64url:function(){return X},base64urlpad:function(){return ee}});var d={};r.r(d),r.d(d,{base256emoji:function(){return ei}});var f={};r.r(f),r.d(f,{sha256:function(){return em},sha512:function(){return eb}});var p={};r.r(p),r.d(p,{identity:function(){return ev}});var g={};r.r(g),r.d(g,{code:function(){return eE},decode:function(){return e_},encode:function(){return eA},name:function(){return ew}});var y={};r.r(y),r.d(y,{code:function(){return eC},decode:function(){return eO},encode:function(){return eS},name:function(){return eI}});var m=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let b=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},v=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},w=e=>new TextEncoder().encode(e),E=e=>new TextDecoder().decode(e);class A{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class _{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return T(this,e)}}class P{constructor(e){this.decoders=e}or(e){return T(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let T=(e,t)=>new P({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class I{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new A(e,t,r),this.decoder=new _(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let C=({name:e,prefix:t,encode:r,decode:n})=>new I(e,t,r,n),S=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=m(r,t);return C({prefix:e,name:t,encode:n,decode:e=>v(i(e))})},O=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,l=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o},x=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},R=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>C({prefix:t,name:e,encode:e=>x(e,n,r),decode:t=>O(t,n,r,e)}),M=C({prefix:"\0",name:"identity",encode:e=>E(e),decode:e=>w(e)}),B=R({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),N=R({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),D=S({prefix:"9",name:"base10",alphabet:"0123456789"}),k=R({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),W=R({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),U=R({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=R({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L=R({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),j=R({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),z=R({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$=R({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),q=R({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V=R({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),H=R({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),G=S({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),K=S({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),J=S({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Z=S({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Y=R({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Q=R({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),X=R({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ee=R({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),et=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),er=et.reduce((e,t,r)=>(e[r]=t,e),[]),en=et.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),ei=C({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=er[t],"")},decode:function(e){let t=[];for(let r of e){let e=en[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var es=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},eo=function e(t,r){var n,i=0,r=r||0,s=0,o=r,a=t.length;do{if(o>=a)throw e.bytes=0,RangeError("Could not decode varint");n=t[o++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=o-r,i};let ea=(e,t=0)=>[eo(e,t),eo.bytes],ec=(e,t,r=0)=>(es(e,t,r),t),el=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,eu=(e,t)=>{let r=t.byteLength,n=el(e),i=n+el(r),s=new Uint8Array(i+r);return ec(e,s,0),ec(r,s,n),s.set(t,i),new ef(e,r,t,s)},eh=e=>{let t=v(e),[r,n]=ea(t),[i,s]=ea(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw Error("Incorrect length");return new ef(r,i,o,t)},ed=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&b(e.bytes,t.bytes);class ef{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let ep=({name:e,code:t,encode:r})=>new eg(e,t,r);class eg{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?eu(this.code,t):t.then(e=>eu(this.code,e))}throw Error("Unknown type, must be binary type")}}let ey=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),em=ep({name:"sha2-256",code:18,encode:ey("SHA-256")}),eb=ep({name:"sha2-512",code:19,encode:ey("SHA-512")}),ev={code:0,name:"identity",encode:v,digest:e=>eu(0,v(e))},ew="raw",eE=85,eA=e=>v(e),e_=e=>v(e),eP=new TextEncoder,eT=new TextDecoder,eI="json",eC=512,eS=e=>eP.encode(JSON.stringify(e)),eO=e=>JSON.parse(eT.decode(e));class ex{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:eF,byteLength:eF,code:eU,version:eU,multihash:eU,bytes:eU,_baseCache:eF,asCID:eF})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eN)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eD)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ex.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=eu(e,t);return ex.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ed(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eM(t,n,e||J.encoder):eB(t,n,e||U.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eL(/^0\.0/,ej),!!(e&&(e[eW]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ex)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new ex(t,r,n,i||ek(t,r,n.bytes))}if(null==e||!0!==e[eW])return null;{let{version:t,multihash:r,code:n}=e,i=eh(r);return ex.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eN)return new ex(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eN}) block encoding`);case 1:{let n=ek(e,t,r.bytes);return new ex(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return ex.create(0,eN,e)}static createV1(e,t){return ex.create(1,e,t)}static decode(e){let[t,r]=ex.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=ex.inspectBytes(e),r=t.size-t.multihashSize,n=v(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),s=new ef(t.multihashCode,t.digestSize,i,n);return[0===t.version?ex.createV0(s):ex.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ea(e.subarray(t));return t+=n,r},n=r(),i=eN;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){let[r,n]=eR(e,t),i=ex.decode(n);return i._baseCache.set(r,e),i}}let eR=(e,t)=>{switch(e[0]){case"Q":return[J.prefix,(t||J).decode(`${J.prefix}${e}`)];case J.prefix:return[J.prefix,(t||J).decode(e)];case U.prefix:return[U.prefix,(t||U).decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eM=(e,t,r)=>{let{prefix:n}=r;if(n!==J.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},eB=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},eN=112,eD=18,ek=(e,t,r)=>{let n=el(e),i=n+el(t),s=new Uint8Array(i+r.byteLength);return ec(e,s,0),ec(t,s,n),s.set(r,i),s},eW=Symbol.for("@ipld/js-cid/CID"),eU={writable:!1,configurable:!1,enumerable:!0},eF={writable:!1,enumerable:!1,configurable:!1},eL=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},ej=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,ez={...n,...i,...s,...o,...a,...c,...l,...u,...h,...d};({...f,...p});var e$=r(55389);function eq(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let eV=eq("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),eH=eq("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=(0,e$.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t});var eG={utf8:eV,"utf-8":eV,hex:ez.base16,latin1:eH,ascii:eH,binary:eH,...ez}},58274:function(e){"use strict";e.exports={i8:"6.6.0"}}}]);